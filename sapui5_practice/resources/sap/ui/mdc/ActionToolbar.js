/*
 * ! SAPUI5

		(c) Copyright 2009-2019 SAP SE. All rights reserved
	
 */
sap.ui.define(['sap/m/OverflowToolbar','sap/m/ToolbarSpacer','sap/m/ToolbarSeparator'],function(O,T,a){"use strict";var A=O.extend("sap.ui.mdc.ActionToolbar",{metadata:{library:"sap.ui.mdc",defaultAggregation:"actions",properties:{useAsHeader:{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{begin:{type:"sap.ui.core.Control",multiple:true},actions:{type:"sap.ui.core.Control",multiple:true},end:{type:"sap.ui.core.Control",multiple:true}}},renderer:{}});var _=["begin","actions","end"];function b(t,s){var i=_.indexOf(s);if(i>=0&&t._aSpacers){return i;}return-1;}function c(t,o){t._editctx=true;var r=t.addContent(o);t._editctx=false;return r;}function d(t,o,i){t._editctx=true;var r=t.insertContent(o,i);t._editctx=false;return r;}function e(t,o){t._editctx=true;var r=t.removeContent(o);t._editctx=false;return r;}function f(t){t._editctx=true;var r=t.destroyContent();t._editctx=false;return r;}function g(t,s){if(s==="content"&&!t._editctx){throw new Error("Mutator functions of the content aggregation of the ActionToolbar '"+t.getId()+"' must not be used.");}}A.prototype.init=function(){this._aSpacers=[new T(),new a({visible:false})];if(O.prototype.init){O.prototype.init.apply(this,arguments);}for(var i=0;i<this._aSpacers.length;i++){c(this,this._aSpacers[i]);}this.setUseAsHeader(true);};A.prototype.exit=function(){this._aSpacers=null;f(this);if(O.prototype.exit){O.prototype.exit.apply(this,arguments);}};A.prototype._getState=function(s){var i=b(this,s);if(i>=0){return{aggIdx:i,sepIdcs:this._aSpacers.map(function(S){return this.indexOfContent(S);}.bind(this))};}return null;};A.prototype._getSpacer=function(){return this._aSpacers[0];};A.prototype._getSeparator=function(){return this._aSpacers[1];};A.prototype.setUseAsHeader=function(h){this.setProperty("useAsHeader",h,true);this.toggleStyleClass("sapMTBHeader-CTX",!!h);return this;};A.prototype.indexOfAggregation=function(s,o){var i=this._getState(s);if(i){var I=this.indexOfContent(o);if(I<0){return-1;}var p=i.aggIdx==0?-1:i.sepIdcs[i.aggIdx-1];var n=i.aggIdx==2?this.getContent().length:i.sepIdcs[i.aggIdx];if(I<p||I>n){return-1;}return I-p-1;}return O.prototype.indexOfAggregation.apply(this,arguments);};A.prototype.getAggregation=function(s){var i=this._getState(s);if(i){var C=this.getContent();return C.slice(i.aggIdx===0?0:(i.sepIdcs[i.aggIdx-1]+1),i.aggIdx>=i.sepIdcs.length?C.length:i.sepIdcs[i.aggIdx]);}return O.prototype.getAggregation.apply(this,arguments);};A.prototype.addAggregation=function(s,o){var i=this._getState(s);if(i){if(!o){return this;}var I=this.indexOfContent(o);if(I>=0){e(this,o);this.addAggregation(s,o);}else{d(this,o,i.aggIdx>=i.sepIdcs.length?this.getContent().length:i.sepIdcs[i.aggIdx]);}return this;}g(this,s);return O.prototype.addAggregation.apply(this,arguments);};A.prototype.insertAggregation=function(s,o,i){var I=this._getState(s);if(I){if(!o){return this;}var h=this.indexOfContent(o);if(h>=0){h=this.indexOfAggregation(s,o);if(h>=0&&i>h){i--;}e(this,o);this.insertAggregation(s,o,i);}else{var l=this.getAggregation(s).length;if(i<0){h=0;}else if(i>l){h=l;}else{h=i;}var p=I.aggIdx==0?-1:I.sepIdcs[I.aggIdx-1];d(this,o,h+p+1);}return this;}g(this,s);return O.prototype.insertAggregation.apply(this,arguments);};A.prototype.removeAggregation=function(s,o){if(b(this,s)>=0){return e(this,o);}g(this,s);return O.prototype.removeAggregation.apply(this,arguments);};A.prototype.removeAllAggregation=function(s){if(b(this,s)>=0){var C=this.getAggregation(s);for(var i=0;i<C.length;i++){this.removeAggregation(s,C[i]);}return C;}g(this,s);return O.prototype.removeAllAggregation.apply(this,arguments);};A.prototype.destroyAggregation=function(s){if(b(this,s)>=0){var C=this.removeAllAggregation(s);for(var i=0;i<C.length;i++){C[i].destroy();}return this;}g(this,s);return O.prototype.destroyAggregation.apply(this,arguments);};A.prototype.propagateProperties=function(){var C=this.getContent();for(var i=0;i<C.length;i++){if(C[i].aAPIParentInfos){C[i].__aAPIParentInfos=C[i].aAPIParentInfos;C[i].aAPIParentInfos=null;}}var r=O.prototype.propagateProperties.apply(this,arguments);for(var i=0;i<C.length;i++){if(C[i].__aAPIParentInfos){C[i].aAPIParentInfos=C[i].__aAPIParentInfos;C[i].__aAPIParentInfos=null;}}return r;};return A;},true);
