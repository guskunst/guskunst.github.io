// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(['sap/ushell/User','sap/ushell/utils',"sap/ushell/Config"],function(U,u,C){"use strict";var a=function(s,p,A){var o,b,c,k;o=jQuery.sap.getObject("config",0,A);b={id:"DEFAULT_USER",firstName:"Default",lastName:"User",fullName:"Default User",accessibility:false,isJamActive:false,language:sap.ui.getCore().getConfiguration().getLanguage()||"en",bootTheme:{theme:"sap_fiori_3",root:""},themeRoot:"/sap/public/bc/themes/",setAccessibilityPermitted:true,setThemePermitted:true,isLanguagePersonalized:false,setContentDensityPermitted:true,trackUsageAnalytics:null};for(k in o){if(o.hasOwnProperty(k)){b[k]=o[k];}}this.getSystem=function(){return s;};this.getUser=function(){return c;};this.sessionKeepAlive=function(){console.warn("Demo container adapter sessionKeepAlive called");};this.load=function(){var d,e,f,D,g=new jQuery.Deferred();if(o&&typeof o.setUserCallback==="string"){D=new jQuery.Deferred();d=o.setUserCallback.split(".");e=d.pop();if(d.length===0){f=window;}else{f=jQuery.sap.getObject(d.join("."));}if(f&&typeof f[e]==="function"){f[e](D);}else{throw new u.Error("ContainerAdapter local platform: Cannot execute setUserCallback - "+o.setUserCallback);}D.done(function(h){["id","firstName","lastName","fullName"].forEach(function(v){if(h[v]&&typeof o.setUserCallback!=="function"){b[v]=h[v];}});c=new U(b);g.resolve();});}else{c=new U(b);g.resolve();}return g.promise();};this.logout=function(l){jQuery.sap.log.info("Demo system logged out: "+s.getAlias(),null,"sap.ushell.adapters.local.ContainerAdapter");u.reload();return(new jQuery.Deferred()).resolve().promise();};};return a;},true);
