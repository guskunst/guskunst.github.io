sap.ui.define(["sap/suite/ui/generic/template/changeHandler/util/ChangeHandlerUtils","sap/suite/ui/generic/template/changeHandler/util/AnnotationChangeUtilsV2","sap/suite/ui/generic/template/designtime/utils/DesigntimeUtils","sap/suite/ui/generic/template/designtime/virtualProperties/SectionType","./library.designtime"],function(U,A,D,S){"use strict";var F="com.sap.vocabularies.UI.v1.Facets";var C="com.sap.vocabularies.UI.v1.CollectionFacet";var R="com.sap.vocabularies.UI.v1.ReferenceFacet";var a={};a.getSectionProperties=function(s){var p=D.ignoreAllProperties(s),P={sectionType:{name:"Section Type",virtual:true,ignore:false,type:"EnumType",possibleValues:S.getSectionTypeValues(),get:function(s){return S.getSectionType(s);},set:function(s,v){return S.setSectionType(s,v);}}};return jQuery.extend(true,{},p,P);};a.getSmartTableProperties=function(s){var p=D.ignoreAllProperties(s);var P={useExportToExcel:{ignore:false}};return jQuery.extend(true,{},p,P);};a.getSectionAnnotationInfo=function(s){var e=U.getODataEntityType(U.getComponent(s));var f,b=e[F];var c=s.getId();c=c.split("--")[1];if(c){c=c.substring(0,c.lastIndexOf("::"));}var i=D.getFacetIndexFromID(c,b);if(i===undefined){return;}f=b[i];var o={};o.RecordType=f.RecordType;o.AnnotationPath=f.Target&&f.Target.AnnotationPath;return o;};a.getDesigntime=function(e){var r=sap.ui.getCore().getModel("i18nDesigntime").getResourceBundle();var s={name:{singular:function(){return r.getText("FE_SECTION");},plural:function(){return r.getText("FE_SECTIONS");}},actions:{rename:null},properties:D.ignoreAllProperties(e)};var t=U.getTemplatingInfo(e);if(!t){jQuery.extend(true,s,{actions:"not-adaptable"});return s;}var E={getCommonInstanceData:function(e){var t=U.getTemplatingInfo(e);if(t&&t.path){var T=t.target+'/'+t.path.substr(t.path.indexOf(F));return{target:T,annotation:t.annotation,qualifier:null};}},aggregations:{subSections:{childNames:{plural:function(){return r.getText("FE_SUB_SECTIONS");},singular:function(){return r.getText("FE_SUB_SECTION");}},actions:{move:"moveSubSection",createContainer:{changeType:"addSubSection",isEnabled:true,changeOnRelevantContainer:true,getCreatedContainerId:function(n){return n;}}}}},propagateRelevantContainer:true,propagateMetadata:function(e){switch(e.getMetadata().getElementName()){case"sap.m.ColumnListItem":return{properties:D.ignoreAllProperties(e),aggregations:{cells:{ignore:true}}};case"sap.ui.comp.smarttable.SmartTable":return{name:{singular:function(){return r.getText("FE_SECTION");}},properties:a.getSmartTableProperties(e),aggregations:{semanticKeyAdditionalControl:{ignore:true}}};}},properties:a.getSectionProperties(e),links:{developer:[{href:"/api/sap.uxap.ObjectPageSection",text:function(){return r.getText("FE_SECTIONS");}},{href:"/topic/facfea09018d4376acaceddb7e3f03b6",text:function(){return r.getText("FE_SDK_GUIDE_SECTIONS");}}]},actions:{remove:{changeType:"removeSection",changeOnRelevantContainer:true}},annotations:{referenceFacet:{namespace:"com.sap.vocabularies.UI.v1",annotation:"ReferenceFacet",defaultValue:null,whiteList:{properties:["Label","ID","Target"]},ignore:function(){var o=this.getSectionAnnotationInfo(e);if(o){return o.RecordType!==R;}}.bind(this),appliesTo:["ObjectPage/Sections"],group:["Appearance"],links:{developer:[{href:"/topic/facfea09018d4376acaceddb7e3f03b6.html",text:function(){return r.getText("FE_SDK_GUIDE_SECTIONS");}}]}},collectionFacet:{namespace:"com.sap.vocabularies.UI.v1",annotation:"CollectionFacet",defaultValue:null,ignore:function(){var o=this.getSectionAnnotationInfo(e);if(o){return o.RecordType!==C;}}.bind(this),whiteList:{properties:["Label","ID"]},appliesTo:["ObjectPage/Sections"],group:["Appearance"],links:{developer:[{href:"/topic/facfea09018d4376acaceddb7e3f03b6.html",text:"Defining and Adapting Sections"}]}}}};return jQuery.extend(true,s,E);};return a;});
