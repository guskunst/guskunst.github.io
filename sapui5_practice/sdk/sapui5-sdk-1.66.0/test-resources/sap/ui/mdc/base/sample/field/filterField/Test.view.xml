<mvc:View height="100%" controllerName="sap.ui.mdc.base.sample.field.filterField.Test"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:m="sap.m"
	xmlns:mdc="sap.ui.mdc.base"
	xmlns:mdcFB="sap.ui.mdc.base.filterbar"
	xmlns:l="sap.ui.layout"
	xmlns:form="sap.ui.layout.form"
	xmlns:c="sap.ui.core"
	xmlns:legend="sap.ui.core.feature.legend"
	xmlns:custom="sap.ui.mdc.base.sample.field.lib">

	<m:App id="MyApp" defaultTransitionName="show">
		<m:Page id="P0" title="FilterField" titleLevel="H1">
			<m:ScrollContainer vertical="true" height="67%">
				<form:SimpleForm layout="ColumnLayout" editable="true"
					columnsXL="4" columnsL="3" columnsM="2">
					<c:Title text="FilterFields"></c:Title>

					<m:Label text="single value field (ProductId)"></m:Label>
					<mdc:FilterField id="FF1"
						conditions="{cm>/conditions/ProductId}"
						display="Description"
						maxConditions="1"
						placeholder="{/#Product/ProductId/@sap:label}"
						valueState="{cm>/fieldPath/ProductId/valueState}"
						valueStateText="{cm>/fieldPath/ProductId/valueStateText}"
						change="handleChange"
						liveChange="handleLiveChange"
						fieldHelp="FVH1">
						<mdc:dependents>
							<mdc:FieldValueHelp id="FVH1"
								title="Product"
								filterFields="*ProductId,Name*"
								keyPath="ProductId"
								descriptionPath="Name">
								<mdc:FieldValueHelpMTableWrapper id="FVH1-W">
									<m:Table items="{path: '/ProductCollection'}" width="26rem">
										<m:columns>
											<m:Column>
												<m:Label text="{/#Product/ProductId/@sap:label}"></m:Label>
											</m:Column>
											<m:Column width="10rem">
												<m:Label text="{/#Product/Name/@sap:label}"></m:Label>
											</m:Column>
											<m:Column width="2rem">
												<m:Label text="Icon"></m:Label>
											</m:Column>
										</m:columns>
										<m:items>
											<m:ColumnListItem type="Active">
												<m:Text text="{ProductId}"></m:Text>
												<m:Text text="{Name}"></m:Text>
												<m:Image src="{= '../../../../../../../' + ${ProductPicUrl}}" height="1rem"></m:Image>
											</m:ColumnListItem>
										</m:items>
									</m:Table>
								</mdc:FieldValueHelpMTableWrapper>
							</mdc:FieldValueHelp>
						</mdc:dependents>
					</mdc:FilterField>

					<m:Label text="single value field in display mode  (ProductId)"></m:Label>
					<mdc:FilterField id="FF2"
						conditions="{cm>/conditions/ProductId}"
						display="Description"
						maxConditions="1"
						editMode="Display"
						placeholder="Placeholder"
						change="handleChange"
						liveChange="handleLiveChange"
						fieldHelp="FVH1">
					</mdc:FilterField>

					<m:Label text="multi value field (Name)"></m:Label>
					<mdc:FilterField
						id="FF3"
						conditions="{cm>/conditions/Name}"
						maxConditions="10"
						placeholder="{/#Product/Name/@sap:label}"
						valueState="{cm>/fieldPath/Name/valueState}"
						valueStateText="{cm>/fieldPath/Name/valueStateText}"
						change="handleChange"
						liveChange="handleLiveChange"
						fieldHelp="FVH1">
					</mdc:FilterField>

					<m:Label text="multi value field in display mode (Name)"></m:Label>
					<mdc:FilterField id="FF4"
						conditions="{cm>/conditions/Name}"
						maxConditions="10"
						editMode="Display"
						placeholder="Placeholder"
						change="handleChange"
						liveChange="handleLiveChange">
					</mdc:FilterField>

					<m:Label text="multi value field (Description)"></m:Label>
					<mdc:FilterField id="FF5"
						conditions="{cm>/conditions/Description}"
						maxConditions="3"
						placeholder="{/#Product/Description/@sap:label}"
						valueState="{cm>/fieldPath/Description/valueState}"
						valueStateText="{cm>/fieldPath/Description/valueStateText}"
						change="handleChange"
						liveChange="handleLiveChange"
						fieldHelp="FVH2">
						<mdc:dependents>
							<mdc:FieldValueHelp id="FVH2"
								title="{/#Product/Description/@sap:label}"
								filterFields="*Description*"
								keyPath="Description"
								descriptionPath="Description"
								showConditionPanel="true">
							</mdc:FieldValueHelp>
						</mdc:dependents>
						</mdc:FilterField>

					<m:Label text="multi value field in display mode (Description)"></m:Label>
					<mdc:FilterField id="FF6"
						conditions="{cm>/conditions/Description}"
						maxConditions="3"
						editMode="Display"
						placeholder="Placeholder"
						change="handleChange"
						liveChange="handleLiveChange">
					</mdc:FilterField>

					<m:Label text="single value field (DateTime)"></m:Label>
					<mdc:FilterField id="FF7"
						conditions="{cm>/conditions/DateTime}"
						dataType="Edm.DateTimeOffset"
						display="Description"
						maxConditions="1"
						placeholder="{/#Product/DateTime/@sap:label}"
						valueState="{cm>/fieldPath/DateTime/valueState}"
						valueStateText="{cm>/fieldPath/DateTime/valueStateText}"
						change="handleChange"
						liveChange="handleLiveChange">
					</mdc:FilterField>

					<m:Label text="single value field in display mode  (DateTime)"></m:Label>
					<mdc:FilterField id="FF8"
						conditions="{cm>/conditions/DateTime}"
						dataType="Edm.DateTimeOffset"
						maxConditions="1"
						editMode="Display"
						placeholder="Placeholder"
						change="handleChange"
						liveChange="handleLiveChange">
					</mdc:FilterField>

					<m:Label text="single value field (Status)"></m:Label>
					<mdc:FilterField id="FF9"
						conditions="{cm>/conditions/Status}"
						display="Description"
						maxConditions="1"
						placeholder="{/#Product/Status/@sap:label}"
						valueState="{cm>/fieldPath/Status/valueState}"
						valueStateText="{cm>/fieldPath/Status/valueStateText}"
						change="handleChange"
						liveChange="handleLiveChange"
						fieldHelp="FF9-H">
						<mdc:dependents>
							<mdc:ListFieldHelp id="FF9-H"
									items="{path: '/StatusCollection'}" >
								<c:ListItem text="{Name}" key="{StatusId}"/>
							</mdc:ListFieldHelp>
						</mdc:dependents>
					</mdc:FilterField>

					<m:Label text="single value field in display mode  (Status)"></m:Label>
					<mdc:FilterField id="FF10"
						conditions="{cm>/conditions/Status}"
						maxConditions="1"
						editMode="Display"
						placeholder="Placeholder"
						change="handleChange"
						liveChange="handleLiveChange">
					</mdc:FilterField>

					<m:Label text="multi (2) value field (Quantity)"></m:Label>
					<mdc:FilterField id="FF11"
						conditions="{cm>/conditions/Quantity}"
						display="Description"
						maxConditions="2"
						placeholder="{/#Product/Quantity/@sap:label}"
						valueState="{cm>/fieldPath/Quantity/valueState}"
						valueStateText="{cm>/fieldPath/Quantity/valueStateText}"
						change="handleChange"
						liveChange="handleLiveChange">
					</mdc:FilterField>

					<m:Label text="multi value field in display mode  (Quantity)"></m:Label>
					<mdc:FilterField id="FF12"
						conditions="{cm>/conditions/Quantity}"
						maxConditions="2"
						editMode="Display"
						placeholder="Placeholder"
						change="handleChange"
						liveChange="handleLiveChange">
					</mdc:FilterField>

					<m:Label text="Custom field"></m:Label>
					<mdc:FilterField id="FF13"
						conditions="{cm>/conditions/Status}"
						display="Description"
						maxConditions="1"
						placeholder="{/#Product/Status/@sap:label}"
						valueState="{cm>/fieldPath/Status/valueState}"
						valueStateText="{cm>/fieldPath/Status/valueStateText}"
						change="handleChange"
						liveChange="handleLiveChange">
						<custom:CustomFilter id="FF13-Custom"
							conditions="{$field>/conditions}"
							maxConditions="{$field>/maxConditions}"
						/>
					</mdc:FilterField>
<!--
					<m:Label text="single value field (Status) with custom Filter on ValueHelp"></m:Label>
					<mdc:FilterField id="FF14"
						conditions="{cm>/conditions/Status}"
						display="Description"
						maxConditions="1"
						placeholder="{/#Product/Status/@sap:label}"
						valueState="{cm>/fieldPath/Status/valueState}"
						valueStateText="{cm>/fieldPath/Status/valueStateText}"
						change="handleChange"
						liveChange="handleLiveChange"
						fieldHelp="FF14-H">
						<mdc:dependents>
							<mdc:FieldValueHelp id="FF14-H"
								title="Status"
								filterFields="*Name*"
								keyPath="StatusId"
								descriptionPath="Name"
								showConditionPanel="true">
								<mdc:content>
									<mdc:FieldValueHelpMTableWrapper id="FF14-W">
										<m:Table items="{path: '/StatusCollection'}" width="26rem">
											<m:columns>
												<m:Column>
													<m:Label text="{/#Status/StatusId/@sap:label}"></m:Label>
												</m:Column>
												<m:Column width="10rem">
													<m:Label text="{/#Status/Name/@sap:label}"></m:Label>
												</m:Column>
											</m:columns>
											<m:items>
												<m:ColumnListItem type="Active">
													<m:Text text="{StatusId}"></m:Text>
													<m:Text text="{Name}"></m:Text>
												</m:ColumnListItem>
											</m:items>
										</m:Table>
									</mdc:FieldValueHelpMTableWrapper>
								</mdc:content>
								<mdc:filterBar>
									<custom:CustomFilter id="FF14-Custom"
										conditions="{filter>/conditions/StatusId}"
										maxConditions="3"
										change="handleGo"
									/>
								</mdc:filterBar>
							</mdc:FieldValueHelp>
						</mdc:dependents>
					</mdc:FilterField>
-->
					<c:Title text="In/Out Example"></c:Title>
					<m:Label text="Country"></m:Label>
					<mdc:FilterField
						id="IOFFCountry"
						conditions="{cm>/conditions/CountryId}"
						dataType="sap.ui.model.type.String"
						dataTypeConstraints="{maxLength: 3}"
						display="ValueDescription"
						valueState="{cm>/fieldPath/CountryId/valueState}"
						valueStateText="{cm>/fieldPath/CountryId/valueStateText}"
						fieldHelp="IOFFVHCountry">
						<mdc:dependents>
								<mdc:FieldValueHelp id="IOFFVHCountry"
									title="Countries"
									showConditionPanel="true"
									filterFields="*countryId,text*"
									keyPath="countryId"
									descriptionPath="text">
									<mdc:FieldValueHelpMTableWrapper >
										<m:Table items="{path: '/CountryCollection'}" width="26rem">
											<m:columns>
												<m:Column>
													<m:Label text="Country"></m:Label>
												</m:Column>
												<m:Column>
													<m:Label text="Name"></m:Label>
												</m:Column>
											</m:columns>
											<m:items>
												<m:ColumnListItem type="Active">
													<m:Text text="{countryId}"></m:Text>
													<m:Text text="{text}"></m:Text>
												</m:ColumnListItem>
											</m:items>
										</m:Table>
									</mdc:FieldValueHelpMTableWrapper>
								</mdc:FieldValueHelp>
						</mdc:dependents>
					</mdc:FilterField>

					<m:Label text="Region"></m:Label>
					<mdc:FilterField
						id="IOFFRegion"
						conditions="{cm>/conditions/RegionId}"
						dataType="sap.ui.model.type.String"
						dataTypeConstraints="{maxLength: 2, search: '^[0-9]+$'}"
						display="ValueDescription"
						valueState="{cm>/fieldPath/RegionId/valueState}"
						valueStateText="{cm>/fieldPath/RegionId/valueStateText}"
						fieldHelp="IOFFVHRegion">
						<mdc:dependents>
								<mdc:FieldValueHelp id="IOFFVHRegion"
									title="Regions"
									showConditionPanel="true"
									filterFields="*regionId,countryId,text*"
									keyPath="regionId"
									descriptionPath="text">
									<mdc:inParameters>
										<mdc:InParameter id="IOFFVHRegion-In-Country" value="{cm>/conditions/CountryId}" helpPath="countryId"/>
									</mdc:inParameters>
									<mdc:outParameters>
										<mdc:OutParameter id="IOFFVHRegion-Out-Country" value="{cm>/conditions/CountryId}" helpPath="countryId"/>
									</mdc:outParameters>
									<mdc:filterBar>
										<mdcFB:FilterBar
											liveMode= "true"
											supportP13N= "false">
											<mdc:FilterField
												id="VHFFBTextFFCountry"
												label= "Country"
												editMode= "Editable"
												display= "ValueDescription"
												dataType="sap.ui.model.type.String"
												width="100%"
												conditions="{$filters>/conditions/countryId}"
												valueState="{ path: '$filters>/fieldPath/countryId/valueState'}"
												valueStateText="{ path: '$filters>/fieldPath/countryId/valueStateText'}">
											</mdc:FilterField>
										</mdcFB:FilterBar>
									</mdc:filterBar>
									<mdc:FieldValueHelpMTableWrapper >
										<m:Table items="{path: '/RegionCollection'}" width="26rem">
											<m:columns>
												<m:Column>
													<m:Label text="Region"></m:Label>
												</m:Column>
												<m:Column>
													<m:Label text="Name"></m:Label>
												</m:Column>
												<m:Column>
													<m:Label text="Country"></m:Label>
												</m:Column>
											</m:columns>
											<m:items>
												<m:ColumnListItem type="Active">
													<m:Text text="{regionId}"></m:Text>
													<m:Text text="{text}"></m:Text>
													<m:Text text="{countryId}"></m:Text>
												</m:ColumnListItem>
											</m:items>
										</m:Table>
									</mdc:FieldValueHelpMTableWrapper>
								</mdc:FieldValueHelp>
						</mdc:dependents>
					</mdc:FilterField>

					<m:Label text="City"></m:Label>
					<mdc:FilterField
						id="IOFFCity"
						conditions="{cm>/conditions/CityId}"
						dataType="sap.ui.model.type.String"
						dataTypeConstraints="{maxLength: 2, search: '^[0-9]+$'}"
						display="ValueDescription"
						valueState="{cm>/fieldPath/CityId/valueState}"
						valueStateText="{cm>/fieldPath/CityId/valueStateText}"
						fieldHelp="IOFFVHCity">
						<mdc:dependents>
								<mdc:FieldValueHelp id="IOFFVHCity"
									title="Cities"
									showConditionPanel="true"
									filterFields="*countryId,regionId,cityId,text*"
									keyPath="cityId"
									descriptionPath="text">
									<mdc:inParameters>
										<mdc:InParameter id="IOFFVHCity_In-Country" value="{cm>/conditions/CountryId}" helpPath="countryId"/>
										<mdc:InParameter id="IOFFVHCity_In-Region" value="{cm>/conditions/RegionId}" helpPath="regionId"/>
									</mdc:inParameters>
									<mdc:outParameters>
										<mdc:OutParameter id="IOFFVHCity_Out-Country" value="{cm>/conditions/CountryId}" helpPath="countryId" mode="Always"/>
										<mdc:OutParameter id="IOFFVHCity_Out-Region" value="{cm>/conditions/RegionId}" helpPath="regionId" mode="Always"/>
									</mdc:outParameters>
									<mdc:filterBar>
										<mdcFB:FilterBar
											liveMode= "true"
											supportP13N= "false">
											<mdc:FilterField
												id="VHFFBTextFFCountry2"
												label= "Country"
												editMode= "Editable"
												display= "ValueDescription"
												dataType="sap.ui.model.type.String"
												width="100%"
												conditions="{$filters>/conditions/countryId}"
												valueState="{ path: '$filters>/fieldPath/countryId/valueState'}"
												valueStateText="{ path: '$filters>/fieldPath/countryId/valueStateText'}">
											</mdc:FilterField>
											<mdc:FilterField
												id="VHFFBTextFFRegion2"
												label= "Region"
												editMode= "Editable"
												display= "ValueDescription"
												dataType="sap.ui.model.type.String"
												width="100%"
												conditions="{$filters>/conditions/regionId}"
												valueState="{ path: '$filters>/fieldPath/regionId/valueState'}"
												valueStateText="{ path: '$filters>/fieldPath/regionId/valueStateText'}">
											</mdc:FilterField>
										</mdcFB:FilterBar>
									</mdc:filterBar>
									<mdc:FieldValueHelpMTableWrapper >
										<m:Table items="{path: '/CityCollection'}" width="26rem">
											<m:columns>
												<m:Column>
													<m:Label text="City"></m:Label>
												</m:Column>
												<m:Column>
													<m:Label text="Name"></m:Label>
												</m:Column>
												<m:Column>
													<m:Label text="Country"></m:Label>
												</m:Column>
												<m:Column>
													<m:Label text="Region"></m:Label>
												</m:Column>
											</m:columns>
											<m:items>
												<m:ColumnListItem type="Active">
													<m:Text text="{cityId}"></m:Text>
													<m:Text text="{text}"></m:Text>
													<m:Text text="{countryId}"></m:Text>
													<m:Text text="{regionId}"></m:Text>
												</m:ColumnListItem>
											</m:items>
										</m:Table>
									</mdc:FieldValueHelpMTableWrapper>
								</mdc:FieldValueHelp>
						</mdc:dependents>
					</mdc:FilterField>

					<c:Title text="Condition Model"></c:Title>

					<m:Label text="Conditions"></m:Label>
					<m:TextArea id="Cond" editable="false" rows="10"></m:TextArea>

				</form:SimpleForm>
			</m:ScrollContainer>
			<m:ScrollContainer vertical="true" height="33%">
				<m:Table id="myTable" items="{path: '/ProductCollection'}" width="100%">
					<m:columns>
						<m:Column width="8rem">
							<m:Label text="{/#Product/ProductId/@sap:label}"></m:Label>
						</m:Column>
						<m:Column width="12rem">
							<m:Label text="{/#Product/Name/@sap:label}"></m:Label>
						</m:Column>
						<m:Column minScreenWidth="Desktop" demandPopin="true">
							<m:Label text="{/#Product/Description/@sap:label}"></m:Label>
						</m:Column>
						<m:Column width="12rem" minScreenWidth="Desktop" demandPopin="true">
							<m:Label text="{/#Product/DateTime/@sap:label}"></m:Label>
						</m:Column>
						<m:Column width="8rem" minScreenWidth="Desktop" demandPopin="true">
							<m:Label text="{/#Product/Status/@sap:label}"></m:Label>
						</m:Column>
						<m:Column width="2rem" minScreenWidth="Desktop" demandPopin="true">
							<m:Label text="{/#Product/Quantity/@sap:label}"></m:Label>
						</m:Column>
						<m:Column width="3rem" minScreenWidth="Desktop" demandPopin="true">
							<m:Label text="{/#Product/CountryId/@sap:label}"></m:Label>
						</m:Column>
						<m:Column width="2rem" minScreenWidth="Desktop" demandPopin="true">
							<m:Label text="{/#Product/RegionId/@sap:label}"></m:Label>
						</m:Column>
						<m:Column width="2rem" minScreenWidth="Desktop" demandPopin="true">
							<m:Label text="{/#Product/CityId/@sap:label}"></m:Label>
						</m:Column>
					</m:columns>
					<m:items>
						<m:ColumnListItem type="Active">
							<m:Text id="T-F1" text="{ProductId}" />
							<m:Text id="T-F2" text="{Name}"/>
							<m:Text id="T-F3" text="{Description}"/>
							<m:Text id="T-F5" text="{path:'DateTime', type:'sap.ui.model.type.DateTime'}"/>
							<m:Text id="T-F6" text="{Status}"/>
							<m:Text id="T-F7" text="{Quantity}"/>
							<m:Text id="T-F8" text="{CountryId}"/>
							<m:Text id="T-F9" text="{RegionId}"/>
							<m:Text id="T-F10" text="{CityId}"/>
						</m:ColumnListItem>
					</m:items>
				</m:Table>
			</m:ScrollContainer>
			<m:footer>
				<m:Bar>
					<m:contentLeft>
						<c:Icon id="MyIcon"></c:Icon>
						<m:Text id="MyText" text="Event" width="400px" wrapping="false"></m:Text>
					</m:contentLeft>
					<m:contentRight>
						<c:Icon id="MyIconRight"></c:Icon>
						<m:Text id="MyTextRight" text="LiveChange" width="400px" wrapping="false"></m:Text>
					</m:contentRight>
				</m:Bar>
			</m:footer>
		</m:Page>
	</m:App>

</mvc:View>
