/*!
 * SAPUI5

		(c) Copyright 2009-2019 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/mdc/odata/v4/ChartDelegate","sap/ui/fl/changeHandler/Base"],function(M,F){"use strict";var r=function(c){clearTimeout(r.iTimer);r.iTimer=setTimeout(function(){if(c&&c.isA&&c.isA("sap.ui.mdc.Chart")){c._rebind();}});};var C={};C.removeItem={"changeHandler":{applyChange:function(c,o,p){var m=p.modifier;var a=c.getContent();var b=m.getSelector(a.id,p.appComponent);var i=m.bySelector(b,p.appComponent,p.view);var I=m.findIndexInParentAggregation(i);if(!i){F.markAsNotApplicable("Specified change is already existing",true);}m.removeAggregation(o,"items",i);m.destroy(i);var A=M.retrieveAggregationItem("items,",a);c.setRevertData({id:a.id,label:m.getProperty(i,"label"),settings:A.settings,controlSelector:b,index:I,role:a.role});},completeChangeContent:function(c,m,p){if((!c.getContent()||!c.getContent().id)&&m.removedElement){c.setContent(m.removedElement);}},revertChange:function(c,o,p){var m=p.modifier;var R=c.getRevertData();var a=M.retrieveAggregationItem("items",R);var b=R.controlSelector;var i=m.bySelector(b,p.appComponent,p.view);if(!i){i=m.createControl(a.className,p.appComponent,p.view,R.id,a.settings);i.setProperty("role",R.role);var I=m.getAggregation(o,"items");var d=R.index>-1?R.index:I.length;m.insertAggregation(o,"items",i,d);}c.resetRevertData();if(!R.preventRebind){r(o);}}},"layers":{"USER":true}};C.addItem={"changeHandler":{applyChange:function(c,o,p){var m=p.modifier;var a=c.getContent();var i=m.getControlIdBySelector(c.getSelector(),p.appComponent)+"--"+a.name;var b=m.getSelector(i,p.appComponent);var A=M.retrieveAggregationItem("items,",a);var I=m.bySelector(b,p.appComponent,p.view);if(!I){I=m.createControl(A.className,p.appComponent,p.view,i,A.settings);I.setProperty("role",a.role);var d=m.getAggregation(o,"items");var e=a.index>-1?a.index:d.length;m.insertAggregation(o,"items",I,e);}else{F.markAsNotApplicable("Specified change is already existing",true);}c.setRevertData({id:a.id,item:i,role:a.role});if(!a.preventRebind){r(o);}},completeChangeContent:function(c,m,p){},revertChange:function(c,o,p){var m=p.modifier;var R=c.getRevertData();var a=m.getSelector(R.item,p.appComponent);var i=m.bySelector(a,p.appComponent,p.view);m.removeAggregation(o,"items",i);m.destroy(i);c.resetRevertData();}},"layers":{"USER":true}};return C;});
