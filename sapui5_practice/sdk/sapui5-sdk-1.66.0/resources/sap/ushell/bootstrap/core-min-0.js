//@ui5-bundle sap/ushell/bootstrap/core-min-0.js
sap.ui.predefine('sap/ushell/CanvasShapesManager',function(){"use strict";var P=function(x,y){this.x=x||0;this.y=y||0;};P.prototype.getDistance=function(p){var x=this.x-p.x;var y=this.y-p.y;return Math.floor(Math.sqrt(x*x+y*y));};P.prototype.getSegment=function(o){if(this.x<=o.x&&this.y<=o.y){return 1;}if(this.x<=o.x&&this.y>=o.y){return 2;}if(this.x>=o.x&&this.y>=o.y){return 3;}if(this.x>=o.x&&this.y<=o.y){return 4;}};P.prototype.offset=function(o,O){this.x=this.x+o;this.y=this.y+O;};var R=function(x,X,y,Y){this.x={min:x,max:X};this.y={min:y,max:Y};};var c=(window.innerWidth>0)?window.innerWidth:screen.width;var a=(window.innerHeight>0)?window.innerHeight:screen.height;var b={cpr1:new R(0,c/4,0,a/4),cpr2:new R(c/2,c,0,a/4),cpr3:new R(c/4,3*c/4,a*3/4,a)};var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(d){return setTimeout(d,1);};var m=function(){this.init();};m.prototype={radiusRange:{min:800,max:900},init:function(){this.Id="shell-shapes";var d={cpr1:b.cpr1,cpr2:b.cpr2,cpr3:b.cpr3},e,f,s,g,i=sap.ui.Device.system.phone;this.shapes=[];var h;for(h in d){e=Math.random(this.radiusRange.max-this.radiusRange.min)+this.radiusRange.min;f=this.getRandomPoint(d[h]);s=this._getSquarePoints(e,f);g=this._calculatebezierCurves(e,s);this.shapes.push({bezierCurves:g,centerPoint:f});}for(var j in this.shapes){var v=this._generateRandomAmorphousShapeValues();this.shapes[j]=this.makeAmorphousShape(this.shapes[j],v.edge0.edgeNum,v.edge0.xOffSet,v.edge0.yOffSet,v.edge0.xStretch);this.shapes[j]=this.makeAmorphousShape(this.shapes[j],v.edge1.edgeNum,v.edge1.xOffSet,v.edge1.yOffSet,v.edge1.xStretch);}sap.ui.Device.resize.attachHandler(this.resizeHandler,this);if(!i){sap.ui.getCore().getEventBus().subscribe("launchpad","afterSwitchState",this.startAnimation,this);}},_generateRandomAmorphousShapeValues:function(){var v={edge0:{edgeNum:0,xOffSet:0,yOffSet:0,xStretch:0},edge1:{edgeNum:0,xOffSet:0,yOffSet:0,xStretch:0}};var n=this._getRandomInt(0,3);for(var e in v){v[e].edgeNum=n;v[e].xOffSet=this._getRandomInt(200,400);v[e].yOffSet=this._getRandomInt(-200,-400);n+=this._getRandomInt(0,1)<0.5?-1:1;if(n===-1){n=3;}if(n===4){n=0;}}n=this._getRandomInt(0,1);if(n<0.5){n=n<0.25?0:1;v["edge"+n].xStretch=this._getRandomInt(0,200);}return v;},getPoint:function(x,y){return new P(x,y);},getRandomPoint:function(d){var x=Math.floor(Math.random()*(d.x.max-d.x.min)+d.x.min),y=Math.floor(Math.random()*(d.y.max-d.y.min)+d.y.min);return new P(x,y);},resizeHandler:function(){var d=jQuery('#'+this.Id)[0];if(d){d.width=window.innerWidth;d.height=window.innerHeight;this.drawShapes();}},enableAnimationDrawing:function(e){this._enableDrawing=e;},startAnimation:function(e,d,D){if(!this._enableDrawing){return;}var f=2500;var t,g=this.shapes[0].centerPoint.x,h=this.shapes[1].centerPoint.x,i=this.shapes[2].centerPoint.x,j,k=parseFloat(jQuery("body").css("font-size")),T=D.getParameter('to'),F=D.getParameter('from');if(!this.leftOffset||!this.rigthOffset){this.setTranslateOffset();}if(sap.ui.getCore().getConfiguration().getRTL()){if(T==="RightCenter"){T="LeftCenter";}else if(T==="LeftCenter"){T="RightCenter";}if(F==="RightCenter"){F="LeftCenter";}else if(F==="LeftCenter"){F="RightCenter";}}if(T==="RightCenter"){j=1;t=this.rigthOffset*k;}if(T==="LeftCenter"){j=-1;t=this.leftOffset*k;}if(T==="Center"){if(F==="RightCenter"){j=-1;t=this.rigthOffset*k;}if(F==="LeftCenter"){j=1;t=this.leftOffset*k;}}this.animateTranslation(g,h,i,t,f,j);},setTranslateOffset:function(){var t=sap.ui.core.theming.Parameters,l,s;if(window.matchMedia('(min-width: 1920px)').matches){l=t.get('sapUshellLeftViewPortWidthL');s=t.get('sapUshellRightViewPortWidthXXL');}else if(window.matchMedia('(min-width: 1600px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthXL');}else if(window.matchMedia('(min-width: 1440px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthL');}else if(window.matchMedia('(min-width: 1280px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthM');}else if(window.matchMedia('(min-width: 1024px)').matches){l=t.get('sapUshellLeftViewPortWidthXS');s=t.get('sapUshellRightViewPortWidthS');}else if(window.matchMedia('(min-width: 601px)').matches){l=t.get('sapUshellLeftViewPortWidthXS');s=t.get('sapUshellRightViewPortWidthXS');}else if(window.matchMedia('(max-width : 600px)').matches){l=(jQuery(window).width()/parseFloat(jQuery("body").css("font-size")))+"";s=(jQuery(window).width()/parseFloat(jQuery("body").css("font-size")))+"";}this.leftOffset=parseInt(l.replace("rem",""),10);this.rigthOffset=parseInt(s.replace("rem",""),10);},animateTranslation:function(d,e,f,t,g,h){var s=new Date().getTime();var i=s+g,j=t,k=t/4,l=t/2,o,n,p,q=this;var u=function(){var v=new Date().getTime(),w=1-Math.pow(1-Math.min((g-(i-v))/g,1),5);o=d+h*k*w;n=e+h*l*w;p=f+h*j*w;q.updateShapes(o,n,p);q.drawShapes();if(w<1){r(u);}};return u();},updateShapes:function(o,d,e){var t=this,f=this.shapes[0].centerPoint.x-o,g=this.shapes[1].centerPoint.x-d,h=this.shapes[2].centerPoint.x-e;this.shapes[0].centerPoint=new P(o,this.shapes[0].centerPoint.y);this.shapes[1].centerPoint=new P(d,this.shapes[1].centerPoint.y);this.shapes[2].centerPoint=new P(e,this.shapes[2].centerPoint.y);this.shapes[0].bezierCurves.forEach(function(i,I){t.shapes[0].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+f,i.controlPoint1.y);t.shapes[0].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+f,i.controlPoint2.y);t.shapes[0].bezierCurves[I].startPoint=new P(i.startPoint.x+f,i.startPoint.y);t.shapes[0].bezierCurves[I].endPoint=new P(i.endPoint.x+f,i.endPoint.y);});this.shapes[1].bezierCurves.forEach(function(i,I){t.shapes[1].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+g,i.controlPoint1.y);t.shapes[1].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+g,i.controlPoint2.y);t.shapes[1].bezierCurves[I].startPoint=new P(i.startPoint.x+g,i.startPoint.y);t.shapes[1].bezierCurves[I].endPoint=new P(i.endPoint.x+g,i.endPoint.y);});this.shapes[2].bezierCurves.forEach(function(i,I){t.shapes[2].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+h,i.controlPoint1.y);t.shapes[2].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+h,i.controlPoint2.y);t.shapes[2].bezierCurves[I].startPoint=new P(i.startPoint.x+h,i.startPoint.y);t.shapes[2].bezierCurves[I].endPoint=new P(i.endPoint.x+h,i.endPoint.y);});},makeAmorphousShape:function(s,d,x,y,e){var f,g,h;switch(d){case 0:f=s.bezierCurves[0].controlPoint1;g=s.bezierCurves[3].controlPoint2;h=this._rotatePoints(x,y,f,g);s.bezierCurves[0].controlPoint1=h[0];s.bezierCurves[3].controlPoint2=h[1];break;case 1:f=s.bezierCurves[0].controlPoint2;g=s.bezierCurves[1].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[0].controlPoint2=h[0];s.bezierCurves[1].controlPoint1=h[1];break;case 2:f=s.bezierCurves[1].controlPoint2;g=s.bezierCurves[2].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[1].controlPoint2=h[0];s.bezierCurves[2].controlPoint1=h[1];break;case 3:f=s.bezierCurves[2].controlPoint2;g=s.bezierCurves[3].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[2].controlPoint2=h[0];s.bezierCurves[3].controlPoint1=h[1];break;}return s;},_rotatePoints:function(d,e,f,g){var x,y,h=[];x=f.x+d;y=f.y+e;h.push(new P(x,y));x=g.x-d;y=g.y-e;h.push(new P(x,y));return h;},_getSquarePoints:function(d,e){var s=[];s[0]=new P(e.x+d,e.y);s[1]=new P(e.x,e.y-d);s[2]=new P(e.x-d,e.y);s[3]=new P(e.x,e.y+d);return s;},_getRandomInt:function(d,e){if(d==0&&e==1){return Math.random();}return Math.floor(Math.random()*(e-d+1))+d;},_calculatebezierCurves:function(d,s){var e=[];var f;var g;var h,i;i=s[0];h=s[1];f=new P(i.x,i.y-d/2);g=new P(i.x-d/2,i.y-d);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[1];h=s[2];f=new P(i.x-d/2,i.y);g=new P(i.x-d,i.y+d/2);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[2];h=s[3];f=new P(i.x,i.y+d/2);g=new P(i.x+d/2,i.y+d);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[3];h=s[0];f=new P(i.x+d/2,i.y);g=new P(i.x+d,i.y-d/2);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});return e;},drawShapes:function(){var d=jQuery('#'+this.Id)[0],B=sap.ui.core.theming.Parameters.get("sapUshellShellBackgroundShapesColor");if(d&&d.getContext){var e=d.getContext('2d'),s,f,g,h;e.clearRect(0,0,c*2,a*2);if(B){for(var j=0;j<this.shapes.length;j++){e.beginPath();s=this.shapes[j].bezierCurves[0].startPoint;e.moveTo(s.x,s.y);for(var i=0;i<this.shapes[j].bezierCurves.length;i++){f=this.shapes[j].bezierCurves[i].endPoint;g=this.shapes[j].bezierCurves[i].controlPoint1;h=this.shapes[j].bezierCurves[i].controlPoint2;e.bezierCurveTo(Math.floor(g.x),Math.floor(g.y),Math.floor(h.x),Math.floor(h.y),Math.floor(f.x),Math.floor(f.y));}e.closePath();e.fillStyle=B;e.fill();}}}}};var C=new m();return C;},true);
sap.ui.predefine('sap/ushell/components/DestroyHelper',[],function(){"use strict";function d(t){var i;if(t&&t.content){for(i=0;i<t.content.length;i++){if(t.content[i].destroy){t.content[i].destroy();}}}}function a(t){var i;if(t){for(i=0;i<t.length;i++){d(t[i]);}}}function b(A){if(A){a(A.tiles);}}function c(A){var i;if(A){for(i=0;i<A.length;i++){b(A[i]);}}}return{destroyFLPAggregationModel:b,destroyFLPAggregationModels:c,destroyTileModel:d,destroyTileModels:a};});
sap.ui.predefine('sap/ushell/components/GroupsHelper',[],function(){'use strict';return{getIndexOfGroup:a,getModelPathOfGroup:g};function g(G,s){var i=a(G,s);if(i<0){return null;}return"/groups/"+i;}function a(G,s){for(var i=0;i<G.length;i++){if(G[i].groupId===s)return i;}return-1;}});
sap.ui.predefine('sap/ushell/components/MessagingHelper',["sap/ushell/services/Message"],function(M){'use strict';return{getLocalizedText:g,showLocalizedError:a,showLocalizedErrorHelper:b,showLocalizedMessage:s};function g(m,p){return sap.ushell.resources.i18n.getText(m,p);}function s(m,p,t){if(sap.ushell.Container){sap.ushell.Container.getService("Message").show(t||M.Type.INFO,g(m,p),p);}}function a(m,p){s(m,p,M.Type.ERROR);}function b(m,p){return function(){a(m,p);};}});
sap.ui.predefine('sap/ushell/ui/shell/ToolAreaItem',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/IconPool','sap/ushell/EventHub','sap/ushell/library'],function(q,C,I,E){"use strict";var T=C.extend("sap.ushell.ui.shell.ToolAreaItem",{metadata:{properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},text:{type:"string",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},expandable:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{},expand:{}}},renderer:{render:function(r,t){var i;r.write("<div");r.writeControlData(t);if(!t.getIcon()){r.addClass("sapUshellToolAreaItmTextOnly");}else{r.addClass("sapUshellToolAreaItm");}if(!t.getVisible()){r.addClass("sapUshellShellHidden");}if(t.getAriaLabel()){r.writeAccessibilityState({label:this.getAriaLabel(),role:"button"});}r.writeClasses();var a=t.getTooltip_AsString();if(a){r.writeAttributeEscaped("title",a);}r.write(">");if(t.getIcon()){i=I.createControlByURI(t.getIcon());i.setUseIconTooltip(false);i.addStyleClass("sapUshellToolAreaItemIcon");r.renderControl(i);}if(t.getText()){r.write("<span");r.addClass("sapUshellToolAreaItemText");r.writeClasses();r.write(">");r.writeEscaped(t.getText());r.write("</span>");}if(t.getExpandable()){this.renderExpandable(r);}r.write("</div>");},renderExpandable:function(r){var i=I.createControlByURI("sap-icon://icon-dropdown");i.addStyleClass("sapUshellToolAreaItemExpandable");r.renderControl(i);}}});T.prototype.init=function(){E.emit("ToolAreaItemCreated");};T.prototype.onclick=function(e){if(this.$().parent().hasClass("sapUshellToolAreaItemSelected")){this.setSelected(false);}else{this.setSelected(true);}if(e.target.className.indexOf("sapUshellToolAreaItemExpandable")>0){this.fireExpand();}else{this.firePress();}};T.prototype.onsapenter=T.prototype.onclick;T.prototype.setExpandable=function(e){e=!!e;this.setProperty("expandable",e,true);this.$().toggleClass("sapUshellToolAreaItemExpandable",e);};T.prototype.setSelected=function(s){s=!!s;if(s){var j=q(".sapUshellToolAreaItemSelected");j.each(function(){q(this).removeClass("sapUshellToolAreaItemSelected");});}this.setProperty("selected",s,true);this.$().parent().toggleClass("sapUshellToolAreaItemSelected",s);};T.prototype.setVisible=function(v){var r=this.getParent().getDomRef();this.setProperty("visible",!!v,r);this.$().toggleClass("sapUshellShellHidden",!v);};T.prototype.setAriaLabel=function(a){this.setProperty('ariaLabel',a);return this;};return T;},true);
sap.ui.predefine('sap/ushell/ui5service/_AppIsolationService/appisolationservice.class.factory',["sap/ui/base/EventProvider",'sap/ushell/EventHub'],function(E,a){"use strict";return function(s){var S=s.serviceRegistry,b=s.serviceFactory,c=s.service;var e=new E(),A;var o=undefined;var d=c.extend("sap.ushell.ui5service.AppIsolationService",{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.AppIsolationService",new b(p));},_setActiveComponentId:function(i){A=i;},_getActiveComponentId:function(){return A;},_getEventProvider:function(){return e;},_ensureArrayOfObjectOfStrings:function(v,m){var V=jQuery.isArray(v)&&v.every(function(O){return jQuery.isPlainObject(O)&&Object.keys(O).length>0&&Object.keys(O).every(function(k){return typeof O[k]==="string";});});if(!V){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.AppIsolationService");}return V;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.AppIsolationService");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.AppIsolationService");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.AppIsolationService");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var C;var P={AppLifeCycle:undefined};sap.ui.getCore().getEventBus().publish("sap.ushell","getAppLifeCycle",P);o=P.AppLifeCycle;C=p.getContext();if(typeof C==="undefined"){return;}if(C.scopeType==="component"){this._setActiveComponentId(C.scopeObject.getId());return;}jQuery.sap.log.error("Invalid context for AppIsolationService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.AppIsolationService");},getUxdVersion:function(){if((new jQuery.sap.Version(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},registerShellCommunicationHandler:function(C){o.registerShellCommunicationHandler(C);},registerIframeCommunicationHandler:function(h,f){o.registerIframeCommunicationHandler(h,f);},getCurrentAppHash:function(){return o.getCurrentApplication().hash;},getCurrentAppTargetResolution:function(){return o.getCurrentApplication().target;},getIframeHandelrs:function(){return o.getCurrentApplication().container.getIframeHandlers();},jsonStringifyFn:function(j){var r=JSON.stringify(j,function(k,v){return(typeof v==='function')?v.toString():v;});return r;}});return d;};});
sap.ui.predefine('sap/ushell/ui5service/_ShellUIService/shelluiservice.class.factory',["sap/ui/base/EventProvider","sap/ui/thirdparty/hasher"],function(E,h){"use strict";return function(s){var S=s.serviceRegistry,a=s.serviceFactory,b=s.service;var l;var e=new E();var O={hierarchyChanged:"hierarchyChanged",relatedAppsChanged:"relatedAppsChanged",titleChanged:"titleChanged",backNavigationChanged:"backNavigationChanged"};var A;var c=b.extend("sap.ushell.ui5service.ShellUIService",{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.ShellUIService",new a(p));},_setActiveComponentId:function(i){A=i;},_getActiveComponentId:function(){return A;},_shouldEnableAutoHierarchy:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy")==="auto";},_shouldEnableAutoTitle:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle")==="auto";},_enableAutoHierarchy:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}r.attachTitleChanged(function(d){var H=d.getParameter("history");t.setHierarchy(H.reverse().map(function(u){var f=t._getCurrentShellHashWithoutAppRoute();return{title:u.title,intent:f+"&/"+u.hash};}));});},_enableAutoTitle:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}var T=r.getTitleHistory()[0];if(T&&T.title){setTimeout(function(){t.setTitle(T.title);},0);}r.attachTitleChanged(function(d){var f=d.getParameter("title");t.setTitle(f);});},_getCurrentShellHashWithoutAppRoute:function(){var f="#"+h.getHash();var u=sap.ushell.Container.getService("URLParsing");var U=u.getShellHash(f);if(!U){jQuery.sap.log.error("Cannot get the current shell hash","URLParsing service returned a falsy value for "+f,"sap.ushell.ui5service.ShellUIService");return"";}return"#"+U;},_getEventProvider:function(){return e;},_getLastSetTitle:function(){return l;},_ensureArrayOfObjectOfStrings:function(v,m){var V=jQuery.isArray(v)&&v.every(function(o){return jQuery.isPlainObject(o)&&Object.keys(o).length>0&&Object.keys(o).every(function(k){return typeof o[k]==="string";});});if(!V){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.ShellUIService");}return V;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setHierarchy"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoHierarchy(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setHierarchy should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setTitle"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoTitle(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setTitle should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var t=this,C;C=p.getContext();if(typeof C==="undefined"){return;}["setTitle","setHierarchy","setRelatedApps","setBackNavigation"].forEach(function(m){t._addCallAllowedCheck(p,m);});var o=C.scopeObject;if(C.scopeType==="component"&&o){this._setActiveComponentId(o.getId());if(this._shouldEnableAutoHierarchy(o)){this._enableAutoHierarchy(o);}if(this._shouldEnableAutoTitle(o)){this._enableAutoTitle(o);}return;}jQuery.sap.log.error("Invalid context for ShellUIService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.ShellUIService");},setHierarchy:function(H){if(typeof H!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(H,"setHierarchy")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.hierarchyChanged,{data:H,component:C});return;},setTitle:function(t){if(typeof t!=="undefined"&&!c.prototype._ensureString(t,"setTitle")){return;}var C=this.getContext().scopeObject;l=t;e.fireEvent(O.titleChanged,{data:t,component:C});return;},setBackNavigation:function(C){if(typeof C!=="undefined"&&!c.prototype._ensureFunction(C,"setBackNavigation")){return;}var o=this.getContext().scopeObject;e.fireEvent(O.backNavigationChanged,{data:C,component:o});return;},getTitle:function(){return this._getLastSetTitle();},setRelatedApps:function(r){if(typeof r!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(r,"setRelatedApps")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.relatedAppsChanged,{data:r,component:C});return;},getUxdVersion:function(){if((new jQuery.sap.Version(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},_attachHierarchyChanged:function(f){this._getEventProvider().attachEvent(O.hierarchyChanged,f);},_detachHierarchyChanged:function(f){this._getEventProvider().detachEvent(O.hierarchyChanged,f);},_attachTitleChanged:function(f){this._getEventProvider().attachEvent(O.titleChanged,f);},_attachBackNavigationChanged:function(f){this._getEventProvider().attachEvent(O.backNavigationChanged,f);},_detachBackNavigationChanged:function(f){this._getEventProvider().detachEvent(O.backNavigationChanged,f);},_detachTitleChanged:function(f){this._getEventProvider().detachEvent(O.titleChanged,f);},_attachRelatedAppsChanged:function(f){this._getEventProvider().attachEvent(O.relatedAppsChanged,f);},_detachRelatedAppsChanged:function(f){this._getEventProvider().detachEvent(O.relatedAppsChanged,f);}});return c;};});
sap.ui.predefine('sap/ushell/utils/utilsCdm',["sap/ushell/utils"],function(u){"use strict";function g(o,A){return u.getMember(o,A);}function m(k,s,A){s=u.clone(s);A=u.clone(A);var i={};i.semanticObject=s.semanticObject;i.action=s.action;i.title=s.title||g(A,"sap|app.title");i.info=s.info||g(A,"sap|app.info");i.icon=s.icon||g(A,"sap|ui.icons.icon");i.subTitle=s.subTitle||g(A,"sap|app.subTitle");i.shortTitle=s.shortTitle||g(A,"sap|app.shortTitle");var T,c,d,o,D,e,I=false;var S=g(A,"sap|platform|runtime");i.resolutionResult=jQuery.extend(true,{},S);if(S){i.resolutionResult["sap.platform.runtime"]=jQuery.extend(true,{},S);}if(g(A,"sap|ui.technology")==="GUI"){i.resolutionResult["sap.gui"]=g(A,"sap|gui");}if(g(A,"sap|ui.technology")==="WDA"){i.resolutionResult["sap.wda"]=g(A,"sap|wda");}if(g(A,"sap|ui.technology")==="URL"){if(A["sap.url"]){i.resolutionResult["sap.platform.runtime"]=i.resolutionResult["sap.platform.runtime"]||{};i.resolutionResult.url=A["sap.url"].uri;i.resolutionResult["sap.platform.runtime"].url=A["sap.url"].uri;}else if(S&&S.uri){i.resolutionResult["sap.platform.runtime"].url=S.uri;i.resolutionResult.url=S.uri;}}if(!i.resolutionResult["sap.ui"]){i.resolutionResult["sap.ui"]={};}i.resolutionResult["sap.ui"].technology=g(A,"sap|ui.technology");i.resolutionResult.applicationType=this._formatApplicationType(i.resolutionResult,A);i.resolutionResult.systemAlias=i.resolutionResult.systemAlias||s.systemAlias;i.resolutionResult.systemAliasSemantics="apply";i.resolutionResult.text=i.title;i.deviceTypes=g(A,"sap|ui.deviceTypes")||{};i.resolutionResult.appId=g(A,"sap|app.id");["desktop","tablet","phone"].forEach(function(M){if(Object.prototype.hasOwnProperty.call(s.deviceTypes||{},M)){i.deviceTypes[M]=s.deviceTypes[M];}if(!Object.prototype.hasOwnProperty.call(i.deviceTypes,M)){i.deviceTypes[M]=true;}i.deviceTypes[M]=!!i.deviceTypes[M];});i.signature=s.signature||{};i.signature.parameters=i.signature.parameters||{};i.signature.additionalParameters=(s.signature||{}).additionalParameters||"allowed";var h=s.indicatorDataSource||g(A,"sap|app.crossNavigation.inbounds."+k+".indicatorDataSource");var j=h?"#Shell-dynamicTile":"#Shell-staticTile";if(g(A,"sap|app.type")==="tile"||g(A,"sap|flp.type")==="tile"){j=i.resolutionResult;j.url=g(A,"sap|platform|runtime.componentProperties.url");j.componentName=g(A,"sap|ui5.componentName");if(g(A,"sap|platform|runtime.includeManifest")){j.componentProperties=j.componentProperties||{};j.componentProperties.manifest=jQuery.extend(true,{},A);delete j.componentProperties.manifest["sap.platform.runtime"];}o=g(A,"sap|app.crossNavigation.outbounds.target");I=true;}if(g(A,"sap|app.type")==="plugin"||g(A,"sap|flp.type")==="plugin"){return undefined;}if(g(A,"sap|flp.tileSize")){T=g(A,"sap|flp.tileSize");}if(g(A,"sap|app.description")){c=g(A,"sap|app.description");}if(g(A,"sap|ui.technology")==="GUI"&&g(A,"sap|gui.transaction")){d=g(A,"sap|gui.transaction");}if(g(A,"sap|ui.technology")==="WDA"&&g(A,"sap|wda.applicationId")){d=g(A,"sap|wda.applicationId");}if(g(A,"sap|app.dataSources")){D=g(A,"sap|app.dataSources");}if(g(A,"sap|app.id")){e=g(A,"sap|app.id");}i.tileResolutionResult={appId:e,title:i.title,subTitle:i.subTitle,icon:i.icon,size:T,info:i.info,tileComponentLoadInfo:j,indicatorDataSource:h,dataSources:D,description:c,runtimeInformation:S,technicalInformation:d,deviceTypes:i.deviceTypes};i.tileResolutionResult.isCustomTile=I;if(o){i.tileResolutionResult.targetOutbound=o;}return i;}function f(r,A){var s=r.applicationType;if(s){return s;}var c=g(A,"sap|platform|runtime.componentProperties.self.name")||g(A,"sap|ui5.componentName");if(g(A,"sap|flp.appType")==="UI5"||g(A,"sap|ui.technology")==="UI5"){r.applicationType="SAPUI5";r.additionalInformation="SAPUI5.Component="+c;r.url=g(A,"sap|platform|runtime.componentProperties.url");r.applicationDependencies=g(A,"sap|platform|runtime.componentProperties");return"SAPUI5";}if(g(A,"sap|ui.technology")==="GUI"){r.applicationType="TR";r["sap.gui"]=g(A,"sap|gui");r.systemAlias=g(A,"sap|app.destination.name");return"TR";}if(g(A,"sap|ui.technology")==="WDA"){r.applicationType="WDA";r["sap.wda"]=g(A,"sap|wda");r.systemAlias=g(A,"sap|app.destination.name");return"WDA";}if(g(A,"sap|ui.technology")==="URL"){r.applicationType="URL";r.systemAlias=g(A,"sap|app.destination.name");}return"URL";}function a(s){var c=this;if(!s){return[];}var i=[];try{var S=Object.keys(s.applications||{}).sort();S.forEach(function(A){try{var o=s.applications[A];var d=g(o,"sap|app.crossNavigation.inbounds");if(d){var l=Object.keys(d).sort();l.forEach(function(I){var h=d[I];var r=c.mapOne(I,h,o);if(r){i.push(r);}});}}catch(E){jQuery.sap.log.error("Error in application "+A+": "+E,E.stack);}});}catch(e){jQuery.sap.log.error(e);jQuery.sap.log.error(e.stack);return[];}return i;}function t(i){var s,p,c;s={target:{semanticObject:i.semanticObject,action:i.action},params:{}};p=jQuery.sap.getObject("signature.parameters",undefined,i)||{};Object.keys(p).forEach(function(k){if(p[k].filter&&Object.prototype.hasOwnProperty.call(p[k].filter,"value")&&(p[k].filter.format===undefined||p[k].filter.format==="plain")){s.params[k]=[p[k].filter.value];}if(p[k].launcherValue&&Object.prototype.hasOwnProperty.call(p[k].launcherValue,"value")&&(p[k].launcherValue.format===undefined||p[k].launcherValue.format==="plain")){s.params[k]=[p[k].launcherValue.value];}});c=sap.ushell.Container.getService("URLParsing").constructShellHash(s);if(!c){return undefined;}return c;}function b(o){var s,p,c;s={target:{semanticObject:o.semanticObject,action:o.action},params:{}};p=o.parameters||{};Object.keys(p).forEach(function(k){if(p.hasOwnProperty(k)&&typeof p[k].value==="object"){s.params[k]=[p[k].value.value];}});c=sap.ushell.Container.getService("URLParsing").constructShellHash(s);if(!c){return undefined;}return c;}return{formatSite:a,toHashFromInbound:t,toHashFromOutbound:b,mapOne:m,_formatApplicationType:f};},true);
/*
 * ! OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/base/ManagedObjectObserver',['sap/ui/base/Object','sap/ui/base/ManagedObject','sap/ui/base/EventProvider',"sap/base/util/array/uniqueSort","sap/ui/thirdparty/jquery"],function(B,M,E,u,q){"use strict";var a=B.extend("sap.ui.base.ManagedObjectObserver",{constructor:function(C){if(!C&&typeof C!=="function"){throw new Error("Missing callback function in ManagedObjectObserver constructor");}this._fnCallback=C;}});a.prototype.observe=function(i,C){if(!(i instanceof M)){if(i==null){return;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but observe was called for "+i);}o(i,C);c(i,this,C);};a.prototype.unobserve=function(i,C){if(!(i instanceof M)){if(i==null){return;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but unobserve was called for "+i);}if(C){o(i,C);}r(i,this,C);};a.prototype.isObserved=function(i,C){if(!(i instanceof M)){if(i==null){return false;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but isObserved was called for "+i);}return d(i,this,C);};a.prototype.disconnect=function(){e(this);};a.prototype.getConfiguration=function(i){return g(i,this);};var O={},t=Object.create(null);O.propertyChange=function(i,n,v,N){h("properties",i,n,function(){return{type:"property",old:v,current:N};});};O.aggregationChange=function(i,n,s,v){h("aggregations",i,n,function(){return{type:"aggregation",mutation:s,children:Array.isArray(v)?v:null,child:!Array.isArray(v)?v:null};});};O.parentChange=function(i,n,s,p){h("parent",i,n,function(){return{type:"parent",mutation:s,parent:p};});var P=s==="unset"?"remove":"insert";O.aggregationChange(p,n,P,i);};O.associationChange=function(i,n,s,I){h("associations",i,n,function(){return{type:"association",mutation:s,ids:I};});};O.eventChange=function(i,n,s,L,F,D){h("events",i,n,function(){return{type:"event",mutation:s,listener:L,func:F,data:D};});};O.bindingChange=function(i,n,s,p,v){h("bindings",i,n,function(){return{type:"binding",mutation:s,bindingInfo:p,memberType:v};});};O.objectDestroyed=function(i){h("destroy",i,null,function(){return{type:"destroy"};});var I=i.getId();if(t[I]){i.detachEvent("EventHandlerChange",H);delete t[I];}delete i._observer;};function h(T,n,N,C){var I=n.getId(),p=t[I];if(p){var s;for(var i=0;i<p.listeners.length;i++){if(b(p.configurations[i],T,N)){if(!s){s=C();s.name=N;s.object=n;}var L=p.listeners[i];L._fnCallback(s);}}}}function b(C,T,n){if(C==null||!T){return false;}if(T!="destroy"&&T!="parent"&&!n){return false;}return C[T]===true||(Array.isArray(C[T])&&C[T].indexOf(n)>-1);}function c(T,L,C){f(T,L,C,false);}function g(T,L){var i=T.getId();var n=t[i];if(n&&n.listeners){var I=n.listeners.indexOf(L);if(I>=0){var C=q.extend(true,{},n.configurations[I]);return C;}}return null;}function r(T,L,C){C=C||g(T,L);f(T,L,C,true);}function d(T,L,C){var i=T.getId(),n=t[i];C=C||g(T,L);if(!n){return false;}var I=n.listeners.indexOf(L);if(I===-1){return false;}else{return l(n.configurations[I].properties,C.properties)&&l(n.configurations[I].aggregations,C.aggregations)&&l(n.configurations[I].associations,C.associations)&&l(n.configurations[I].bindings,C.bindings)&&l(n.configurations[I].events,C.events)&&m(n.configurations[I].destroy,C.destroy)&&m(n.configurations[I].parent,C.parent);}}function e(L){for(var n in t){var T=t[n];for(var i=0;i<T.listeners.length;i++){if(T.listeners[i]===L){T.listeners.splice(i,1);T.configurations.splice(i,1);}}if(T.listeners&&T.listeners.length===0){delete t[n];T.object._observer=undefined;}}}function f(T,L,C,R){var i=T.getId(),n=t[i],p,I;if(R){if(!n){return;}I=n.listeners.indexOf(L);if(I>=0){p=n.configurations[I];}}else{if(!n){n=t[i]={listeners:[],configurations:[],object:T};}I=n.listeners.indexOf(L);if(I===-1){n.listeners.push(L);n.configurations.push(C);}else{p=n.configurations[I];}}if(p){p.properties=p.properties||[];k(p.properties,C.properties,R);p.aggregations=p.aggregations||[];k(p.aggregations,C.aggregations,R);p.associations=p.associations||[];k(p.associations,C.associations,R);p.bindings=p.bindings||[];k(p.bindings,C.bindings,R);p.events=p.events||[];k(p.events,C.events,R);if(C.destroy!=null){if(R){delete p.destroy;}else{p.destroy=C.destroy;}}if(C.parent!=null){if(R){delete p.parent;}else{p.parent=C.parent;}}}var s=j(T,"events");if(T._observer&&R){if(!s&&E.hasListener(T,"EventHandlerChange",H)){T.detachEvent("EventHandlerChange",H);}if(!s&&!j(T,"properties")&&!j(T,"aggregations")&&!j(T,"associations")&&!j(T,"destroy")&&!j(T,"parent")&&!j(T,"bindings")){delete T._observer;delete t[i];}}else if(!T._observer&&!R){if(s&&!E.hasListener(T,"EventHandlerChange",H)){T.attachEvent("EventHandlerChange",H);}T._observer=O;}}function j(T,s){var i=T.getId(),n=t[i];if(n){var C=n.configurations.filter(function(p){return p.hasOwnProperty(s)&&p[s]&&(p[s]===true||p[s].length>0);});return C.length>0;}return false;}function H(i){var T=i.getSource(),s=i.mParameters.EventId;if(T.getMetadata().hasEvent(s)){if(i.mParameters.type==="listenerAttached"){O.eventChange(T,s,"insert",i.mParameters.listener,i.mParameters.func,i.mParameters.data);}else if(i.mParameters.type==="listenerDetached"){O.eventChange(T,s,"remove",i.mParameters.listener,i.mParameters.func,i.mParameters.data);}}}function k(n,A,R){if(!A){return;}for(var i=0;i<A.length;i++){var I=n.indexOf(A[i]);if(I>-1&&R){n.splice(I,1);}else if(I===-1&&!R){n.push(A[i]);}}}function l(F,s){if(!Array.isArray(s)||s.length==0){return true;}if(!Array.isArray(F)||F.length==0){return false;}var U=u(F.concat(s));return F.length===U.length;}function m(i,C){if(C==null){return true;}return i===C;}function o(i,C){var n=i.getMetadata(),p=Object.keys(n.getAllProperties()),A=Object.keys(n.getAllAggregations()),s=Object.keys(n.getAllAssociations()),v=u(p.concat(A)),w=Object.keys(n.getAllEvents());C.properties=C.properties===true?p:C.properties;C.aggregations=C.aggregations===true?A:C.aggregations;C.associations=C.associations===true?s:C.associations;C.bindings=C.bindings===true?v:C.bindings;C.events=C.events===true?w:C.events;C.destroy=(C.destroy==null)?false:C.destroy;C.parent=(C.parent==null)?false:C.parent;}return a;});
sap.ui.predefine('sap/ui/model/base/ManagedObjectModel',['../json/JSONModel','../json/JSONPropertyBinding','../json/JSONListBinding','sap/ui/base/ManagedObject','sap/ui/base/ManagedObjectObserver','../Context','../ChangeReason',"sap/base/util/uid","sap/base/Log","sap/base/util/isPlainObject","sap/base/util/deepClone"],function(J,a,b,M,c,C,d,u,L,e,f){"use strict";var g="@custom",I="--";function _(n,o,A,O){var p=A.get(o)||[],q,r;for(var i=0;i<p.length;i++){q=p[i];if(!(q instanceof M)){continue;}r=true;if(O){n._oObserver.observe(q,{properties:true,aggregations:true});}else{n._oObserver.unobserve(q,{properties:true,aggregations:true});}var s=q.getMetadata().getAllAggregations();for(var K in s){_(n,q,s[K],O);}}if(r){var K=o.getId()+"/@"+A.name;if(O){if(!n._mObservedCount.aggregations[K]){n._mObservedCount.aggregations[K]=0;}n._mObservedCount.aggregations[K]++;}else{delete n._mObservedCount.aggregations[K];}}}function h(n){var s,i=n.length-1,p=[];while(!(n[i].node instanceof M)){if(s){p.splice(0,0,s);}s=n[i].path;i--;}return[n[i].node,n[i+1],p,s];}function j(o){var D="",p;var t=typeof o;if(o==null||(t!="object"&&t!="function")){D=o;}else if(e(o)){D=JSON.stringify(o);}else if(o instanceof M){D=o.getId();for(p in o.mProperties){D=D+"$"+j(o.mProperties[p]);}}else if(Array.isArray(o)){for(var i=0;o.length;i++){D=D+"$"+j(o);}}else{L.warning("Could not stringify object "+o);D="$";}return D;}var k=b.extend("sap.ui.model.base.ManagedObjectModelAggregationBinding",{constructor:function(){b.apply(this,arguments);this._getOriginOfManagedObjectModelBinding();},getEntryKey:function(o){var O=o.getObject();if(O instanceof M){return O.getId();}return b.prototype.getEntryKey.apply(this,arguments);},getEntryData:function(o){var O=o.getObject();if(O instanceof M){return j(O);}return b.prototype.getEntryData.apply(this,arguments);},_getContexts:function(s,i){var S;if(this._oAggregation){var o=this._oOriginMO.getBinding(this._sMember);if(o){var n=o.getModel();S=n.iSizeLimit;}var B=this._oOriginMO.getBindingInfo(this._sMember);if(B&&s>=0&&i&&S&&i>S){var U=false;if(s!=B.startIndex){B.startIndex=s;U=true;}if(i!=B.length){B.length=i;U=true;}if(U){this._oAggregation.update(this._oOriginMO,"change");}}}return b.prototype._getContexts.apply(this,arguments);},_getOriginOfManagedObjectModelBinding:function(){if(!this._oOriginMO){var o=this.oModel,n=[];o._getObject(this.sPath,this.oContext,n);var v=h(n);this._oOriginMO=v[0];this._aPartsInJSON=v[2];this._sMember=v[3];this._oAggregation=this._oOriginMO.getMetadata().getAggregation(this._sMember);}},getLength:function(){if(this._aPartsInJSON.length==0){var i=this._oOriginMO.getBinding(this._sMember);if(i&&i.isA("sap.ui.model.ListBinding")){return i.getLength();}}return b.prototype.getLength.apply(this,arguments);},isLengthFinal:function(){if(this._aPartsInJSON.length==0){var i=this._oOriginMO.getBinding(this._sMember);if(i&&i.isA("sap.ui.model.ListBinding")){return i.isLengthFinal();}}return true;}});var l=a.extend("sap.ui.model.base.ManagedObjectModelPropertyBinding");var m=J.extend("sap.ui.model.base.ManagedObjectModel",{constructor:function(o,D){if(!D&&typeof D!="object"){D={};}D[g]={};this._oObject=o;this._mObservedCount={properties:{},aggregations:{}};this.mListBinding={};J.apply(this,[D]);this._oObserver=new c(this.observerChanges.bind(this));}});m.prototype.getAggregation=J.prototype.getProperty;m.prototype.setData=function(D,i){var n={};n[g]=D;J.prototype.setData.apply(this,[n,i]);};m.prototype.getJSON=function(){return JSON.stringify(this.oData[g]);};m.prototype.setProperty=function(p,v,o,A){var r=this.resolve(p,o),n,O,P;if(!r){return false;}if(r.indexOf("/"+g)===0){return J.prototype.setProperty.apply(this,arguments);}n=r.lastIndexOf("/");O=r.substring(0,n||1);P=r.substr(n+1);var N=[],q=this._getObject(O,null,N);if(q){if(q instanceof M){var s=q.getMetadata().getManagedProperty(P);if(s){if(s.get(q)!==v){s.set(q,v);var F=function(B){var p=this.resolve(B.sPath,B.oContext);return p.startsWith(r);}.bind(this);this.checkUpdate(false,A,F);return true;}}else{L.warning("The setProperty method only supports properties, the path "+r+" does not point to a property",null,"sap.ui.model.base.ManagedObjectModel");}}else if(q[P]!==v){var V=h(N);var t=f(V[1].node),w=V[2];var x=t;for(var i=0;i<w.length;i++){x=x[w[i]];}x[P]=v;var y="/"+P;if(w.length>0){y="/"+w.join("/")+y;}var D=r.lastIndexOf(y);var z=r.substr(0,D);return this.setProperty(z,t,o);}}return false;};m.prototype.addBinding=function(B){J.prototype.addBinding.apply(this,arguments);if(B instanceof k){var A=B.sPath.replace("/","");this.mListBinding[A]=B;}B.checkUpdate(false);};m.prototype.removeBinding=function(B){J.prototype.removeBinding.apply(this,arguments);if(B instanceof k){var A=B.sPath.replace("/","");delete this.mListBinding[A];}this._observeBeforeEvaluating(B,false);};m.prototype.firePropertyChange=function(A){if(A.reason===d.Binding){A.resolvedPath=this.resolve(A.path,A.context);}J.prototype.firePropertyChange.call(this,A);};m.prototype.bindAggregation=function(p,o,P){return J.prototype.bindProperty.apply(this,arguments);};m.prototype.bindProperty=function(p,o,P){var B=new l(this,p,o,P);return B;};m.prototype.bindList=function(p,o,s,F,P){var B=new k(this,p,o,s,F,P);return B;};m.prototype.getManagedObject=function(p,o){if(p instanceof C){o=p;p=o.getPath();}var O=this.getProperty(p,o);if(O instanceof M){return O;}return null;};m.prototype.getRootObject=function(){return this._oObject;};m.prototype._observePropertyChange=function(o,p){if(!o||!p){return;}var K=o.getId()+"/@"+p.name;if(!this._oObserver.isObserved(o,{properties:[p.name]})){this._oObserver.observe(o,{properties:[p.name]});this._mObservedCount.properties[K]=1;}else{this._mObservedCount.properties[K]++;}};m.prototype._unobservePropertyChange=function(o,p){if(!o||!p){return;}var K=o.getId()+"/@"+p.name;this._mObservedCount.properties[K]--;if(this._mObservedCount.properties[K]==0){this._oObserver.unobserve(o,{properties:[p.name]});delete this._mObservedCount.properties[K];}};m.prototype._observeAggregationChange=function(o,A){if(!o||!A){return;}var K=o.getId()+"/@"+A.name;if(!this._oObserver.isObserved(o,{aggregations:[A.name]})){this._oObserver.observe(o,{aggregations:[A.name]});this._mObservedCount.aggregations[K]=1;_(this,o,A,true);}else{this._mObservedCount.aggregations[K]++;}};m.prototype._unobserveAggregationChange=function(o,A){if(!o||!A){return;}var K=o.getId()+"/@"+A.name;this._mObservedCount.aggregations[K]--;if(this._mObservedCount.aggregations[K]==0){this._oObserver.unobserve(o,{aggregations:[A.name]});delete this._mObservedCount.aggregations[K];}};m.prototype._createId=function(i){var o=this._oObject;if(typeof o.createId==="function"){return o.createId(i);}if(!i){return o.getId()+I+u();}if(i.indexOf(o.getId()+I)!=0){return o.getId()+I+i;}return i;};m.prototype._getSpecialNode=function(n,s,p,P){if(n instanceof M){if(s==="className"){if(n.getMetadata){return n.getMetadata().getName();}else{return typeof n;}}else if(s==="id"){return n.getId();}else if(s==="metadataContexts"){return n._oProviderData;}}else if(s==="binding"&&p&&P){return p.getBinding(P);}else if(s==="bound"&&p&&P){return p.isBound(P);}else if(s==="bindingInfo"&&p&&P){return p.getBindingInfo(P);}else if(Array.isArray(n)){if(s==="length"){return n.length;}else if(s.indexOf("id=")===0){var o=s.substring(3),F=null;for(var i=0;i<n.length;i++){if(n[i].getId()===this._createId(o)||n[i].getId()===o){F=n[i];break;}}return F;}}return null;};m.prototype._getObject=function(p,o,n){var N=this._oObject,r="",t=this;if(n){n.push({path:"/",node:N});}this.aBindings.forEach(function(B){if(!B._bAttached){t._observeBeforeEvaluating(B,true);}});if(typeof p==="string"&&p.indexOf("/")!=0&&!o){return null;}if(o instanceof M){N=o;r=p;}else if(!o||o instanceof C){r=this.resolve(p,o);if(!r){return N;}if(r.indexOf("/"+g)===0){return J.prototype._getObject.apply(this,[p,o]);}}else{N=o;r=p;}if(!N){return null;}var P=r.split("/"),i=0;if(!P[0]){i++;}var q=null,s=null,v;while(N!==null&&P[i]){v=P[i];if(v=="id"){v="@id";}if(v.indexOf("@")===0){N=this._getSpecialNode(N,v.substring(1),q,s);}else if(N instanceof M){var w=N.getMetadata();if(w.isInstanceOf("sap.ui.core.IDScope")&&v.indexOf("#")===0){N=N.byId(v.substring(1));}else{q=N;s=v;var x=w.getManagedProperty(v);if(x){N=x.get(N);}else{var A=w.getManagedAggregation(v);if(A){N=A.get(N);}else{if(N&&N[v]&&typeof N[v]==="function"){N=N[v]();}else{N=null;}}}}}else if(Array.isArray(N)||e(N)){N=N[v];}else{if(N&&N[v]&&typeof N[v]==="function"){N=N[v]();}else{N=null;}}if(n){n.push({path:v,node:N});}i++;}return N;};m.prototype.destroy=function(){for(var n in this._mAggregationObjects){var o=this._mAggregationObjects[n];if(o.object.invalidate.fn){o.object.invalidate=o.object.invalidate.fn;}}J.prototype.destroy.apply(this,arguments);};m.prototype._observeBeforeEvaluating=function(B,o){if(!B.isResolved()){return;}var p=B.getPath();var i=B.getContext(),n=this._oObject,r;if(i instanceof M){n=i;r=p;}else if(!i||i instanceof C){r=this.resolve(p,i);if(!r){return;}if(r.indexOf("/"+g)===0){return;}}else{return;}var P=r.split("/");if(!P[0]){P.shift();}var s=P[0];if(n.getMetadata().isInstanceOf("sap.ui.core.IDScope")&&s.indexOf("#")===0){n=n.byId(s.substring(1));s=P[1];}if(n instanceof M){var N=n.getMetadata(),q=N.getManagedProperty(s);if(q){if(o===true){this._observePropertyChange(n,q);}else if(o===false){this._unobservePropertyChange(n,q);}}else{var A=N.getAggregation(s)||N.getAllPrivateAggregations()[s];if(A){if(o===true){this._observeAggregationChange(n,A);}else if(o===false){this._unobserveAggregationChange(n,A);}}}B._bAttached=o;}};m.prototype.observerChanges=function(o){if(o.type=="aggregation"){var A={};if(o.child instanceof M){A=o.child.getMetadata().getAllAggregations();}if(o.mutation=="insert"){if(o.child instanceof M){this._oObserver.observe(o.child,{properties:true,aggregations:true});}for(var K in A){_(this,o.child,A[K],true);}if(this.mListBinding[o.name]){var i=this._oObject.getBinding(o.name);var n=this._oObject.getAggregation(o.name);if(i&&i.getCurrentContexts().length!=n.length){return;}}}else{if(o.child instanceof M){this._oObserver.unobserve(o.child,{properties:true,aggregations:true});}for(var K in A){_(this,o.child,A[K],false);}}}this.checkUpdate();};m.prototype.checkUpdate=function(F,A,i){if(A){if(!this.sUpdateTimer){this.sUpdateTimer=setTimeout(function(){this.checkUpdate(F,false,i);}.bind(this),0);}return;}if(this.sUpdateTimer){clearTimeout(this.sUpdateTimer);this.sUpdateTimer=null;}var B=this.aBindings.slice(0);jQuery.each(B,function(n,o){if(!i||i(o)){o.checkUpdate(F);}});};return m;});
/*!
 * @copyright@
 */
sap.ui.predefine('sap/m/NumericContentRenderer',['./library'],function(l){"use strict";var N={};N.render=function(r,c){var v=c.getValue();var i=c.getIndicator();var s=c.getScale();var S=c.getState();var I=l.DeviationIndicator.None!==i&&v!=="";var w=c.getWithMargin();var W;if(w){W="";}else{W="WithoutMargin";}if(c.getFormatterValue()){var f=c._parseFormattedValue(v);s=f.scale;v=f.value;}var b=s&&v;r.write("<div");r.writeControlData(c);var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.writeAttributeEscaped("aria-label",t);r.writeAttribute("role","img");if(S==l.LoadState.Failed||S==l.LoadState.Loading){r.writeAttribute("aria-disabled","true");}if(c.getAnimateTextChange()){r.addClass("sapMNCAnimation");}if(c.getWidth()){r.addStyle("width",c.getWidth());}r.writeStyles();r.addClass("sapMNC");r.addClass(W);if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapMPointer");}r.writeClasses();r.write(">");r.write("<div");r.addClass("sapMNCInner");r.addClass(W);r.writeClasses();r.write(">");if(w){this._renderScaleAndIndicator(r,c,I,b,W,i,s);this._renderValue(r,c,W,v);}else{this._renderValue(r,c,W,v);this._renderScaleAndIndicator(r,c,I,b,W,i,s);}r.write("</div>");r.write("</div>");};N._prepareAndRenderIcon=function(r,c,i){if(i){var s,L=l.LoadState,C=c.getState();for(s in L){if(L.hasOwnProperty(s)&&s!==C){i.removeStyleClass(s);}else if(L.hasOwnProperty(s)&&s===C){i.addStyleClass(s);}}i.addStyleClass("sapMNCIconImage");r.renderControl(i);}};N._renderScaleAndIndicator=function(r,c,i,a,w,t,b){if(i||a){var s=c.getState();var C=c.getValueColor();r.write("<div");r.addClass("sapMNCIndScale");r.addClass(w);r.addClass(s);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-indicator");r.addClass("sapMNCIndicator");r.addClass(t);r.addClass(s);r.addClass(C);r.writeClasses();r.write("></div>");if(a){r.write("<div");r.writeAttribute("id",c.getId()+"-scale");r.addClass("sapMNCScale");r.addClass(s);r.addClass(C);r.writeClasses();r.write(">");r.writeEscaped(b.substring(0,3));r.write("</div>");}r.write("</div>");}};N._renderValue=function(r,c,w,v){var e;if(c.getNullifyValue()){e="0";}else{e="";}r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapMNCValue");r.addClass(w);r.addClass(c.getValueColor());r.addClass(c.getState());r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-value-scr");r.addClass("sapMNCValueScr");r.addClass(w);r.writeClasses();r.write(">");this._prepareAndRenderIcon(r,c,c._oIcon);var C=c.getTruncateValueTo();if(v.length>=C&&(v[C-1]==="."||v[C-1]===",")){r.writeEscaped(v.substring(0,C-1));}else{if(v){r.writeEscaped(v.substring(0,C));}else{r.writeEscaped(e);}}r.write("</div>");r.write("</div>");};return N;},true);
// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.predefine('sap/ushell/ApplicationType',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/URLTemplateProcessor","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias","sap/ushell/_ApplicationType/wdaResolution","sap/ushell/_ApplicationType/guiResolution","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping"],function(U,u,a,A,s,w,g,c,p){"use strict";function b(n,B,E){var I=n.inbound;var r=I&&I.resolutionResult;if(!(!I||!r||!(r["sap.wda"]))){return w.constructFullWDAResolutionResult(n,B,E);}if(!(!I||!r)){return w.constructWDAResolutionResult(n,B,E);}}function d(n,B,E){var q=new U(B),I=n.inbound,r=I&&I.resolutionResult,t=jQuery.extend(true,{},n.mappedIntentParamsPlusSimpleDefaults),S,v;if(t["sap-system"]){S=t["sap-system"][0];delete t["sap-system"];}if(t["sap-system-src"]){v=t["sap-system-src"][0];delete t["sap-system-src"];}return new Promise(function(R,x){s.spliceSapSystemIntoURI(q,r.systemAlias,S,v,"WCF",r.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,E).done(function(y){var P=A.getURLParsing().paramsToString(t),F=A.appendParametersToUrl(P,y.toString());var z={url:F,text:r.text||"",additionalInformation:r.additionalInformation||"",applicationType:"WCF",fullWidth:true};R(z);}).fail(function(y){x(y);});});}function e(n,B,E){var I=n.inbound,q,S,r,t,R={};["applicationType","additionalInformation","applicationDependencies"].forEach(function(P){if(I.resolutionResult.hasOwnProperty(P)){R[P]=I.resolutionResult[P];}});R.url=B;if(R.applicationDependencies&&typeof R.url==="undefined"){R.url="";}if(typeof R.url==="undefined"){return Promise.reject("Cannot resolve intent: url was not specified in matched inbound");}t=jQuery.extend(true,{},n.mappedIntentParamsPlusSimpleDefaults);R.reservedParameters={};var v={"sap-ui-fl-max-layer":true,"sap-ui-fl-control-variant-id":true};Object.keys(v).forEach(function(N){var V=t[N];if(V){delete t[N];R.reservedParameters[N]=V;}});n.mappedDefaultedParamNames=n.mappedDefaultedParamNames.filter(function(D){return!v[D];});if(n.mappedDefaultedParamNames.length>0){t["sap-ushell-defaultedParameterNames"]=[JSON.stringify(n.mappedDefaultedParamNames)];}S=t["sap-system"]&&t["sap-system"][0];r=t["sap-system-src"]&&t["sap-system-src"][0];R["sap-system"]=S;if(typeof r==="string"){R["sap-system-src"]=r;}n.effectiveParameters=t;q=A.getURLParsing().paramsToString(t);if(q){R.url=R.url+((R.url.indexOf("?")<0)?"?":"&")+q;}if(typeof I.resolutionResult.ui5ComponentName!=="undefined"){R.ui5ComponentName=I.resolutionResult.ui5ComponentName;}R.text=I.title;return Promise.resolve(R);}function f(){var n=sap.ushell.Container.getService("UserInfo");var q=n.getUser();var C=sap.ui.getCore().getConfiguration();var r=u.getUi5Version();var t=q.getTheme();var L;var v;if(C){v=C.getLanguage&&C.getLanguage();L=C.getSAPLogonLanguage&&C.getSAPLogonLanguage();}return{language:v,logonLanguage:L,theme:t,isDebugMode:!!window["sap-ui-debug"],ui5Version:r};}function h(n,B,E){var I=n.inbound;var t=I.templateContext;var r={innerAppRoute:n.parsedIntent.appSpecificRoute||undefined,defaultParameterNames:n.mappedDefaultedParamNames,startupParameter:n.intentParamsPlusAllDefaults,env:f()};var q=a.expand(t.payload,t.site,r,t.siteAppSection,"startupParameter");var R={applicationType:"URL",text:I.title,url:q};return i(q).then(function(C){R.url=C;return R;},function(){return R;});}function i(n){return new Promise(function(r,R){var q=new U(n);var P=q.query(true);sap.ushell.Container.getService("ShellNavigation").compactParams(P,[],undefined,true).done(function(C){if(!C.hasOwnProperty("sap-intent-param")){r(n);return;}q.query(C);var t=q.toString();r(t);}).fail(function(E){R(E);});});}function j(n,B,E){var I=n.inbound,q=I&&I.resolutionResult,r={};var t=new U(B);var v=jQuery.extend(true,{},n.mappedIntentParamsPlusSimpleDefaults);if(n.inbound&&n.inbound.action==="launchURL"&&n.inbound.semanticObject==="Shell"){delete v["sap-external-url"];}var S=v["sap-system"]&&v["sap-system"][0];var x=v["sap-system-src"]&&v["sap-system-src"][0];r["sap-system"]=S;delete v["sap-system"];if(typeof x==="string"){r["sap-system-src"]=x;delete v["sap-system-src"];}return(new Promise(function(R,y){if(A.absoluteUrlDefinedByUser(t,q.systemAlias,q.systemAliasSemantics)){R(B);}else{s.spliceSapSystemIntoURI(t,q.systemAlias,S,x,"URL",q.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(y).done(function(z){var C=z.toString();R(C);});}})).then(function(y){var P=A.getURLParsing().paramsToString(v);return A.appendParametersToUrl(P,y);},Promise.reject.bind(Promise)).then(function(y){["additionalInformation","applicationDependencies"].forEach(function(P){if(I.resolutionResult.hasOwnProperty(P)){r[P]=I.resolutionResult[P];}});r.url=y;r.text=I.title;r.applicationType="URL";return Promise.resolve(r);},Promise.reject.bind(Promise));}var o={URL:{type:"URL",defaultFullWidthSetting:true,generateResolutionResult:function(n){var q=n.inbound.hasOwnProperty("templateContext");return q?h.apply(null,arguments):j.apply(null,arguments);},easyAccessMenu:{intent:"Shell-startURL",resolver:null,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:false,systemSelectionPriority:1}},WDA:{type:"WDA",defaultFullWidthSetting:true,generateResolutionResult:b,easyAccessMenu:{intent:"Shell-startWDA",resolver:w.resolveEasyAccessMenuIntentWDA,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:2}},TR:{type:"TR",defaultFullWidthSetting:true,generateResolutionResult:g.generateTRResolutionResult,easyAccessMenu:{intent:"Shell-startGUI",resolver:g.resolveEasyAccessMenuIntentWebgui,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:3}},NWBC:{type:"NWBC",defaultFullWidthSetting:true},WCF:{type:"WCF",generateResolutionResult:d,defaultFullWidthSetting:true},SAPUI5:{type:"SAPUI5",generateResolutionResult:e,defaultFullWidthSetting:false}};function k(){return Object.keys(o).map(function(n){return o[n];}).filter(function(n){return typeof n.easyAccessMenu==="object";});}function l(){var E={};k().forEach(function(n){E[n.easyAccessMenu.intent]=n.easyAccessMenu.resolver;});return function(n,r){if(E[n]&&(!r||r!=="SAPUI5")){return E[n];}return null;};}function m(n){if(!o[n]){return false;}return o[n].defaultFullWidthSetting;}var M={getEasyAccessMenuResolver:l(),getEasyAccessMenuDefinitions:k,getDefaultFullWidthSetting:m};Object.keys(M).forEach(function(n){Object.defineProperty(o,n,{value:M[n]});});return o;},false);
sap.ui.predefine('sap/ushell/Config',["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/_Config/utils"],function(E,c,C){"use strict";var o=c(window["sap-ushell-config"]);var f=E.createChannel(o);var a=Object.keys(f).reduce(function(a,m){a[m]=function(){if(!f){f=E.createChannel(o);}return f[m].apply(f,arguments);};return a;},{_reset:function(){f=null;},registerConfiguration:function(O,b){o=b;},createModel:function(p,b){if(!f){f=E.createChannel(o);}return C.createModel(f,o,p,b);}});return a;},false);
sap.ui.predefine('sap/ushell/Fiori20Adapter',['sap/ui/base/Object','sap/ui/core/Component','sap/ui/core/UIComponent','sap/ui/model/resource/ResourceModel','sap/m/Fiori20Adapter',"sap/ui/thirdparty/hasher"],function(B,C,U,R,S,h){"use strict";var u;U._fnOnInstanceDestroy=function(c){if(c._fioriAdapter){c._fioriAdapter.destroy();}};var A=B.extend("AppInfo",{constructor:function(c){B.call(this);this._oComponent=c;},getDefaultTitle:function(){var t,r,m=this._oComponent.getMetadata();var a=m.getManifestEntry("sap.app");if(a&&a.title){t=a.title;if(this._isLocalizationKey(t)){r=(a.i18n||"i18n/i18n.properties");return this._getLocalized(t,r);}return t;}var o=m.getManifestEntry("sap.ui5");if(o&&o.config&&o.config.resourceBundle&&o.config.titleResource){t=o.config.titleResource;r=o.config.resourceBundle;return this._getLocalized(t,r);}return;},_getLocalized:function(t,r){var m=new R({bundleUrl:jQuery.sap.getModulePath(this._oComponent.getMetadata().getComponentName())+"/"+r});return m.getResourceBundle().getText(t.replace(/^{{/,"").replace(/}}$/,""));},_isLocalizationKey:function(t){return(t.indexOf("{{")===0)&&(t.indexOf("}}")>0);}});var H=B.extend("HeaderInfo",{constructor:function(c,o,a){B.call(this);this._oConfig=o;this._oAppInfo=a;this._aHierarchy=[];this._defaultTitle=this._oAppInfo.getDefaultTitle();this._oCurrentViewInfo={oTitleInfo:{text:this._defaultTitle}};},registerView:function(v){if(this._oConfig.bMoveTitle===true){if(!v.oTitleInfo&&v.oSubTitleInfo){v.oTitleInfo=v.oSubTitleInfo;}this._oCurrentViewInfo=v;var t=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:undefined;if(t!==u.getTitle()){u.setTitle(t);}this._updateHierarchy();}this._setBackNavigation(v.oBackButton,v.oAdaptOptions);},_setBackNavigation:function(b,a){if(a&&a.bHideBackButton===false){return;}var f;if(b){f=b.firePress.bind(b);}u.setBackNavigation(f);},_updateHierarchy:function(){if(this._oConfig.bHierarchy===false){return;}if(!this._oCurrentViewInfo){return;}var n=true,s="#"+h.getHash();for(var i=this._aHierarchy.length-1;i>=0;i--){var e=this._aHierarchy[i],k=(e.id===this._oCurrentViewInfo.sViewId),K=(e.intent===s);if(k||K){n=false;e=this._updateHierarchyEntry(e);this._aHierarchy[i]=e;this._aHierarchy=this._aHierarchy.slice(0,i+1);if(k){e.intent=s;}break;}}if(n){this._aHierarchy.push(this._createHierarchyEntry());}var N=[];for(var j=this._aHierarchy.length-2;j>=0;j--){N.push(this._aHierarchy[j]);}u.setHierarchy(this._deleteUndefinedProperties(N));},_createHierarchyEntry:function(){var s="#"+h.getHash(),e={id:this._oCurrentViewInfo.sViewId,title:this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle,subtitle:this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined,intent:s};return e;},_updateHierarchyEntry:function(e){e.id=this._oCurrentViewInfo.sViewId;e.title=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle;e.subtitle=this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined;return e;},_deleteUndefinedProperties:function(o){o.forEach(function(O){for(var p in O){if(O.hasOwnProperty(p)&&!O[p]&&p!=='title'){delete O[p];}}});return o;}});var F=B.extend("sap.ushell.Fiori20Adapter",{constructor:function(c,o){B.call(this);this._oComponent=c;this._oConfig=o;this._oHeaderInfo=new H(c,o,new A(c));if(S){S.attachViewChange(this._onViewChange,this);}},init:function(){if(!S){return;}jQuery.sap.measure.start("Fiori20Adapter");var c=jQuery.extend({},this._oConfig);S.traverse(this._oComponent.getAggregation("rootControl"),c);jQuery.sap.measure.end("Fiori20Adapter");},destroy:function(){if(S){S.detachViewChange(this._onViewChange,this);}},_onViewChange:function(e){this._oHeaderInfo.registerView(e.getParameters());}});F.applyTo=function(c,o,a,s){var O=c instanceof U?c:C.getOwnerComponentFor(c);if(!O){O=o;}if(O&&!O._fioriAdapter){u=s;O._fioriAdapter=new F(O,a);O._fioriAdapter.init();}};return F;});
sap.ui.predefine('sap/ushell/Fiori20AdapterTest',['sap/ui/core/UIComponent','sap/ushell/Fiori20Adapter'],function(U,F){"use strict";var a={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_WHITELIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(c){var C=this._getURLParamConfiguration();if(!C){C=this._getMetadataConfiguration(c);}if(!C){C=this._getDefaultConfiguration(c);}C.iSearchDepth=C.iSearchDepth||a.I_DEFAULT_SEARCH_DEPTH;if((typeof C.iSearchDepth==="string")&&!isNaN(C.iSearchDepth)){C.iSearchDepth=parseInt(C.iSearchDepth,10);}return C;},_getURLParamConfiguration:function(){if(typeof sap.ui.getCore().getConfiguration().getFiori2Adaptation!=="function"){return;}if(!this._isURLParameterSpecified(a.S_FIORI20ADAPTER_URL_PARAM_NAME)){return;}var u=sap.ui.getCore().getConfiguration().getFiori2Adaptation(),b,s;if(typeof(u)==="boolean"){b=u;}else if(u&&(u.length>=1)){s=u;}if(!s&&(b===undefined)){return;}return{bStylePage:s?s.indexOf("style")>-1:b,bMoveTitle:s?s.indexOf("title")>-1:b,bHideBackButton:s?s.indexOf("back")>-1:b,bCollapseHeader:s?s.indexOf("collapse")>-1:b,bHierarchy:s?s.indexOf("hierarchy")>-1:b};},_getMetadataConfiguration:function(c){var A=c.getMetadata("config").getConfig(a.S_FIORI20ADAPTER_METADATA_PARAM_NAME),b,d;if(typeof(A)==="boolean"){b=A;}else if((typeof A==="object")&&!jQuery.isEmptyObject(A)){d=A;}if(!d&&(b===undefined)){return;}return{bStylePage:d?this._isSgnTrue(d["style"]):b,bMoveTitle:d?this._isSgnTrue(d["title"]):b,bHideBackButton:d?this._isSgnTrue(d["back"]):b,bCollapseHeader:d?this._isSgnTrue(d["collapse"]):b,bHierarchy:d?this._isSgnTrue(d["hierarchy"]):b,bLateAdaptation:d?this._isSgnTrue(d["lateAdaptation"]):a.B_DEFAULT_LATE_ADAPTATION};},_getDefaultConfiguration:function(c){var e=this._hasMinVersionSmallerThan(c,"1.42")&&this._isWhitelisted(c);return{bStylePage:e,bMoveTitle:e,bHideBackButton:e,bCollapseHeader:e,bHierarchy:e};},_isURLParameterSpecified:function(p){var A=jQuery.sap.getUriParameters().mParams&&jQuery.sap.getUriParameters().mParams[p];return A&&(A.length>0);},_isWhitelisted:function(c){var C=c.getMetadata().getName();for(var i=0;i<a.A_WHITELIST.length;i++){var n=a.A_WHITELIST[i].substring(0,a.A_WHITELIST[i].length-2);if(this._isPrefixedString(C,n)){return true;}}return false;},_isAdaptationRequired:function(A){for(var o in A){if(A[o]===true){return true;}}return false;},_isPrefixedString:function(s,p){return s&&p&&(s.substring(0,p.length)===p);},_hasMinVersionSmallerThan:function(c,v){var i=c.getMetadata().getManifestEntry("sap.ui5"),m=true;if(i&&i.dependencies&&i.dependencies.minUI5Version){var M=new jQuery.sap.Version(i.dependencies.minUI5Version);m=M.compareTo(new jQuery.sap.Version(v))<0;}return m;},_isSgnTrue:function(v){return(v===true)||(v==="true");}};U._fnOnInstanceInitialized=function(c){var C=c.getAggregation("rootControl");if(!C||C.getId()==="navContainerFlp"||c.getId().indexOf("application-")!==0){return;}var o=a.getConfiguration(c);if(!a._isAdaptationRequired(o)){return;}if(!sap.ui.core.service||!sap.ui.core.service.ServiceFactoryRegistry||typeof sap.ui.core.service.ServiceFactoryRegistry.get!=="function"){jQuery.sap.log.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return;}var d={onBeforeRendering:function(){C.removeEventDelegate(d);var s=sap.ui.core.service.ServiceFactoryRegistry.get("sap.ushell.ui5service.ShellUIService"),S=s&&s.createInstance();if(!s||!S){jQuery.sap.log.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return;}S.then(function(s){if(s&&(s.getUxdVersion()===2)){F.applyTo(C,c,o,s);}},function(e){jQuery.sap.log.warning("Fiori20Adapter not loaded as ShellUIService is not available",e,"sap.ushell.Fiori20AdapterTest");});}};C.addEventDelegate(d);};},false);
sap.ui.predefine('sap/ushell/TechnicalParameters',["sap/ushell/utils/type"],function(t){"use strict";var T={"sap-navigation-scope":{injectFrom:"inboundParameter",sticky:true,stickyName:"sap-navigation-scope-filter",getValue:function(p,A,o,s){return new Promise(function(S,F){if(s==="UI5"){S(g(p,A));}else{S(b(p,o));}});}},"sap-fiori-id":{injectFrom:"startupParameter",getValue:function(p,A,o,s){return new Promise(function(S,F){if(s==="UI5"){S(g(p,A)||a('/sap.fiori/registrationIds',A));}else{S(b(p,o));}});}},"sap-ui-fl-max-layer":{injectFrom:"startupParameter",getValue:function(p,A){return Promise.resolve().then(g.bind(null,p,A));}},"sap-ui-fl-control-variant-id":{injectFrom:"startupParameter",getValue:function(p,A){return Promise.resolve().then(g.bind(null,p,A));}},"sap-ui-app-id-hint":{injectFrom:"startupParameter",getValue:d},"sap-ach":{injectFrom:"startupParameter",getValue:function(p,A,o,s){return new Promise(function(S,F){if(s==="UI5"){S(g(p,A)||a('/sap.app/ach',A));}else{S(b(p,o));}});}}};function d(p){return Promise.reject(p+" is reserved for shell internal usage only");}function g(p,A){var j=A.getComponentData().technicalParameters||{};return j[p];}function a(p,A){var m=A.getMetadata()?A.getMetadata():undefined;var v=m.getManifestEntry(p);if(!t.isArray(v)){v=[v];}return v;}function b(p,A){var r=A.getReservedParameters();return r&&r[p];}function c(p,A,o,s){if(!T[p]){return Promise.reject(p+" is not a known technical parameter");}return T[p].getValue(p,A,o,s);}function e(F){if(!F){F={};}return Object.keys(T).filter(function(o){var p=T[o];return Object.keys(F).every(function(s){var D=F[s];var H=p.hasOwnProperty(s);if(H){return p[s]===D;}return false;});}).map(function(m){return Object.keys(T[m]).reduce(function(p,P){p[P]=T[m][P];return p;},{name:m});});}function f(){return Object.keys(T);}function i(p){return T.hasOwnProperty(p);}function h(p,A,o,s){if(s==="UI5"){return g(p,A);}return b(p,o);}return{getParameterValue:c,getParameterValueSync:h,getParameters:e,getParameterNames:f,isTechnicalParameter:i};},false);
sap.ui.predefine('sap/ushell/URLTemplateProcessor',["sap/ui/thirdparty/URI","sap/ui/thirdparty/URITemplate","sap/ushell/utils/type","sap/ushell/utils/clone","sap/ushell/_URLTemplateProcessor/utils","sap/ushell/_URLTemplateProcessor/Resolvers","sap/ushell/_URLTemplateProcessor/DependencyGraph","sap/ushell/_URLTemplateProcessor/TemplateParameterParser"],function(U,u,t,c,a,r,d,T){"use strict";function l(s){jQuery.sap.log.debug(s,"sap.ushell.URLTemplateProcessor");}function f(v){if(typeof v==="undefined"){return"<undefined>";}if(typeof v==="string"){if(v===""){return"<empty string>";}return"'"+v+"'";}if(typeof v==="number"){return"(number) "+v;}if(typeof v==="boolean"){return"(bool) "+v;}var s;if(typeof v==="object"){s=JSON.stringify(v);if(s.length>255){s=s.substr(0,255)+"...";}}else{s="{other type}";}return s;}function m(h,i){var j=c(h);var k=c(i);return Object.keys(k).reduce(function(o,O){o[O]=k[O];return o;},j);}function b(p,s,D){var M=p&&p.mergeWith;var P=p&&p.names;if(!M){return P;}var o=T.parsePath(D,p.mergeWith);if(o.pathType==="relative"){throw new Error("Please only specify absolute paths via mergeWith");}o.value.forEach(function(i){if(i.type!=="literal"){throw new Error("Please do not specify references in mergeWith paths");}});var h=r.resolvePath(o,{},s,{},{});return m(h,P);}function e(p){var P=Object.keys(p).filter(function(s){return typeof p[s]==="object"&&(p[s].hasOwnProperty("renameTo"));});var o=[];P.forEach(function(s){var h=p[s];if(h.hasOwnProperty("renameTo")){o.push(function(i,j){var R=j;R=j.replace(new RegExp(s+"=","g"),h.renameTo+"=");return R;});}});return o;}function g(o,s,R,A,D){l("[TEMPLATE EXPANSION] "+o.urlTemplate);var h=b(o.parameters,s,D)||{};var i=a.removeArrayParameterNotation(R[D]||{});var j=T.parseTemplateParameterSet(h,D);var k=T.parseTemplateParameterSetAsLiterals(i);var p=m(k,j);l("- parsed template parameters: "+JSON.stringify(p,null,3));var G=d.buildDependencyGraph(p);l("- created dependency graph: "+JSON.stringify(G,null,3));var n=d.getDependencyResolutionOrder(G);l("- resolving in order: "+n.join(" > "));var q=r.resolveAllParameters(p,n,s,R,A,D);Object.keys(q).forEach(function(x){var y=q[x];l(x+" --> "+f(y));});var P=e(h||{});var v=o.urlTemplate;var w=U.expand(v,q).toString();l("- created URL: "+w);P.forEach(function(O){w=O(v,w);});if(P.length>0){l("- created URL (post expansion): "+w);}return w;}return{expand:g};},false);
sap.ui.predefine('sap/ushell/User',['sap/ui/thirdparty/URI'],function(U){"use strict";function c(o){if(o===undefined){return undefined;}return jQuery.extend(true,{},o);}function g(u){var o;if(u.host&&typeof u.host==="function"&&u.host()){o=u.host();if(typeof u.protocol==="function"&&u.protocol()){o=u.protocol()+"://"+o;}return o;}return"";}function i(t){return t.indexOf("sap_")===0;}var a=function(C){var b=[],B,s,o,n,e=new sap.ui.base.EventProvider();this.getEmail=function(){return C.email;};this.getFirstName=function(){return C.firstName;};this.getFullName=function(){return C.fullName;};this.getId=function(){return C.id;};this.getLanguage=function(){return C.language;};this.getLanguageBcp47=function(){return C.languageBcp47;};this.getLastName=function(){return C.lastName;};this.getImage=function(){return C.image;};this.setImage=function(u){C.image=u;e.fireEvent('onSetImage',u);};this.attachOnSetImage=function(f,d){e.attachEvent('onSetImage',f,d);};this.isJamActive=function(){return C.isJamActive===true;};this.isLanguagePersonalized=function(){return C.isLanguagePersonalized===true;};this.getTheme=function(t){if(t===a.prototype.constants.themeFormat.ORIGINAL_THEME){return o.originalTheme.theme;}if(t===a.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return o.theme+(o.locationPath?"@"+o.locationOrigin+o.locationPath:"");}if(t===a.prototype.constants.themeFormat.NWBC){if(i(o.theme)){return o.theme;}else{return this.getTheme(a.prototype.constants.themeFormat.THEME_NAME_PLUS_URL);}}return o.theme;};this.getThemeRoot=function(t){if(C.ranges&&C.ranges.theme&&C.ranges.theme[t]&&C.ranges.theme[t].themeRoot){return C.ranges.theme[t].themeRoot;}else{return"";}};this.setTheme=function(N){if(this.isSetThemePermitted()===false){var E="setTheme not permitted";jQuery.sap.log.error(E);throw new Error(E);}o=this._amendTheme({theme:N,root:this.getThemeRoot(N)},s);if(N!==n.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},n.originalTheme.theme,N);n=o;}if(o.suppliedRoot){sap.ui.getCore().applyTheme(o.theme,o.suppliedRoot+"/UI5/");}else if(o.path){sap.ui.getCore().applyTheme(o.theme,o.path+"/UI5/");}else{sap.ui.getCore().applyTheme(o.theme);}};this.setLanguage=function(N){if(N){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},C.language,N);C.language=N;}};this.getAccessibilityMode=function(){return C.accessibility;};this.setAccessibilityMode=function(A){if(this.isSetAccessibilityPermitted()===false){var E="setAccessibilityMode not permitted";jQuery.sap.log.error(E);throw new Error(E);}C.accessibility=A;};this.isSetAccessibilityPermitted=function(){return C.setAccessibilityPermitted;};this.isSetThemePermitted=function(){return C.setThemePermitted;};this.getContentDensity=function(){return C.contentDensity;};this.setContentDensity=function(d){if(this.isSetContentDensityPermitted()===false){var E="setContentDensity not permitted";jQuery.sap.log.error(E);throw new Error(E);}this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},C.contentDensity,d);C.contentDensity=d;};this.isSetContentDensityPermitted=function(){return C.setContentDensityPermitted;};this.getChangedProperties=function(){return jQuery.extend(true,[],b);};this.setChangedProperties=function(p,d,f){b.push({propertyName:p.propertyName,name:p.name,oldValue:d,newValue:f});};this.resetChangedProperties=function(){b=[];};this.getTrackUsageAnalytics=function(){return C.trackUsageAnalytics;};this.setTrackUsageAnalytics=function(t){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},C.trackUsageAnalytics,t);C.trackUsageAnalytics=t;};this.setImageConsent=function(d){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},C.isImageConsent,d);C.isImageConsent=d;};this.getImageConsent=function(){return C.isImageConsent;};s={locationPathUi5:(new U(jQuery.sap.getModulePath(""))).absoluteTo(document.location).pathname(),locationPathCustom:C.themeRoot||"",locationOrigin:g(new U(document.location))};if(!s.locationPathUi5){jQuery.sap.log.warning("User: Could not set UI5 location path");}if(!s.locationPathCustom){jQuery.sap.log.warning("User: Could not set location path for custom themes");}if(!s.locationOrigin){jQuery.sap.log.warning("User: Could not set front-end server location origin");}B=C.bootTheme||{theme:"",root:""};o=this._amendTheme(B,s);n=o;};a.prototype._amendTheme=function(t,s){var T={},b,r;function d(R,s){var u,o,p={};u=new U(R);o=g(u);if(o){p.locationOrigin=o;p.locationPath=u.path();}else{p.locationOrigin=s.locationOrigin;p.locationPath=R;}return p;}if(!t||!t.theme||!s){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""};}T.originalTheme=c(t);if(T.originalTheme.theme.indexOf("@")>0){b=T.originalTheme.theme.split('@',2);T.theme=b[0];T.suppliedRoot=b[1];r=d(b[1],s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.theme=T.originalTheme.theme;if(T.originalTheme.root){T.suppliedRoot=T.originalTheme.root;r=d(T.originalTheme.root,s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.suppliedRoot="";if(i(T.theme)){T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathUi5;T.path="";return T;}T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathCustom;T.path=T.locationPath;return T;};a.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return a;},true);
sap.ui.predefine('sap/ushell/UserActivityLog',['./utils','sap/ushell/ui/launchpad/Tile','sap/ushell/EventHub'],function(u,T,E){"use strict";var U=function(){};U.prototype={_maxLoggedMessages:30,_maxMessageByteSize:2048,_maxQueueByteSize:30720,_isActive:false,_observedLaunchpadActions:["createGroup","deleteGroup","resetGroup","changeGroupTitle","moveGroup","addTile","deleteTile","movetile","externalSearch","addBookmarkTile"],_observedGeneralActions:["openApp"],_observedEventHubEvents:["showCatalog"],_aDoableObjects:[],messageType:{ACTION:0,ERROR:1},_tileOntapOrigFunc:undefined,activate:function(c){if(this._isActive){return;}this._isActive=true;var e=sap.ui.getCore().getEventBus(),t=this;this._observedLaunchpadActions.forEach(function(b,i,d){e.subscribe("launchpad",b,t._handleAction,t);});e.subscribe("sap.ushell","appOpened",t._handleAction,t);this._observedGeneralActions.forEach(function(b,i,d){e.subscribe(b,t._handleAction,t);});this._observedEventHubEvents.forEach(function(b,i,d){t._aDoableObjects.push(E.on(b).do(t._handleActionEventHub.bind(t)));});jQuery.sap.log.addLogListener(this);jQuery.sap.log.debug("requiring sap.ushell.ui.launchpad.Tile",new Error().stack,"sap.ushell.UserActivityLog");t._tileOntapOrigFunc=T.prototype.ontap;sap.ushell.ui.launchpad.Tile.prototype.ontap=t._tileOnTapDecorator(t._tileOntapOrigFunc);},deactivate:function(){if(!this._isActive){return;}this._isActive=false;var e=sap.ui.getCore().getEventBus(),t=this;this._observedLaunchpadActions.forEach(function(b,i,c){e.unsubscribe("launchpad",b,t._handleAction,t);});e.unsubscribe("sap.ushell","appOpened",t._handleAction,t);this._observedGeneralActions.forEach(function(b,i,c){e.unsubscribe(b,t._handleAction,t);});this._aDoableObjects.forEach(function(d){d.off();});jQuery.sap.log.removeLogListener(this);sap.ushell.ui.launchpad.Tile.prototype.ontap=this._tileOntapOrigFunc;},addMessage:function(t,m,b){if(this._isActive){this._addMessageInternal(t,m,b);}},getLog:function(){return this._getLoggingQueueFromStorage();},getMessageInfo:function(s){var r={userDetails:this._getUserDetails(),shellState:this._getShellState(),navigationData:this._getLastNavActionFromStorage(),userLog:this.getLog(),formFactor:u.getFormFactor()};return r;},getMessageInfoAsString:function(s){return JSON.stringify(this.getMessageInfo(s));},onLogEntry:function(d){var e=(typeof d.details!="undefined"&&(d.details!==""))?(d.message+" , "+d.details):d.message;this.addMessage(this.messageType.ERROR,e);},onAttachToLog:function(){},onDetachFromLog:function(){},_tileOnTapDecorator:function(o){var t=this,n,l,b,c,d,e;return function(f,g){var h=this.getMetadata().getName();if(h=="sap.ushell.ui.launchpad.PlusTile"){t.addMessage(t.messageType.ACTION,"Open Catalog for empty group "+this.getGroupId());}else if(h=="sap.ushell.ui.launchpad.Tile"){n=hasher.getHash();if(n){var i=sap.ushell.Container.getService("URLParsing");var j=i.parseShellHash(n);n='#'+i.constructShellHash({target:{semanticObject:j.semanticObject,action:j.action}});}l=t._getLastNavActionFromStorage();l.time=new Date();l.navigationHash=n;l.tileDebugInfo=this.getDebugInfo();b=sap.ui.getCore().byId(this.getId());c=b.getModel();d=this.getBindingContext();e=d.getPath();l.tileTitle=d.getModel().getProperty(e).title;t._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));t.addMessage(t.messageType.ACTION,"Click on Tile: "+c.getData().title+" Tile debugInfo: "+this.getDebugInfo());}o.apply(this,arguments);};},_addMessageInternal:function(t,m,b){var l=this._getLoggingQueueFromStorage(),c={type:null},p;for(p in this.messageType){if(t==this.messageType[p]){c.type=p;break;}}if(c.type===null){return;}jQuery.extend(c,{messageID:b,messageText:m,time:new Date(),toString:function(){var d=[this.type,this.time];if(typeof this.messageID!=="undefined"){d.push(this.messageID);}d.push(this.messageText);return d.join(" :: ");}});l.push(c);if(l.length>this._maxLoggedMessages){l.shift();}this._putInSessionStorage("sap.ushell.UserActivityLog.loggingQueue",JSON.stringify(l));},_handleActionEventHub:function(e){this._handleAction("",e.sId,e.oData);},_handleAction:function(c,e,d){var m;switch(e){case'deleteTile':m="Delete Tile "+(d.tileId||"");break;case'moveTile':m="Move Tile "+(d.sTileId||"")+" to Group "+(d.toGroupId||"");break;case'createGroup':m="Create Group";break;case'changeGroupTitle':m="Change Group Title of "+(d.groupId||"")+" to "+(d.newTitle||"");break;case'deleteGroup':m="Delete Group "+(d.groupId||"");break;case'addTile':var t=d.catalogTileContext.oModel.oData,s=d.catalogTileContext.sPath,b=this._findInModel(s,t),f=b.id,g=d.groupContext.getObject(),h=g.groupId;m="Add Tile "+(f||"")+" to Group "+(h||"");break;case'moveGroup':m="Move Group from index "+(d.fromIndex||"")+" to index "+(d.toIndex||"");break;case'appOpened':m="Open application "+d.action;var l=this._getLastNavActionFromStorage();l.applicationInformation={};["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(p){l.applicationInformation[p]=d[p];});if(!this._hashSegmentsEqual(l.navigationHash,d.sShellHash)){l.tileDebugInfo="";}l.navigationHash=d.sShellHash;this._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));break;case'addBookmarkTile':m="Add Bookmark "+(d.title||"")+" "+(d.subtitle||"")+" for URL: "+(d.url||"");break;case'showCatalog':m="Show Catalog";break;default:break;}this.addMessage(this.messageType.ACTION,m);},_findInModel:function(p,m){var b,c=m,i,d;try{b=p.split("/");for(i=0;i<b.length;i=i+1){if(d!==b[i]){continue;}c=c[d];}}catch(e){return undefined;}return c;},_getUserDetails:function(s){var b=sap.ushell.Container.getUser();return{fullName:b.getFullName()||"",userId:b.getId()||"",eMail:b.getEmail()||"",Language:b.getLanguage()||""};},_getShellState:function(){var v=sap.ui.getCore().byId("viewPortContainer"),m,r="";if(v!==undefined){m=v.getModel();r=m.getProperty("/currentState/stateName");}return r;},_getLoggingQueueFromStorage:function(){var l=this._getFromSessionStorage("sap.ushell.UserActivityLog.loggingQueue");var q=[];if(l){try{q=JSON.parse(l);}catch(e){}}return q;},_getLastNavActionFromStorage:function(){var l=this._getFromSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData");return(l?JSON.parse(l):{});},_hashSegmentsEqual:function(b,c){if((!b)||(!c)){return false;}return(this._getHashSegment(b)==this._getHashSegment(c))?true:false;},_getHashSegment:function(b){var i=b.indexOf("~"),c;if(i>-1){return b.substring(0,i);}c=b.indexOf("?");if(c>-1){return b.substring(0,c);}return b;},_getFromSessionStorage:function(k){var r=null;try{r=sessionStorage.getItem(k);}catch(e){}return r;},_putInSessionStorage:function(k,v){try{sessionStorage.setItem(k,v);}catch(e){}}};var a=new U();return a;},true);
sap.ui.predefine('sap/ushell/_ApplicationType/guiResolution',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping"],function(U,u,a,S,c,p){"use strict";function r(O,K){K.forEach(function(s){delete O[s];});}function i(P,I){return I&&I.signature&&I.signature&&I.signature.parameters&&I.signature.parameters[P]&&I.signature.parameters[P].required===true;}function g(E,I){var y=i("DYNP_OKCODE",I)||i("DYNP_NO1ST",I);var B=[];if(y){return[];}var z=b(E);function A(s){return s.toUpperCase();}var N=Object.keys(z).map(A).sort();function C(s,D){if(s.length!==D.length){return false;}return s.every(function(F,G){return s[G]==D[G];});}if(C(["DYNP_NO1ST","DYNP_OKCODE"],N)||C(["DYNP_OKCODE"],N)||C(["DYNP_NO1ST"],N)){B=Object.keys(z);}return B;}function b(P){var B=c.filterObject(P,d);return B;}function d(N,V){var s;if(arguments.length===1){s=N.split(/[=](.+)?/);if(s.length>1){return d.apply(null,s);}}return!(N.indexOf("sap-")===0||N.charAt(0)==="~");}function e(M,B,E){var I=M.inbound;var R=I&&I.resolutionResult;if(!(!I||!R||!(R["sap.gui"])||!(R.applicationType==="TR"))){return l(M,B,E);}if(!(!I||!R||!(R.applicationType==="TR")||!(R.url.indexOf("/~canvas;")>=0)||!(R.url.indexOf("app/transaction/APB_LPD_CALL_")===-1))){return n(M,B,E);}if(!(!I||!R||!(R.applicationType==="TR")||!(R.url.indexOf("/~canvas;")>=0)||!(R.url.indexOf("app/transaction/APB_LPD_CALL_")>=0))){return m(M,B,E);}if(!(!I||!R||!(R.applicationType==="TR")||!(R.url.indexOf("/its/webgui")>=0)||!(R.url.indexOf("APB_LPD_CALL_")===-1))){return o(M,B,E);}if(!(!I||!R||!(R.applicationType==="TR")||!(R.url.indexOf("/its/webgui")>=0)||!(R.url.indexOf("APB_LPD_CALL_")!==-1))){return k(M,B,E);}throw new Error("Cannot generate TR resolution result");}function f(T,s,y,E){var z,A;z="/gui/sap/its/webgui?%7etransaction="+T+"&%7enosplash=1";A=new U(z);return S.spliceSapSystemIntoURI(A,S.LOCAL_SYSTEM_ALIAS,s,y,"NATIVEWEBGUI",S.SYSTEM_ALIAS_SEMANTICS.apply,E);}function h(Q,P,s,y){var I,z="P_OBJECT"+y,M=132;var A=a.getURLParsing().privparamsToString(P,"%25","%21");if(!A){return Q;}var B="";j("P_OBJECT",Q,s,y,function(E){var F=E.replace(z,"");B=decodeURIComponent(F);if(B.length>0){B=B+"%25";}return z;});A=B+A;var C={pObjX:"",pObject:""};A.match(new RegExp(".{1,"+M+"}","g")).map(function(E){return encodeURIComponent(E);}).forEach(function(E,G){var F="P_OBJECT";var H="pObject";if(G>0){F="P_OBJ"+G;H="pObjX";}var J=C[H].length===0?"":s;C[H]=C[H]+J+F+y+E;});I=[C.pObjX,C.pObject].filter(function(E){return E.length>0;}).join(s);var D=j("P_OBJECT",Q,s,y,function(F){return I;});if(D.found){return D.query;}return Q+(Q.length===0?"":s)+I;}function j(T,Q,s,y,A){var F=false,P=T+y;var z=Q.split(s).map(function(B){if(B.indexOf(P)!==0){return B;}F=true;return A(B);}).filter(function(B){return typeof B!=="undefined";}).join(s);return{found:F,query:z};}function k(M,B,E){var I=M.inbound,s=I&&I.resolutionResult,R={};var W=new U(B);var y=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);var z=y["sap-system"]&&y["sap-system"][0];var A=y["sap-system-src"]&&y["sap-system-src"][0];R["sap-system"]=z;delete y["sap-system"];if(typeof A==="string"){R["sap-system-src"]=A;delete y["sap-system-src"];}return new Promise(function(C,D){S.spliceSapSystemIntoURI(W,s.systemAlias,z,A,"NATIVEWEBGUI",s.systemAliasSemantics||S.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(D).done(function(W){var P=W.search();var F=P.split("&").map(function(Q){var G;if(Q.indexOf("?%7etransaction")===0||Q.indexOf("%7etransaction")===0){G=h(Q,y,"%3b","%3d");return G;}return Q;}).join("&");W.search(F);["additionalInformation","applicationDependencies"].forEach(function(G){if(I.resolutionResult.hasOwnProperty(G)){R[G]=I.resolutionResult[G];}});R.url=W.toString();R.text=I.title;R.applicationType="TR";C(R);});});}function l(M,B,E){var I=M.inbound,s=I&&I.resolutionResult,y=M.mappedIntentParamsPlusSimpleDefaults||{};var z=s.systemAlias;if(y["sap-system"]){z=y["sap-system"][0];}var A;if(y["sap-system-src"]){A=y["sap-system-src"][0];}return new Promise(function(R,C){f(I.resolutionResult["sap.gui"].transaction,z,A,E).done(function(D){p.mapParameterNamesAndRemoveObjects(M);var F=q(M.inbound,M.mappedIntentParamsPlusSimpleDefaults,D);if(F&&M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult["sap.platform.runtime"]){F["sap.platform.runtime"]=M.inbound.resolutionResult["sap.platform.runtime"];}F["sap-system"]=z;R(F);}).fail(C);});}function m(M,B,E){var I=M.inbound,s=I&&I.resolutionResult;var R={};var W=new U(B);var y=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);var z=y["sap-system"]&&y["sap-system"][0];var A=y["sap-system-src"]&&y["sap-system-src"][0];R["sap-system"]=z;delete y["sap-system"];if(typeof A==="string"){R["sap-system-src"]=A;delete y["sap-system-src"];}return new Promise(function(C,D){S.spliceSapSystemIntoURI(W,s.systemAlias,z,A,"WEBGUI",s.systemAliasSemantics||S.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(D).done(function(W){var P=W.search();P=h(P,y,"&","=");W.search(P);["additionalInformation","applicationDependencies"].forEach(function(F){if(I.resolutionResult.hasOwnProperty(F)){R[F]=I.resolutionResult[F];}});R.url=W.toString();R.text=I.title;R.applicationType="NWBC";C(R);});});}function n(M,B,E){var I=M.inbound,s=I&&I.resolutionResult;var R={};var W=new U(B);var y=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);var z=y["sap-system"]&&y["sap-system"][0];var A=y["sap-system-src"]&&y["sap-system-src"][0];R["sap-system"]=z;delete y["sap-system"];if(typeof A==="string"){R["sap-system-src"]=A;delete y["sap-system-src"];}var C=g(y,I||{});r(y,C);return new Promise(function(D,F){S.spliceSapSystemIntoURI(W,s.systemAlias,z,A,"WEBGUI",R.systemAliasSemantics||S.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(F).done(function(W){var G=a.getURLParsing().paramsToString(y);var P=W.search();if(G){P=P+((P.indexOf("?")<0)?"?":"&")+G;}W.search(P);["additionalInformation","applicationDependencies"].forEach(function(H){if(I.resolutionResult.hasOwnProperty(H)){R[H]=I.resolutionResult[H];}});R.url=W.toString();R.text=I.title;R.applicationType="NWBC";D(R);});});}function o(M,B,E){var I=M.inbound,R=I&&I.resolutionResult,F={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true,"sap-system-src":true};var W=new U(B);var s=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);var y=s["sap-system"]&&s["sap-system"][0];var z=s["sap-system-src"]&&s["sap-system-src"][0];Object.keys(s).forEach(function(P){if(F[P.toLowerCase()]){delete s[P];}});return new Promise(function(A,C){S.spliceSapSystemIntoURI(W,R.systemAlias,y,z,"NATIVEWEBGUI",R.systemAliasSemantics||S.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(C).done(function(W){var R=q(M.inbound,M.mappedIntentParamsPlusSimpleDefaults,W);A(R);});});}function q(I,M,W){var F={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true};var R={};var E=jQuery.extend(true,{},M);var s=E["sap-system"]&&E["sap-system"][0];var y=E["sap-system-src"]&&E["sap-system-src"][0];R["sap-system"]=s;if(typeof y==="string"){R["sap-system-src"]=y;}Object.keys(E).forEach(function(D){if(F[D.toLowerCase()]){delete E[D];}});var z=g(E,I||{});r(E,z);var A=t(E);r(E,Object.keys(A));var P=W.search();var B=P.split("&").map(function(Q){var N;if(!d(Q)){if(Q.indexOf("=")>=0){N=Q.split("=");if(!A.hasOwnProperty(N[0])){A[N[0]]=N[1];}}else{jQuery.sap.log.error("Found no '=' separator of Webgui non-business parameter. Parameter will be skipped.","'"+Q+"'","sap.ushell.services.ClientSideTargetResolution");}return undefined;}var D;if(Q.indexOf("?%7etransaction")===0||Q.indexOf("%7etransaction")===0){D=w(Q,E,"%3b","%3d");return D;}return Q;}).filter(function(D){return typeof D!=="undefined";}).join("&");var C=a.getURLParsing().paramsToString(A);B=[B,C.replace("~","%7e")].join("&");W.search(B);["additionalInformation","applicationDependencies","sap.platform.runtime"].forEach(function(D){if(I.resolutionResult.hasOwnProperty(D)){R[D]=I.resolutionResult[D];}});R.url=W.toString();R.text=I.title;R.applicationType="TR";return R;}function t(P){var N;N=c.filterObject(P,function(K,V){return!d(K,V);});return N;}function v(T){var s="^(.+?)(%20|(%20)(.+))?$",y=new RegExp(s,"i"),z,P={hasParameters:null,transactionParamName:"",transactionCode:"",parameters:[]};var A=T.split("=");if(A.length>2){return{"error":"Found more than one assignment ('=') in the transaction query parameter","details":"Only one '=' sign is expected in "+T};}if(A.length<2||typeof A[1]==="undefined"||A[1].length===0){return{"error":"The transaction query parameter must specify at least the transaction name","details":"Got "+T+" instead."};}P.transactionParamName=A[0];z=A[1];var M=z.match(y);if(!M){return{"error":"Cannot parse ~transaction query parameter value.","details":z+" should match /"+s+"/"};}P.transactionCode=M[1];if(M[2]&&M[2]!=="%20"){var B=M[4]||"";B.split("%3b").forEach(function(N){var C=N.split("%3d"),D=C[0];if(D&&typeof D==="string"&&D.length>0){P.parameters.push({name:D,value:C[1]});}});}P.hasParameters=false;if(P.parameters.length>0){P.hasParameters=true;P.transactionCode=P.transactionCode.replace(/^[*]/,"");}return P;}function w(T,P){var s=v(T);if(s.error){jQuery.sap.log.error(s.error,s.details,"sap.ushell.services.ClientSideTargetResolution");return T;}var y=s.parameters.map(function(B){return B.name.toUpperCase()+"%3d"+B.value;});var z={};Object.keys(P).forEach(function(K){z[K.toUpperCase()]=P[K];});var A=a.getURLParsing().privparamsToString(z,"%3b","%3d");if(A){y.push(A);}var H=y.length>0;return s.transactionParamName+"="+(H?"*":"")+s.transactionCode+(H?"%20":"")+y.join("%3b");}function x(I,M,E){return new Promise(function(R,s){var y;if(I.params["sap-system-src"]){y=I.params["sap-system-src"][0];}var z=I.params["sap-system"]?I.params["sap-system"][0]:undefined;var A=I.params["sap-ui2-tcode"]?I.params["sap-ui2-tcode"][0]:undefined;f(A,z,y,E).done(function(B){delete M.intentParamsPlusAllDefaults["sap-ui2-tcode"];p.mapParameterNamesAndRemoveObjects(M);var C=q(M.inbound,M.mappedIntentParamsPlusSimpleDefaults,B);if(C&&M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult["sap.platform.runtime"]){C["sap.platform.runtime"]=M.inbound.resolutionResult["sap.platform.runtime"];}C["sap-system"]=z;C.text=A;R(C);}).fail(function(B){s(B);});});}return{generateTRResolutionResult:e,resolveEasyAccessMenuIntentWebgui:x,injectEffectiveParametersIntoWebguiQueryParam:w,injectEffectiveParametersIntoWebguiPobjectParam:h,amendGuiParam:j,parseWebguiTransactionQueryParam:v,getWebguiNonBusinessParameters:t,getWebguiBusinessParameters:b,isWebguiBusinessParameter:d,buildNativeWebGuiURI:f,constructFullWebguiResolutionResult:l};},false);
sap.ui.predefine('sap/ushell/_ApplicationType/systemAlias',["sap/ui/thirdparty/URI","sap/ushell/utils"],function(U,u){"use strict";var S="";var O={apply:"apply",applied:"applied"};function i(o){return(o.protocol()||"").length>0;}function r(k,l,E){var m=typeof l==="string";var n=[k];if(m){n.unshift(l);}var K=u.generateLocalStorageKey("sap-system-data",n);var L=u.getLocalStorage();var o=L.getItem(K);var p={};if(o){try{p=JSON.parse(o);}catch(q){return new jQuery.Deferred().reject("Cannot parse system data from local storage at key '"+K+"'. Data: "+o);}return new jQuery.Deferred().resolve(p).promise();}else if(m){return new jQuery.Deferred().reject("Cannot find data for system '"+k+"' in local storage using key '"+K+"'");}if(!E){return new jQuery.Deferred().reject("fallback: the adapter does not implement resolveSystemAlias").promise();}return E(k);}function a(k,l,o,m,E){var n=o,D=new jQuery.Deferred();r(k,l,E).fail(function(p){D.reject(p);}).done(function(R){var V=v(R);if(!V.isValid){g(V);D.reject("Invalid system alias definition");return D;}var p=f(R,new U(window.location.toString()).protocol()),q=R[p],Q,L,t;if(k===S&&q.host===""&&(q.port===0||q.port==="")){p="";}n.protocol(p);n.hostname(q.host);n.port(q.port);j(n,m,q.pathPrefix,E).fail(function(w){D.reject(w);}).done(function(n){Q=n.query();if(typeof R.client==="string"&&R.client!==""){Q=Q+(Q.length>0?"&":"")+"sap-client="+R.client;}if(typeof R.language==="string"&&R.language!==""){L=R.language;}else{t=sap.ushell.Container.getUser();if(!t){jQuery.sap.log.error("Cannot retieve the User object via sap.ushell.Container while determining sap-language","will default to 'en' language","sap.ushell.services.ClientSideTargetResolution");L="en";}else{L=t.getLanguage();}}Q=Q+(Q.length>0?"&":"")+"sap-language="+L;n.query(Q);if(R.hasOwnProperty("rfc")&&m==="NATIVEWEBGUI"){var w=c(R.rfc,q.host,n);var P=n.path()+";"+w;n.path(P);o._parts.path=P;}D.resolve(n);});});return D.promise();}function s(o,k,l,m,n,p,E){var D=new jQuery.Deferred();if(p!==O.apply&&p!==O.applied){throw new Error("Invalid system alias semantic was provided: '"+p+"'");}if(p===O.applied&&((typeof l==="undefined"||k===l))){return D.resolve(o).promise();}if(p===O.apply&&typeof k==="undefined"&&typeof l==="undefined"){return D.resolve(o).promise();}if(n==="URL"&&p==O.applied){return b(o,k,l,m,E);}(new Promise(function(R){if(p===O.apply){R({targetUri:o,alias:l?l:k,sapSystemSrc:l?m:undefined});return;}d(o,k,undefined,n,E).fail(function(q){D.reject(q);}).done(function(q){R({targetUri:q,alias:l});});})).then(function(A){a(A.alias,A.sapSystemSrc,A.targetUri,n,E).fail(function(q){D.reject(q);}).done(function(I){D.resolve(I);});});return D.promise();}function b(o,k,l,m,E){var D=new jQuery.Deferred();if(k===S||typeof k==="undefined"){if(i(o)){return D.resolve(o);}a(l,m,o,"URL",E).fail(function(n){D.reject(n);}).done(function(n){D.resolve(n);});return D.promise();}r(k,m,E).fail(function(n){D.reject(n);}).done(function(R){var n=f(R,new U(window.location.toString()).protocol()),p=R[n],q;if((o.protocol()||"").toLowerCase()===n&&(o.hostname()||"")===p.host&&(o.path().indexOf(p.pathPrefix)===0)){o.protocol("");o.hostname("");q=o.path().replace(p.pathPrefix,"");o.path(q);h(o,["sap-language","sap-client"]);a(l,m,o,"URL",E).fail(function(t){D.reject(t);}).done(function(t){D.resolve(t);});}else{D.resolve(o);}});return D.promise();}function c(k,l){var R,m,I,t,n;I=!!k.systemId;if(I){t=[k.systemId&&("~sysid="+k.systemId),k.loginGroup&&("~loginGroup="+k.loginGroup),k.sncNameR3&&("~messageServer="+encodeURIComponent(k.sncNameR3)),k.sncNameR3&&("~sncNameR3="+encodeURIComponent(k.sncNameR3)),k.sncQoPR3&&("~sncQoPR3="+k.sncQoPR3)].filter(function(o){return(typeof o==="string")&&(o!=="");});}else{n=(k.host||"");m=n.toLowerCase()===l.toLowerCase();R=/^[/][HGMR][/].*/.test(n);if(n.length>0&&!m&&!R){jQuery.sap.log.error("Invalid connect string provided in 'host' field of system alias","Data for rfc destination provided are: "+JSON.stringify(k,null,3),"sap.ushell.services.ClientSideTargetResolution");}t=[n&&!R&&!m&&("~rfcHostName="+n),R&&("~connectString="+encodeURIComponent(n)),k.service&&("~service="+k.service),k.sncNameR3&&("~sncNameR3="+encodeURIComponent(k.sncNameR3)),k.sncQoPR3&&("~sncQoPR3="+k.sncQoPR3)].filter(function(o){return(typeof o==="string")&&(o!=="");});}return t.join(";").replace(/(%[A-F0-9]{2})/g,function(E){return E.toLowerCase();});}function d(o,k,l,m,E){var D=new jQuery.Deferred();if(typeof k==="undefined"){e(o,k,m,undefined,E).fail(function(n){D.reject(n);}).done(function(n){D.resolve(n);});return D.promise();}r(k,l,E).fail(function(n){D.reject(n);}).done(function(R){e(o,k,m,R,E).fail(function(n){D.reject(n);}).done(function(n){D.resolve(n);});});return D.promise();}function e(o,k,l,R,E){var m,n,t,p,D=new jQuery.Deferred(),P=new jQuery.Deferred();o.protocol("");o.hostname("");o.port("");h(o,["sap-client","sap-language"]);if(!jQuery.isPlainObject(R)||typeof k!=="string"){return D.resolve(o).promise();}n=f(R,new U(window.location.toString()).protocol());m=R[n];p=(typeof m.pathPrefix==="string")&&m.pathPrefix;if(p!==""){P.resolve(p);}else{r("",undefined,E).fail(function(q){D.reject(q);}).done(function(q){var w=q[n];P.resolve(w.pathPrefix);});}P.fail(function(q){D.reject(q);}).done(function(p){if(p&&p.length>0){t=o.path();t=t.replace(p,"");if(t.indexOf("/")!==0){t="/"+t;}o.path(t);}if(l==="NATIVEWEBGUI"&&R.hasOwnProperty("rfc")){t=o.path();t=t.split(";").filter(function(q){return q.indexOf("~sysid=")!==0&&q.indexOf("~service=")!==0&&q.indexOf("~loginGroup=")!==0&&q.indexOf("~messageServer=")!==0&&q.indexOf("~sncNameR3=")!==0&&q.indexOf("~sncQoPR3=")!==0;}).join(";");o.path(t);}D.resolve(o);});return D.promise();}function f(o,B){if(o.hasOwnProperty("https")){return"https";}if(o.hasOwnProperty("http")){return"http";}jQuery.sap.log.error("Cannot select which system alias to pick between http/https","make sure they are provided in the given system alias collection","sap.ushell.services.ClientSideTargetResolution");return undefined;}function g(V){jQuery.sap.log.error("Invalid system alias definition: "+V.debug,"ERRORS:"+V.errors.map(function(E){return"\n - "+E;}).join(""),"sap.ushell.ApplicationType");}function v(R){function k(F){var E=[];if(typeof F.host!=="string"){E.push("host field must be a string");}if(typeof F.port!=="number"&&typeof F.port!=="string"){E.push("port field must be a number or a string");}if(typeof F.pathPrefix!=="string"){E.push("pathPrefix field must be a string");}return E;}var E=[],H=R.hasOwnProperty("https"),l=R.hasOwnProperty("http");if(!l&&!H){E.push("at least one of 'http' or 'https' fields must be defined");}if(H){k(R.https).forEach(function(m){E.push("https>"+m);});}if(l){k(R.http).forEach(function(m){E.push("http>"+m);});}if(E.length>0){return{isValid:false,errors:E,debug:JSON.stringify(R,null,3)};}return{isValid:true};}function h(o,p){var B={},t;p.forEach(function(P){B[P]=true;});t=o.query();t=t.split("&").filter(function(P){var k=(P.split("=")[0]||"").toLowerCase();return!B.hasOwnProperty(k);}).join("&");o.query(t);}function j(o,k,p,E){var D=new jQuery.Deferred(),t;if(k==="URL"&&p.length===0){return D.resolve(o).promise();}function l(P){var R=P+o.path();o.path(R.replace(/\/+/g,"/"));D.resolve(o);}r("",undefined,E).fail(function(m){D.reject(m);}).done(function(R){var m=f(R,new U(window.location.toString()).protocol());var L=R[m].pathPrefix;var P=p===L;if(p.length>0&&!P){if((k==="WDA"||k==="WEBGUI")&&o.path().indexOf("~canvas")>=0){t=o.path();t="/~canvas"+t.split("~canvas")[1];o.path(t);}}if(p.length===0){l(L);}else{l(p);}});return D.promise();}return{LOCAL_SYSTEM_ALIAS:S,SYSTEM_ALIAS_SEMANTICS:O,spliceSapSystemIntoURI:s,isAbsoluteURI:i,stripURI:d,selectSystemAliasDataName:f,constructNativeWebguiParameters:c};},false);
sap.ui.predefine('sap/ushell/_ApplicationType/utils',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/_ApplicationType/systemAlias"],function(U,u,s){"use strict";var o;function g(){if(!o){o=sap.ushell.Container.getService("URLParsing");}return o;}function a(c,S,d){if(!d||d===s.SYSTEM_ALIAS_SEMANTICS.applied){return s.isAbsoluteURI(c)&&!S;}if(d===s.SYSTEM_ALIAS_SEMANTICS.apply){return s.isAbsoluteURI(c);}throw new Error("Invalid system alias semantics: '"+d+"'");}function b(p,c){var S,f;if(p){var d=c.match(/#.*/);if(d){f=d;S=c.replace(d,"");}else{S=c;f="";}c=S+((c.indexOf("?")<0)?"?":"&")+p+f;}return c;}return{getURLParsing:g,appendParametersToUrl:b,absoluteUrlDefinedByUser:a};},false);
sap.ui.predefine('sap/ushell/_ApplicationType/wdaResolution',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias"],function(U,u,a,s){"use strict";function c(p,m){return new Promise(function(R,j){var E=jQuery.extend(true,{},p);if(m.length>0){E["sap-ushell-defaultedParameterNames"]=[JSON.stringify(m)];}delete E["sap-system"];sap.ushell.Container.getService("ShellNavigation").compactParams(E,["sap-xapp-state","sap-ushell-defaultedParameterNames","sap-intent-params"],undefined,true).fail(function(k){j(k);}).done(function(o){var k=a.getURLParsing().paramsToString(o);R(k);});});}function b(o,j){var p=o.search();if(j){p=p+((p.indexOf("?")<0)?"?":"&")+j;}return o.search(p).toString();}function d(A,C,I,o,E){var S,j,k,l,m,n=jQuery.extend(true,{},o);if(C){n["sap-wd-configId"]=C;}if(n["sap-system"]){S=n["sap-system"][0];delete n["sap-system"];}if(n.hasOwnProperty("sap-system-src")){j=n["sap-system-src"][0];delete n["sap-system-src"];}m=a.getURLParsing().paramsToString(n);if(I){k=e(A,m);}else{k=f(A,m);}l=new U(k);return s.spliceSapSystemIntoURI(l,s.LOCAL_SYSTEM_ALIAS,S,j,"WDA",s.SYSTEM_ALIAS_SEMANTICS.apply,E);}function e(A,j){return"/ui2/nwbc/~canvas;window=app/wda/"+A+"/"+"?"+j;}function f(n,j){var N=n.indexOf("/")!==0;if(N){n="sap/"+n;}return"/webdynpro/"+n+"?"+j;}function g(I,F,S,j){var R={"sap-system":S,url:F,text:I.title,applicationType:"NWBC"};if(typeof j==="string"){R["sap-system-src"]=j;}["additionalInformation","applicationDependencies"].forEach(function(p){if(I.resolutionResult.hasOwnProperty(p)){R[p]=I.resolutionResult[p];}});return R;}function h(m,B,E){var I=jQuery.sap.getObject("inbound.resolutionResult",undefined,m),M=m.mappedIntentParamsPlusSimpleDefaults||{};var S=I.systemAlias;if(M["sap-system"]){S=M["sap-system"][0];}var j;if(M["sap-system-src"]){j=M["sap-system-src"][0];}var o={"sap-system":[S]};if(typeof j==="string"){o["sap-system-src"]=[j];}var C=I["sap.wda"].compatibilityMode;if(C==undefined){C=true;}return new Promise(function(R,k){d(I["sap.wda"].applicationId,I["sap.wda"].configId,C,o,E).done(function(w){var M=m.mappedIntentParamsPlusSimpleDefaults;c(M,m.mappedDefaultedParamNames).then(function(l){var F=b(w,l);var S=M["sap-system"]&&M["sap-system"][0];var j=M["sap-system-src"]&&M["sap-system-src"][0];var n=g(m.inbound,F,S,j);R(n);},function(l){k(l);});}).fail(function(l){k(l);});});}function i(m,B,E){var I=m.inbound,o=I&&I.resolutionResult,M=m.mappedIntentParamsPlusSimpleDefaults;var w=new U(B);var S=M["sap-system"]&&M["sap-system"][0];var j=M["sap-system-src"]&&M["sap-system-src"][0];return Promise.all([(new Promise(function(D,R){s.spliceSapSystemIntoURI(w,o.systemAlias,S,j,"WDA",o.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(R).done(D);})),c(M,m.mappedDefaultedParamNames)]).then(function(R){var W=R[0];var k=R[1];var F=b(W,k);var l=g(I,F,S,j);return l;},function(k){return Promise.reject(k);});}function r(I,m,E){var C,A,o,j=true;A=I.params["sap-ui2-wd-app-id"][0];C=(jQuery.sap.getObject("params.sap-ui2-wd-conf-id",undefined,I)||[])[0];o=Object.keys(I.params).reduce(function(R,p){if(p!=="sap-ui2-wd-app-id"&&p!=="sap-ui2-wd-conf-id"){R[p]=I.params[p];}return R;},{});return new Promise(function(R,k){d(A,C,j,o,E).done(function(l){var S=I.params.hasOwnProperty("sap-system-src")&&I.params["sap-system-src"][0];var n=I.params.hasOwnProperty("sap-system")&&I.params["sap-system"][0];var p={url:l.toString(),applicationType:"NWBC",text:A,additionalInformation:"","sap-system":n};if(typeof S==="string"){p["sap-system-src"]=S;}if(m&&m.inbound&&m.inbound.resolutionResult&&m.inbound.resolutionResult["sap.platform.runtime"]){p["sap.platform.runtime"]=m.inbound.resolutionResult["sap.platform.runtime"];}R(p);}).fail(function(l){k(l);});});}return{resolveEasyAccessMenuIntentWDA:r,constructFullWDAResolutionResult:h,constructWDAResolutionResult:i};},false);
sap.ui.predefine('sap/ushell/_Config/utils',[],function(){"use strict";function i(p,C){var e=[];var n=[];var o=C;var f=false;var P=p.split("/");P.shift();P.forEach(function(g){if(!f&&o.hasOwnProperty(g)){o=o[g];e.push(g);return;}f=true;n.push(g);});return{contractPart:"/"+e.join("/"),nonContractPart:n};}function a(v){return v&&v.isA&&v.isA("sap.ui.model.Context");}function w(C,p,o,v){var D=o;p.forEach(function(P,I){if(I===p.length-1){D[P]=v;return;}if(!D.hasOwnProperty(P)){throw new Error("Cannot find "+P+" inside "+C);}D=D[P];});}function c(p){var P=function(e){return p+e;};if(typeof p==="object"){var S="/";P=function(e){var f=e.split(S);f.shift();var F=f.shift();return p[F]+(f.length>0?S+f.join(S):"");};}return P;}function b(p,m,P){var f=c(P);var F=f(p);if(a(m)&&p.charAt(0)!=="/"){var r=m.getPath()+"/"+p;F=f(r);}return F;}function s(f,C,m,p){m.setData=function(P,D){throw new Error("not yet implemented");};m.setProperty=function(P,D,M){var F=b(P,M,p);var I=i(F,C);if(I.nonContractPart.length===0){f.emit(I.contractPart,D);return;}var B=f.last(I.contractPart);w(I.contractPart,I.nonContractPart,B,D);f.emit(I.contractPart,B);};return m;}function d(f,C,p,e){var m,S,g,P;if(typeof p==="string"){var h=p;P=h;var I=f.last(h);if(Object.prototype.toString.apply(I)!=="[object Object]"){throw new Error("Cannot bind on leaf property of Configuration: '"+h+"'");}m=new e(I);g=m.setData.bind(m);f.on(h).do(function(v){g(v);});return s(f,C,m,P);}if(Object.prototype.toString.apply(p)==="[object Object]"){var D=p;var M=Object.keys(D).reduce(function(M,k){var j=D[k];M[k]=f.last(j);f.on(j).do(function(k,v){S("/"+k,v);}.bind(null,k));return M;},{});m=new e(M);S=m.setProperty.bind(m);return s(f,C,m,D);}throw new Error("Invalid parameter provided to createModel. Must be an object or a string.");}return{createModel:d};},false);
sap.ui.predefine('sap/ushell/_URLTemplateProcessor/DependencyGraph',["sap/ushell/utils/clone"],function(c){"use strict";function i(n){return typeof n==="string"||n.type==="wildcard"||n.type==="literal"||n.type==="intentParameter"||n.type==="reference";}function a(n){return n.type==="reference"&&!n.namespace;}function b(G,p,n){if(!G.hasOwnProperty(p)){G[p]=[];}if(a(n)){G[p].push(n.value);}}function d(p){var D={};var A=b.bind(null,D);Object.keys(p).forEach(function(P){var n=p[P];v(n,P,A);});return D;}function e(n){var N=n.type;if(N==="expression"){return[n.value];}if(N==="function"){return(n.args||[]).concat(n.params||[]);}if(N==="pipe"||N==="path"){return n.value;}throw new Error("Unknown type encountered while building dependency graph: '"+N+"'");}function v(n,p,A){A(p,n);if(i(n)){return;}var N=e(n);N.forEach(function(n){v(n,p,A);});}function g(D){var o=c(D);var n,N,r=[],R={};do{var f=Object.keys(o);n=f.length;f.forEach(function(s){if(o[s].length>0){o[s]=o[s].filter(function(h){var w=!R[h];var m=o.hasOwnProperty(h);return w&&m;});}if(o[s].length===0){delete o[s];r.push(s);R[s]=true;}});N=Object.keys(o).length;}while(n!==N);if(N!==0){throw new Error("Graph of dependencies contains cyclic references");}return r;}return{buildDependencyGraph:d,getDependencyResolutionOrder:g};},false);
sap.ui.predefine('sap/ushell/_URLTemplateProcessor/Functions',["sap/ushell/utils/type","sap/ushell/utils/clone","sap/ushell/_URLTemplateProcessor/utils","sap/ui/thirdparty/URI"],function(t,c,u,U){"use strict";var O={url:{args:["urlPart?"],minValues:0,maxValues:0,fn:function(A){var o=new U();var k=["protocol","scheme","username","password","hostname","port","host","userinfo","authority","origin","subdomain","domain","tld","pathname","path","directory","filename","suffix","search","query","hash","fragment","resource"];var m="toString";if(A.urlPart){if(k.indexOf(A.urlPart)===-1){throw new Error("The URL part '"+A.urlPart+"' is not valid. Please use one of "+k.join(", "));}m=A.urlPart;}return o[m]();}},if:{args:["trueCondition"],minValues:1,maxValues:2,fn:function(A,v){var V=g(v);if(i(A.trueCondition)){return V.length===1?undefined:V.pop();}return V[0];}},and:{args:["emptyCondition?"],minValues:1,fn:function(A,v){var V=g(v);if(typeof A.emptyCondition==="undefined"&&A.length>0){return undefined;}if(typeof A.emptyCondition!=="undefined"&&i(A.emptyCondition)){return undefined;}var l=V.pop();var k=V.every(u.hasValue);return k?l:undefined;}},or:{args:["emptyCondition?"],minValues:1,fn:function(A,v){var V=g(v);if(typeof A.emptyCondition==="undefined"&&A.length>0){return undefined;}if(typeof A.emptyCondition!=="undefined"&&i(A.emptyCondition)){return undefined;}return V.reduce(function(P,n){if(u.hasValue(P)){return P;}return u.hasValue(n)?n:undefined;});}},join:{args:["macroSeparator?","microSeparator?"],minValues:1,fnPipe:function(A,v){var V=[v];return O.join.fn.call(this,A,V);},fn:function(A,v){var m=A.macroSeparator||"";var M=A.microSeparator||"";v=v.map(function(s){if(!t.isPlainObject(s)&&!t.isArray(s)){return s;}var T=Object.prototype.toString.apply(s);if(T==="[object Object]"){var S=u.removeArrayParameterNotation(s);return Object.keys(S).sort().map(function(k){return k+M+s[k];}).join(m);}if(T==="[object Array]"){return s.join(m);}});return v.join(m);}},match:{args:["strRegex"],minValues:1,fnPipe:function(A,v){var s=A.strRegex;var k=new RegExp(s);return Object.keys(v).reduce(function(o,n){if(k.exec(n)){o[n]=v[n];}return o;},{});},fn:function(A,v){if(v===undefined){return undefined;}var s=A.strRegex;var k=new RegExp(s);var m=v.filter(function(V){var I;if(t.isPlainObject(V)){I=Object.keys(V);}else if(t.isArray(V)){I=V;}else{I=[""+V];}return I.some(k.exec.bind(k));});return m.length===v.length?true:undefined;}},not:{args:[],minValues:1,fnPipe:function(A,v){return Object.keys(v).length>0?undefined:"";},fn:function(A,v){var E=O.and.fn(A,v);return E===undefined?"":undefined;}},encodeURIComponent:{args:[],minValues:1,maxValues:1,fnPipe:function(A,v){return Object.keys(v).reduce(function(o,k){o[k]=encodeURIComponent(v[k]);return o;},{});},fn:function(A,v){var T=v.map(function(V){return encodeURIComponent(V);});return T;}}};function i(v){if(typeof v==="undefined"){return true;}if(typeof v==="string"){return v==="";}if(typeof v==="object"){return Object.keys(v).length===0;}if(typeof v==="number"){return v===0;}if(typeof v==="boolean"){return v===false;}throw new Error("Unexpected type for value");}function g(v){var V;if(t.isArray(v)){V=v;}else if(t.isPlainObject(v)){V=[v];}else if(v===undefined){return[];}else{throw new Error("Unexpected type");}return V;}function a(F,o,v){if(v!==undefined&&!t.isPlainObject(v)){throw new Error("Invalid value type passed to '"+F+"' in pipe context. An object is expected.");}}function b(F,o,v){if(v!==undefined&&!t.isArray(v)){throw new Error("Invalid value type passed to '"+F+"' in value context. An array is expected.");}var n=t.isArray(v)?v.length:0;if(u.hasValue(o.maxValues)&&n>o.maxValues){throw new Error("Too many values were passed to '"+F+"'. Please pass maximum "+o.maxValues+" values.");}if(u.hasValue(o.minValues)&&n<o.minValues){throw new Error("Too few values were passed to '"+F+"'. Please pass minimum "+o.minValues+" values.");}}function d(A){var E=false;A.map(e).reduce(function(R,n){if(!R&&n){E=true;}return n;},true);return E;}function e(A){return A.charAt(A.length-1)!=="?";}function r(A){return A.substr(0,A.length-1);}function p(F,A){var k=c(O[F].args);if(d(k)){throw new Error("Invalid argument signature. Make sure all optional arguments appear in the end.");}var o={length:A.length};var R=k.filter(e);var m=R>A.length;if(m){throw new Error(F+" requires "+R+" arguments but "+A.length+" was specified");}A.forEach(function(v){var n=k.shift();var I=!e(n);if(I){n=r(n);}if(A.length>0){o[n]=v;}});return o;}function f(P,F,k,I){if(!O.hasOwnProperty(F)){throw"Invalid function: "+F;}var o=p(F,k);if(P){a(F,O[F],I);}else{b(F,O[F],I);}if(P){if(!O[F].fnPipe){throw new Error("The function '"+F+"' cannot be executed in pipe context");}return O[F].fnPipe(o,I);}return O[F].fn(o,I);}function h(s){return s.split("").map(function(k){if(k==="["){return"[\\[]";}return"["+k+"]";}).join("");}function j(){var A=Object.keys(O);return A.map(h).join("|");}return{getPossibleFunctionsRegExpString:j,applyFunctionInValueContext:f.bind(null,false),applyFunctionInPipeContext:f.bind(null,true),_setURIDependency:function(F){U=F;}};},false);
sap.ui.predefine('sap/ushell/_URLTemplateProcessor/Resolvers',["sap/ushell/_URLTemplateProcessor/Functions","sap/ushell/utils/type","sap/ushell/utils/clone","sap/ushell/_URLTemplateProcessor/utils"],function(f,t,c,u){"use strict";var O={"literal":r,"expression":g,"reference":h,"function":e,"path":b,"pipe":d};function a(s,p,k){var C=null;var P=[];var F=false;var l=p.join("/");C=s;if(typeof C==="undefined"){F=true;}p.forEach(function(m,I){if(F){return;}P.push(m);if(!C.hasOwnProperty(m)){C=undefined;F=true;return;}if(!C.hasOwnProperty(m)){throw new Error("Cannot find path '"+l+"' in given structure: '"+m+"' seems to be missing in the object.");}C=C[m];});return C;}function r(p){return p.value;}function b(p,R,s,A,o,D){var k=p.value.map(function(P){return i(P,R,s,A,o,D);});var I=p.pathType==="relative";var l=I?A:s;return a(l,k,R);}function d(p,R,s,A,o,D){var P=p.value;if(P[0].type!=="wildcard"){throw new Error("Leading wildcard expected in pipe expression");}if(P[0].value!=="*"){throw new Error("Unsupported wildcard expression: "+P[0].value);}return P.slice(1).reduce(function(v,k){if(k.type!=="function"){throw new Error("Invalid operation specified in pipe expression");}return f.applyFunctionInPipeContext(k.name,k.args.map(function(l){return i(l,R,s,A,o,D);}),v);},c(o[D]||{}));}function e(p,R,s,A,o,D){var F=p.name;var k=p.args.map(function(P){return i(P,R,s,A,o,D);});var v=p.params.map(function(P){return i(P,R,s,A,o,D);});return f.applyFunctionInValueContext(F,k,v);}function g(p,R,s,A,o,D){var E=p.value;if(O[E.type]){return i(E,R,s,A,o,D);}throw new Error("unknown expression type: "+E.type);}function h(p,R,s,A,o,D){var v=p.value;if(!p.hasOwnProperty("namespace")){return R[v];}var n=p.namespace;var E="The template attemps to take the value '"+v+"' from '"+n+"' namespace.";if(!o.hasOwnProperty(n)){throw new Error(E+" However this value was not defined at runtime. The template should reference only defined values.");}var N=o[n];var k=v===".";if(k){return N;}if(typeof N!=="object"){throw new Error(E+" However the runtime did not define the namespace as an object. The template cannot access the desired value using the object notation in this case.");}return N[v];}function i(p,R,s,A,o,D){var P=p.type;if(O[P]){return O[P](p,R,s,A,o,D);}throw new Error("Cannot resolve unknown parameter type: '"+P+"'");}function j(p,R,s,o,A,D){var k={};R.forEach(function(P){var l=p[P];var m=i(l,k,s,A,o,D);k[P]=m;});return k;}return{resolveLiteral:r,resolveExpression:g,resolveReference:h,resolveFunction:e,resolvePath:b,resolvePipe:d,resolveParameterValue:i,resolveAllParameters:j};},false);
sap.ui.predefine('sap/ushell/_URLTemplateProcessor/TemplateParameterParser',["sap/ushell/utils/clone","sap/ushell/_URLTemplateProcessor/Functions"],function(c,f){"use strict";function p(D,E){var s=m();var v=s.exec(E);if(v===null){throw new Error("Cannot parse expression: '"+E+"'");}var S=r(E);if(S.indexOf("*")===0){return a(D,S);}var A="^("+f.getPossibleFunctionsRegExpString()+")[^a-z]";var w=new RegExp(A);if(w.exec(S)){return i(D,S);}return e(D,S);}function a(D,P){var s=j(D,P,"|");var w=s.shift();return{type:"pipe",value:[{type:"wildcard",value:w}].concat(s.map(i.bind(null,D)))};}function b(R){var s=R.substr(1);var N;if(s.indexOf(":")>=0){var v=s.split(":");N=v[0];s=v[1];}var w={type:"reference",value:s};if(N){w.namespace=N;}return w;}function d(D,P){var s=P.split("/");var v="relative";if(s[0]===""){v="absolute";s.shift();}if(s[0]==="."){s.shift();}return{type:"path",pathType:v,value:s.map(g.bind(null,D))};}function e(D,L){if(L.charAt(0)==="{"&&L.charAt(L.length-1)==="}"){return e(D,r(L));}if(L.indexOf(".")===0||L.indexOf("/")===0){return d(D,L);}if(L.charAt(0)==="'"&&L.charAt(L.length-1)==="'"){return h(r(L));}if(L.charAt(0)==="&"){return b(L);}return{type:"reference",value:L,namespace:D};}function g(D,P){if(P.charAt(0)==="{"&&P.charAt(P.length-1)==="}"){return e(D,r(P));}return{type:"literal",value:P};}function h(L){return{type:"literal",value:L};}function i(D,F){var v=F.split(/[(\s]/)[0];var R=o(F,v);R=R.replace(/^\s+/,"");var w="";if(R.charAt(0)==="("){var x=R.search(/([)]\s)|([)]$)/);if(x===-1){throw new Error("Cannot find termination of function '"+R+"' in '"+F+"'");}w=R.substr(1,x-1);R=o(R,"("+w+")");R=R.replace(/^\s+/,"");}var y=R;return{type:"function",name:v,args:j(D,w,",").map(function(s){return s.charAt(0)==="{"?r(s):"'"+s+"'";}).map(e.bind(null,D)),params:j(D,y,",").map(e.bind(null,D))};}function j(D,L,s){if(!L){return[];}var S=L.split(s).reduce(function(A,N,I){if(I===0){A.push(N);return A;}var v=A.length-1;var P=A[v];var M=P.length>0&&P.charAt(P.length-1)==="\\";var w="";if(M){w=A.pop();w=w.substr(0,w.length-1)+s;}A.push(w+N);return A;},[]);return S;}function k(D,P){var s=P;var R=null;if(Object.prototype.toString.apply(P)==="[object Object]"){s=P.value;R=P.renameTo;}var I=q(s);if(I){return h(s);}var T="expression";var v=p(D,s);var w={type:T,value:v};if(R){v.renameTo=R;}return w;}function l(s){var E=s.indexOf("{")===0;var v=m();var G=v.exec(s);if(!G){if(E){throw new Error("Expression was expected. But "+s+" does not look like a valid expression");}return null;}return G[1];}function m(){var O="[a-zA-Z0-9]+?:";var v="((&("+O+")?)?[.a-zA-Z0-9_-]+?)";var Q="('(.*?)')";var U="([^' ]*?)";var V="{("+v+")}";var P="("+"[.]?([/]("+v+"|"+V+"))+"+")";var L="("+P+"|"+Q+"|"+v+"|"+V+")";var s="("+L+"(,"+L+")*)";var F="("+U+"|"+V+")";var w="("+F+"(,"+F+")*)";var x="("+"[(]"+w+"[)]"+")?";var A=f.getPossibleFunctionsRegExpString();var y="("+"("+A+")"+"("+x+")"+")";var W="([*]([|]"+y+")*)";var E="^{("+W+"|"+"(("+y+")([ ]("+s+"))?)"+"|"+"("+L+")"+")}$";var z=new RegExp(E);return z;}function n(s){return l(s)!==null;}function r(s){var C=s.split("");C.shift();C.pop();return C.join("");}function o(T,P){if(T.indexOf(P)===0){return T.substr(P.length);}throw new Error("Given string does not start with prefix '"+P+"'");}function q(s){return typeof s==="string"&&!n(s);}function t(P,D){return Object.keys(P).reduce(function(s,N){var v=P[N];s[N]=k(D,v);return s;},{});}function u(P,D){return Object.keys(P).reduce(function(s,N){var v=P[N];s[N]=h(v);return s;},{});}return{parseTemplateParameterSet:t,parseTemplateParameterSetAsLiterals:u,parsePath:d,_isExpression:n,_parseList:j,_parseParameterValue:k};},false);
sap.ui.predefine('sap/ushell/_URLTemplateProcessor/utils',["sap/ushell/utils/type"],function(t){"use strict";function h(v){return v!==null&&typeof v!=="undefined";}function r(p){return Object.keys(p).reduce(function(o,P){var v=p[P];if(Object.prototype.toString.apply(v)==="[object Array]"){o[P]=v[0];}else if(typeof v==="string"){o[P]=v;}else{throw new Error("Parameters should be passed as strings or array of strings");}return o;},{});}return{hasValue:h,removeArrayParameterNotation:r};},false);
sap.ui.predefine('sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter',["sap/base/util/Version","sap/ushell/services/CommonDataModel"],function(V){"use strict";var C=function(s,p,a){this._oAdapterConfig=a&&a.config;this._oLocalSystemAlias={http:{host:"",port:0,pathPrefix:"/sap/bc/"},https:{host:"",port:0,pathPrefix:"/sap/bc/"},rfc:{systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",client:"",language:""};this.getInbounds=function(){var t=this;if(!this._getInboundsDeferred){this._getInboundsDeferred=new jQuery.Deferred();sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(S){return S.getSite();}).then(function(S){var u=(S._version&&V(S._version).getMajor()==3)?"sap/ushell/adapters/cdm/v3/utilsCdm":"sap/ushell/utils/utilsCdm";sap.ui.require([u],function(U){var i=U.formatSite(S)||[];t._getInboundsDeferred.resolve(i);});},function(e){t._getInboundsDeferred.reject(e);});}return this._getInboundsDeferred.promise();};this._createSIDMap=function(A){return Object.keys(A).sort().reduce(function(S,i){var c=A[i];var b="SID("+c["systemId"]+"."+c["client"]+")";if(!S.hasOwnProperty(b)&&c.hasOwnProperty("systemId")&&c.hasOwnProperty("client")){S[b]=i;}return S;},{});};this._getSystemAliases=function(){var t=this;if(!this.Deferred){this.Deferred=new jQuery.Deferred();sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(S){return S.getSite();}).then(function(S){var o=jQuery.extend(true,{},S.systemAliases||{});Object.keys(o).forEach(function(i){o[i].id=i;});t.Deferred.resolve(o);},function(e){t.Deferred.reject(e);});}return this.Deferred.promise();};this.resolveSystemAlias=function(S){var d=new jQuery.Deferred(),t=this;this._getSystemAliases().done(function(o){var m;if(o.hasOwnProperty(S)){d.resolve(o[S]);return;}if(S===""){d.resolve(t._oLocalSystemAlias);return;}S=S.toUpperCase(S);if(!t._oSIDMap){t._oSIDMap=t._createSIDMap(o);}if(t._oSIDMap.hasOwnProperty(S)){var M=o[t._oSIDMap[S]];d.resolve(M);return;}m="Cannot resolve system alias "+S;jQuery.sap.log.warning(m,"The system alias cannot be found in the site response","sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter");d.reject(m);}).fail(function(e){d.reject(e);});return d.promise();};};return C;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/CommonDataModelAdapter',["sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter","sap/ui/thirdparty/URI","sap/base/Log","sap/base/util/Version","jquery.sap.global","jquery.sap.script"],function(C,U,L,V,q){"use strict";var a=function(u,p,A){this.oAdapterConfiguration=A;if(A&&A.config&&A.config.siteData){this.oCdmSiteDataRequestPromise=new q.Deferred().resolve(A.config.siteData);}else if(A&&A.config&&A.config.siteDataPromise){this.oCdmSiteDataRequestPromise=A.config.siteDataPromise;}else{var s=this._identifySiteUrlFromConfig(A);var b=this._normalizeUrl(s,location.href);this.oCdmSiteDataRequestPromise=this._requestSiteData(b);}};a.prototype._requestSiteData=function(u){var s=new q.Deferred();if(!u){return s.reject("Cannot load site: configuration property 'siteDataUrl' is missing for CommonDataModelAdapter.");}q.ajax({type:"GET",dataType:"json",url:u}).done(function(r){s.resolve(r);}).fail(function(e){q.sap.log.error(e.responseText);s.reject("CDM Site was requested but could not be loaded.");});return s.promise();};a.prototype._normalizeUrl=function(u,c){if(typeof u!=="string"){return u;}if(u.indexOf("http")===0){return u;}var b=document.getElementsByTagName("base")[0];return(new U(u,b).absoluteTo(c)).toString();};a.prototype.getSite=function(){var d=new q.Deferred();this.oCdmSiteDataRequestPromise.done(function(s){var S=q.extend({},s);delete S.personalization;d.resolve(S);}).fail(function(m){d.reject(m);});return d.promise();};a.prototype.getPersonalization=function(){var d=new q.Deferred(),t=this;this.oCdmSiteDataRequestPromise.done(function(s){var S=q.extend({},s),b=S._version,p;if(t.oAdapterConfiguration&&t.oAdapterConfiguration.config&&t.oAdapterConfiguration.config.ignoreSiteDataPersonalization){delete S.personalization;}if(S.personalization){p=S.personalization._version;if(Object.keys(S.personalization).length>0&&!t._isPersonalizationVersionValid(b,p)){L.error("Personalization version is not compatible to the site version and will not be loaded. Please proceed to personalize the homepage again if needed. Personalization version: "+p+"; Site version: "+b);d.resolve();return;}d.resolve(S.personalization);}else{t._readPersonalizationDataFromStorage().done(function(P){p=P._version;if(Object.keys(P).length>0&&!t._isPersonalizationVersionValid(b,p)){L.error("Personalization version is not compatible to the site version and will not be loaded. Please proceed to personalize the homepage again if needed. Personalization version: "+p+"; Site version: "+b);d.resolve();return;}d.resolve(P);}).fail(function(m){d.reject(m);});}}).fail(function(m){d.reject(m);});return d.promise();};a.prototype._isPersonalizationVersionValid=function(s,p){if(!s){return false;}var S=new V(s).getMajor(),P=new V(p);if(S>=3){return P.getMajor()===S;}else{return P.getMajor()<3;}};a.prototype._storePersonalizationData=function(p){var P=new q.Deferred(),o=sap.ushell.Container.getService("Personalization"),c,s={keyCategory:o.constants.keyCategory.FIXED_KEY,writeFrequency:o.constants.writeFrequency.LOW,clientStorageAllowed:true},b={container:"sap.ushell.cdm.personalization",item:"data"},d=o.getPersonalizer(b,s,c);d.setPersData(p).done(function(){q.sap.log.info("Personalization data has been stored successfully.");P.resolve();}).fail(function(){P.reject("Writing personalization data failed.");});return P.promise();};a.prototype._readPersonalizationDataFromStorage=function(){var p=new q.Deferred();sap.ushell.Container.getServiceAsync("Personalization").then(function(P){var s={keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.LOW,clientStorageAllowed:true};var o={container:"sap.ushell.cdm.personalization",item:"data"};P.getPersonalizer(o,s).getPersData().done(function(b){p.resolve(b||{});}).fail(function(){p.reject("Fetching personalization data failed.");});});return p.promise();};a.prototype._identifySiteUrlFromConfig=function(A){var p=q.sap.getUriParameters();var s=p.get("sap-ushell-cdm-site-url");var c=A&&A.config;if((c&&!c.allowSiteSourceFromURLParameter)&&s){s=null;}if(c&&!s){s=c.siteDataUrl||c.cdmSiteUrl;}this.sCdmSiteUrl=s;return s;};return a;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/ContainerAdapter',["sap/ushell/utils","sap/ushell/User","sap/ushell/System","sap/ui/thirdparty/URI","sap/base/Log"],function(u,U,S,a,L){"use strict";var l=L.getLogger("sap/ushell/adapters/cdm/ContainerAdapter",L.Level.INFO);var C=function(i,p,P){var b="/sap/public/bc/icf/logoff",s=g(P.config,b),o=e(P.config),c=f(i,P.config),d=k(P.config);function g(m,D){if(m.systemProperties&&m.systemProperties.logoutUrl){return m.systemProperties.logoutUrl;}return D;}function e(m){var n,q=m.userProfile;if(q){n=h(q.defaults,m.userProfilePersonalization,q.metadata);}return new U(n||j());}function f(O,m){var n=m.systemProperties,A=O.getAlias(),q=O.getPlatform(),B=O.getBaseUrl(),r,t;if(n){A=n.alias||A;q=n.platform||q;r=n.SID;t=n.client;}return new S({alias:A,platform:q,baseUrl:B,system:r,client:t});}function h(D,m,n){var q=jQuery.extend(j(),D,m);q.bootTheme=q.bootTheme||{theme:q.theme,root:""};delete q.theme;if(n){if(n.editablePropterties){q.setThemePermitted=n.editablePropterties.indexOf("theme")>-1;q.setAccessibilityPermitted=n.editablePropterties.indexOf("accessibility")>-1;q.setContentDensityPermitted=n.editablePropterties.indexOf("contentDensity")>-1;}if(n.ranges){q.ranges=n.ranges;}}return q;}function j(){return{setThemePermitted:false,setAccessibilityPermitted:false,setContentDensityPermitted:false};}function k(A){var m=A&&A.systemProperties&&A.systemProperties.sessionKeepAlive;if(!m){return null;}if(!m.url){l.error("Mandatory parameter 'url' missing in 'sessionKeepAlive' configuration.");return null;}if(m.method!=="HEAD"&&m.method!=="GET"){m.method="HEAD";}return m;}this._getLogoutUrl=function(){return s;};this._setDocumentLocation=function(m){document.location=m;};this.getSystem=function(){return c;};this.getUser=function(){return o;};this.load=function(){return jQuery.when();};this.getCurrentUrl=function(){return window.location.href;};this.logout=function(m){var F;if(!m){throw new Error("Not implemented");}if(u.hasNativeLogoutCapability()){F=(new a(this._getLogoutUrl())).absoluteTo(this.getCurrentUrl()).search("").toString();u.getPrivateEpcm().doLogOff(F);}else{this.logoutRedirect();}return jQuery.when();};this.logoutRedirect=function(){var m=c.adjustUrl(this._getLogoutUrl());this._setDocumentLocation(m);};this.sessionKeepAlive=function(){if(!d){return;}var x=new XMLHttpRequest();x.open(d.method,d.url,true);x.onreadystatechange=function(){if(this.readyState===4){l.debug("Server session was extended");}};x.send();};this._getSessionKeepAliveConfig=function(){return d;};};return C;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/LaunchPageAdapter',["sap/ushell/adapters/cdm/_LaunchPage/readHome","sap/ushell/adapters/cdm/_LaunchPage/modifyHome","sap/ushell/adapters/cdm/_LaunchPage/readCatalogs","sap/m/GenericTile","sap/m/library","sap/ui/core/ComponentContainer","sap/ushell/adapters/cdm/_LaunchPage/uri.transform","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/navigationMode","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/utilsCdm","sap/base/util/Version","sap/base/Log"],function(r,m,R,G,M,C,u,a,E,n,o,U,b,V,L){"use strict";var l=jQuery.sap.log.getLogger("sap/ushell/adapters/cdm/LaunchPageAdapter"),c=jQuery.sap.log.Level;var g=M.GenericTileMode;function d(f,p,A){var _,s="sap.ushell.components.tiles.cdm.applauncher",D="sap.ushell.components.tiles.cdm.applauncherdynamic";this._mResolvedTiles={};this._mCatalogTilePromises={};this._mFailedResolvedCatalogTiles={};this._mFailedResolvedTiles={};this._mContentProviders={};this.getCdmVersionsSupported=function(){return{"min":V("0"),"max":V("2.0.0")};};this.isSiteSupported=function(S){if(!!S._version&&V(S._version).compareTo(this.getCdmVersionsSupported()["max"])>0){L.fatal("Invalid CDM site version: Only sites up to version 2.0.0 are supported");return false;}return true;};this.TileType={Tile:"tile",Link:"link"};this.getGroups=function(){var e=new jQuery.Deferred();this._assureLoaded().done(function(z){U.setPerformanceMark("FLP - homepage groups processed");e.resolve(z);}).fail(function(){e.resolve([]);});return e.promise();};this._getTileFromHashInContextOfSite=function(e,z,I){var B=new jQuery.Deferred(),F=z[I];if(!F){F=e(I);z[I]=F;}F.done(function(T){var H={tileIntent:I,tileResolutionResult:T};B.resolve(H);}).fail(function(H){B.reject("Hash '"+I+"' could not be resolved to a tile. "+H);});return B.promise();};this._getTileFromHash=function(I){var e=sap.ushell.Container.getService("ClientSideTargetResolution");var z=e.resolveTileIntent.bind(e);return this._getTileFromHashInContextOfSite(z,this._mCatalogTilePromises,I);};this._getTileFromHashFromSite=function(S,I){var e=sap.ushell.Container.getService("ClientSideTargetResolution");var z=b.formatSite(S);var B=e.resolveTileIntentInContext.bind(e,z);var F={};return this._getTileFromHashInContextOfSite(B,F,I);};this._getTileForUrl=function(T){var e=T.indicatorDataSource?"#Shell-dynamicTile":"#Shell-staticTile";return{tileIntent:"#",tileResolutionResult:{tileComponentLoadInfo:e,isCustomTile:false}};};this._assureGroupItemsResolved=function(e,S){var P=[],z,B;if(e.payload&&e.payload.tiles){z=this._assureGroupTilesResolved(e.payload.tiles,S);Array.prototype.push.apply(P,z);}if(e.payload&&e.payload.links){B=this._assureGroupLinksResolved(e.payload.links,S);Array.prototype.push.apply(P,B);}return P;};this._assureGroupTilesResolved=function(e,S){return(e||[]).map(function(T,I){return this._resolveGroupTile(T,S).then(function(z){z.isLink=false;return z;});},this);};this._assureGroupLinksResolved=function(e,S){return(e||[]).map(function(z,I){return this._resolveGroupTile(z,S).then(function(B){B.isLink=true;return B;});},this);};this._resolveGroupTile=function(T,S){var e=this._mResolvedTiles;var F=this._mFailedResolvedTiles;var z;function B(I){e[T.id]=I;if(F[T.id]){delete F[T.id];}return I;}function H(T){var I=T.target;return I&&I.semanticObject==="Shell"&&I.action==="launchURL";}if(e[T.id]){return(new jQuery.Deferred()).resolve(e[T.id]).promise();}if(T.target&&T.target.url){z=jQuery.when(this._getTileForUrl(T));}else if(T.isBookmark){z=this._resolveTileByIntent(T,S);}else if(H(T)){z=this._resolveTileByIntent(T,S);}else{z=this._resolveTileByAppId(T,S);}z.done(function(I){B(I);}).fail(function(I){F[T.id]=I;});return z;};this._resolveTileByAppId=function(T,S){var e,z,I,B,H;function F(Q,W){return new jQuery.Deferred().reject({logLevel:Q,message:W}).promise();}if(!jQuery.isPlainObject(T)){return F(c.ERROR,"Cannot resolve tile: oTile must be an object");}if(!jQuery.isPlainObject(S)){return F(c.ERROR,"Cannot resolve tile: oSite must be an object");}e=T.appId||T.appIDHint;if(!e){return F(c.ERROR,["Cannot resolve tile '",T.id,"': either appId or appIDHint must be specified"].join(""));}z=S.applications&&S.applications[e];if(!z){return F(c.INFO,["Tile '",T.id,"' filtered from result: no app found for appId '",e,"' (dangling app reference)"].join(""));}I=this._getFirstInbound(z);if(!I){return F(c.ERROR,["Cannot resolve tile '",T.id,"': app '",e,"' has no navigation inbound"].join(""));}var J=b.mapOne(I.key,I.inbound,z),K=J.resolutionResult.applicationType,N=J.resolutionResult.additionalInformation,O=a.last("/core/navigation/enableInPlaceForClassicUIs"),P=O?O[K]:false;B=J.tileResolutionResult;B.navigationMode=n.computeNavigationModeForHomepageTiles(K,N,P);B.isLink=false;if(!this._isFormFactorSupported(B)){return F(c.INFO,["Tile '",T.id,"' filtered from result: form factor not supported"].join(""));}H=this._toHashFromInbound(I.inbound);return jQuery.when({tileResolutionResult:B,tileIntent:H});};this._isFormFactorSupported=function(e){var z=U.getFormFactor();return r.supportsFormFactor(e,z);};this._getFirstInbound=function(e){var F=Object.keys(e["sap.app"].crossNavigation.inbounds).shift(),I=e["sap.app"].crossNavigation.inbounds[F];return{key:F,inbound:I};};this._resolveTileByIntent=function(T,S){var H=this._prepareTileHash(T);return this._getTileFromHash(H);};this._prepareTileHash=function(T){var e=sap.ushell.Container.getService("URLParsing"),P={},z,B;if(this._isCatalogTile(T)){return T.tileIntent;}if(this._isGroupTile(T)){B=T.target.parameters||[];B.forEach(function(F){if(F.name&&F.value){P[F.name]=[F.value];}});z={target:{semanticObject:T.target.semanticObject,action:T.target.action},params:P,appSpecificRoute:T.target.appSpecificRoute};return"#"+e.constructShellHash(z);}return undefined;};this._allPromisesDone=function(P){var e=new jQuery.Deferred(),z;if(P.length===0){e.resolve([]);}else{var N=P.map(function(B){z=new jQuery.Deferred();B.always(z.resolve.bind(z));return z.promise();});jQuery.when.apply(this,N).done(function(){var B=Array.prototype.slice.call(arguments);e.resolve(B);});}return e.promise();};this._assureLoaded=function(){var e=this,z=sap.ushell.Container.getService("CommonDataModel"),B;if(this._assureLoadedDeferred){return this._assureLoadedDeferred.promise();}B=new jQuery.Deferred();this._assureLoadedDeferred=B;z.getSite().done(function(S){if(!e.isSiteSupported(S)){throw new Error("Invalid CDM site version: Check configuration of launchpage adapter and version of FLP site");}var I=[];var F=r.getGroupsArrayFromSite(S);var H=r.getDefaultGroup(F);if(!H){H=m.createDefaultGroup(U.generateUniqueId(r.getGroupIdsFromSite(S)));S=m.addGroupToSite(S,H,0);F=r.getGroupsArrayFromSite(S);}_=H;F.forEach(function(J){I=e._assureGroupItemsResolved(J,S).concat(I);});e._allPromisesDone(I).done(function(){e._assureLoadedDeferred.resolve(F);delete e._assureLoadedDeferred;e._logTileResolutionFailures(e._mFailedResolvedTiles);});}).fail(function(F){jQuery.sap.log.error("Delivering hompage groups failed - "+F);e._assureLoadedDeferred.resolve([]);delete e._assureLoadedDeferred;});return B.promise();};this._logTileResolutionFailures=function(F){var e={};if(!F){return;}Object.keys(c).filter(function(z){var B=c[z];return B>=c.FATAL&&B<=c.ALL;}).forEach(function(z){e[c[z]]="";});Object.keys(F).forEach(function(z){var B=F[z];if(B.logLevel){e[B.logLevel]=e[B.logLevel].concat(B.message).concat("\n");}});if(e[c.FATAL]){l.fatal(e[c.FATAL]);}if(e[c.ERROR]){l.error(e[c.ERROR]);}if(e[c.WARNING]){l.warning(e[c.WARNING]);}if(e[c.INFO]){l.info(e[c.INFO]);}if(e[c.DEBUG]){l.debug(e[c.DEBUG]);}if(e[c.TRACE]){l.trace(e[c.TRACE]);}};this.getDefaultGroup=function(){var e=new jQuery.Deferred(),z;if(!_){z=this._assureLoaded();}if(z){z.done(function(){e.resolve(_);}).fail(function(B){e.reject("Failed to access default group. "+B);});}else{e.resolve(_);}return e.promise();};this._isValidTitle=function(T){if(typeof T!=='string'||!T){return false;}return true;};this._isGroupPreset=function(e){return r.isGroupPreset(e);};this._isGroupLocked=function(e){return r.isGroupLocked(e);};this.addGroup=function(T){var e=new jQuery.Deferred(),z=sap.ushell.Container.getService("CommonDataModel"),B,F,H=this;if(!this._isValidTitle(T)){return e.reject("No valid group title").promise();}F="Failed to add the group with title '"+T+"' to the homepage. ";z.getSite().done(function(S){B=U.generateUniqueId(r.getGroupIdsFromSite(S));m.addGroupToSite(S,m.createEmptyGroup(B,T));z.save().done(function(){delete H._assureLoadedDeferred;e.resolve(S.groups[B],B);}).fail(function(I){e.reject(I);});}).fail(function(I){e.reject(F+I);});return e.promise();};this.getGroupTitle=function(e){return r.getGroupTitle(e);};this.setGroupTitle=function(e,N){var z=this,B=new jQuery.Deferred(),F=sap.ushell.Container.getService("CommonDataModel"),O,H;if(typeof e!=='object'||!r.getGroupId(e)){return B.reject("Unexpected group value").promise();}if(!z._isValidTitle(N)){return B.reject("Unexpected oGroup title value").promise();}H="Failed to set new title for group with id '"+r.getGroupId(e)+"'. ";O=r.getGroupTitle(e);F.getSite().done(function(S){if(e){m.setGroupTitle(e,N);}F.save().done(function(){B.resolve();}).fail(function(I){jQuery.sap.log.error(I);B.reject(O);});}).fail(function(I){B.reject(O,H+I);});return B.promise();};this.getGroupId=function(e){return r.getGroupId(e);};this.hideGroups=function(H){var e=new jQuery.Deferred(),z=sap.ushell.Container.getService("CommonDataModel"),B;if(H&&jQuery.isArray(H)){B="Failed to hide group. ";z.getSite().done(function(S){r.getGroupsArrayFromSite(S).forEach(function(F){m.setGroupVisibility(F,jQuery.inArray(r.getGroupId(F),H)===-1);});z.save().done(function(){e.resolve();}).fail(function(F){e.reject("Hiding of groups did not work as expected - "+F);});}).fail(function(F){e.reject(B+F);});}else{e.reject("Invalid input parameter aHiddenGroupIds. Please pass a valid input parameter.");}return e.promise();};this.isGroupVisible=function(e){return r.isGroupVisible(e);};this.moveGroup=function(e,z){var B=new jQuery.Deferred(),F=sap.ushell.Container.getService("CommonDataModel"),H,I;if(!e||!r.getGroupId(e)||z<0){return B.reject("Unable to move groups - invalid parameters").promise();}I="Failed to move group with id '"+e.identification.id+"'. ";F.getSite().done(function(S){var J=r.getGroupIdsFromSite(S),K=r.getGroupId(e);if(!J){return B.reject("groupsOrder not found - abort operation of adding a group.");}else if(J.indexOf(K)===z){return B.resolve();}H=U.moveElementInsideOfArray(J,J.indexOf(K),z);if(!H){return B.reject("invalid move group operation - abort.");}m.setGroupsOrder(S,H);F.save().done(function(){B.resolve();}).fail(function(N){B.reject(N);});return undefined;}).fail(function(J){B.reject(I+J);});return B.promise();};this.removeGroup=function(e){var z=new jQuery.Deferred(),B=sap.ushell.Container.getService("CommonDataModel"),F,H;if(typeof e!=="object"){return z.reject("invalid group parameter").promise();}H=r.getGroupId(e);if(!H){return z.reject("group without id given").promise();}F="Failed to remove group with id '"+H+"'. ";B.getSite().done(function(S){m.removeGroupFromSite(S,e);B.save().done(function(){z.resolve();}).fail(function(I){z.reject(I);});}).fail(function(I){z.reject(F+I);});return z.promise();};this.resetGroup=function(e){var z=new jQuery.Deferred(),B=sap.ushell.Container.getService("CommonDataModel"),S=[],F=this,H,I;if(typeof e==="object"&&r.getGroupId(e)){I=r.getGroupId(e);H="Failed to reset group with id '"+I+"'. ";B.getSite().done(function(J){jQuery.extend(true,S,r.getGroupsArrayFromSite(J));if(F.isGroupRemovable(e)===false){B.getGroupFromOriginalSite(I).done(function(K){if(typeof J==="object"&&r.getGroupFromSite(J,I)){m.overwriteGroup(J,K,I);}B.save().done(function(){z.resolve(K);}).fail(function(N){z.reject("Group could not be reset - "+N,S);});}).fail(function(K){z.reject("Group could not be reset - "+K,S);});}else{z.reject("Group could not be reset as it was created by the user",S);}}).fail(function(J){z.reject(H+J,[]);});}return z.promise();};this.getTileTitle=function(T){return r.getTileTitle(this._mResolvedTiles,T);};this.getTileSubtitle=function(T){return r.getTileSubtitle(this._mResolvedTiles,T);};this.getTileIcon=function(T){return r.getTileIcon(this._mResolvedTiles,T);};this.getTileInfo=function(T){return r.getTileInfo(this._mResolvedTiles,T);};this.getTileIndicatorDataSource=function(T){var e=this._mResolvedTiles[T.id],z={},B;if(T.indicatorDataSource){z.indicatorDataSource=U.clone(T.indicatorDataSource);if(T.dataSource){z.dataSource=U.clone(T.dataSource);}return z;}if(!e){return z;}B=e.tileResolutionResult;if(B.indicatorDataSource){z.indicatorDataSource=U.clone(B.indicatorDataSource);if(B.indicatorDataSource.hasOwnProperty("dataSource")){var F=B.indicatorDataSource.dataSource,H=B.dataSources;if(H&&H.hasOwnProperty(F)){z.dataSource=U.clone(H[F]);}else{jQuery.sap.log.warning("datasource referenced but not found for tile: "+e.tileIntent);}}if(U.getMember(B,"runtimeInformation.componentProperties.url")){var P=U.getMember(z,"indicatorDataSource.path");var I=U.getMember(z,"dataSource.uri");var J=U.getMember(B,"runtimeInformation.componentProperties.url");var K=u(P,I,J,this.getWindowLocationHref());if(!K.error){if(P){z.indicatorDataSource.path=K.uri;}if(I){z.dataSource.uri=K.uriParent;}}}}return z;};this.getWindowLocationHref=function(){return window.location.href;};this.isGroupRemovable=function(e){return!this._isGroupPreset(e);};this.isGroupLocked=function(e){return this._isGroupLocked(e);};this.getGroupTiles=function(e){return r.getGroupTiles(e).concat(r.getGroupLinks(e));};this.getLinkTiles=function(e){return r.getGroupLinks(e);};this.getTileType=function(T){if(r.isLink(this._mResolvedTiles,T)){return this.TileType.Link;}return this.TileType.Tile;};this.getTileId=function(T){return r.getTileId(T);};this.getTileSize=function(T){return r.getTileSize(this._mResolvedTiles,T)||"1x1";};this.getTileTarget=function(T){var e,z=r.getTileId(T),B=this._mResolvedTiles[z],F;if(T.target&&T.target.url){return T.target.url;}if(B&&B.tileResolutionResult){e=B.tileResolutionResult;if(e.isCustomTile!==true){return B.tileIntent;}if(e&&typeof e.targetOutbound==="object"){F=this._toHashFromOutbound(e.targetOutbound);if(F){return F;}}}jQuery.sap.log.warning("Could not find a target for Tile with id '"+z+"'","sap.ushell.adapters.cdm.LaunchPageAdapter");return"";};this.isLinkPersonalizationSupported=function(T){return true;};this.isTileIntentSupported=function(T){return(this._mFailedResolvedTiles[T.id]===undefined)?true:false;};this._notifyTileAboutRefresh=function(T){if(typeof T.tileRefresh==="function"){T.tileRefresh();}};this.refreshTile=function(T){var e=this._mResolvedTiles[T.id];if(e){if(e.tileComponent){this._notifyTileAboutRefresh(e.tileComponent);}}};this._notifyTileAboutVisibility=function(T,N,O){if(typeof T.tileSetVisible==="function"&&O!==N){T.tileSetVisible(N);}};this.setTileVisible=function(T,N){var e=this._mResolvedTiles[T.id];if(e){if(e.tileComponent){this._notifyTileAboutVisibility(e.tileComponent,N,e.visibility);}e.visibility=N;}};this.getTileView=function(e){var z=this;return new jQuery.Deferred(function(B){return z._getTileView(e,false).then(function(T){B.resolve(T);},function(F){var H="Tile with ID '"+e.id+"' could not be initialized"+(F?":\n"+F:".");jQuery.sap.log.error(H,null,e.tileType);B.reject(H);});}).promise();};this._getTileUiComponentContainerSync=function(T,e,I){var z=this,B,F,N,H,J={};if(I===true){F=z._createTileComponentData(T,true,e);}else{F=z._createTileComponentData(T,false,e);}B=e.tileResolutionResult;if(e.isLink){N=B.navigationMode;return z._createLinkInstance(T,I,N,G,o);}if(typeof B.tileComponentLoadInfo==="string"){if(F.properties.indicatorDataSource&&F.properties.indicatorDataSource.path){J.name="sap.ushell.components.tiles.cdm.applauncherdynamic";}else{J.name="sap.ushell.components.tiles.cdm.applauncher";}}else if(typeof B.tileComponentLoadInfo==="object"&&B.tileComponentLoadInfo!==null){J=B.tileComponentLoadInfo.componentProperties||{};J.name=B.tileComponentLoadInfo.componentName;}J.componentData=F;if(J.manifest){J.componentData.properties=J.componentData.properties||{};J.componentData.properties.manifest=J.manifest;}if(J.name){J.async=false;var K;try{H=sap.ui.component(J);}catch(O){jQuery.sap.log.error(O.message+"\n-- An error occurred while instantiating "+"the tile component for "+J.name,O.stack?O.stack:"","sap.ushell.adapters.cdm.LaunchPageAdapter");return null;}K=new sap.ui.core.ComponentContainer({component:H,height:'100%'});if(!I){z._mResolvedTiles[T.id].tileComponent=H;}return K;}return null;};this._getTileUiComponentContainer=function(T,e,I){var z=this,B,F,N,H,J,K,O=new jQuery.Deferred();var P=sap.ushell.Container.getService("Ui5ComponentLoader");if(I===true){F=z._createTileComponentData(T,true,e);}else{F=z._createTileComponentData(T,false,e);}B=e.tileResolutionResult;if(e.isLink){N=B.navigationMode;O.resolve(z._createLinkInstance(T,I,N,G,o));return O.promise();}var Q=this._createTileComponentProperties(F,B.tileComponentLoadInfo);if(!Q.name){return O.reject("Cannot find name of tile component for tile with id: '"+T.id+"'").promise();}if(Q.manifest){F.properties=F.properties||{};F.properties.manifest=Q.manifest;}K=this.isCustomTile(Q.name);var S=function(Z){var e;H=Z.componentHandle.getInstance();J=new C({component:H,height:'100%'});if(!I){e=z._mResolvedTiles[T.id];e.tileComponent=H;if(typeof e.visibility==="boolean"){z._notifyTileAboutVisibility(H,e.visibility);}}return J;};var W=function(){return P.createComponent({loadCoreExt:K,loadDefaultDependencies:false,componentData:F,url:Q.url,applicationConfiguration:{},reservedParameters:{},applicationDependencies:Q,ui5ComponentName:Q.name},{},[]).then(S);};var X=function(){var Z={componentData:F,url:Q.url,name:Q.name,async:false};H=sap.ui.component(Z);var $={componentHandle:{getInstance:function(){return H;}}};return S($);};if(K){E.once("CoreResourcesComplementLoaded").do(function(){W().then(function(J){O.resolve(J);}).fail(function(Z){O.reject(Z);});});}else{var Y=X();O.resolve(Y);}return O.promise();};this._createTileComponentProperties=function(T,e){var z={};if(typeof e==="string"){if(T.properties.indicatorDataSource&&T.properties.indicatorDataSource.path){z.name=D;}else{z.name=s;}return z;}if(typeof e==="object"&&e!==null){z=e.componentProperties||{};z.name=e.componentName;}return z;};this._getTileView=function(e){var z,B,F=new jQuery.Deferred();if(typeof e!=="object"||!e.id){B="Invalid input parameter passed to _getTileView: "+e;jQuery.sap.log.error(B);return F.reject(B).promise();}z=this._mResolvedTiles[e.id];if(z){return this._getTileUiComponentContainer(e,z,false);}B="No resolved tile found for tile ID: "+e.id;jQuery.sap.log.error(B);return F.reject(B).promise();};this._getCatalogTileView=function(e){if(typeof e!=="object"){throw new Error(e);}return this._getTileUiComponentContainerSync(e,e,true);};this._getCatalogTileViewControl=function(e){var z=new jQuery.Deferred();if(typeof e!=="object"){var B="Invalid input parameter passed to _getCatalogTileView: "+e;jQuery.sap.log.error(B);return z.reject(B).promise();}return this._getTileUiComponentContainer(e,e,true);};this._createTileComponentData=function(T,I,e){var z=I?this.getCatalogTileTitle(T):this.getTileTitle(T),S=I?this.getCatalogTilePreviewSubtitle(T):this.getTileSubtitle(T),B=I?this.getCatalogTilePreviewIcon(T):this.getTileIcon(T),F=I?this.getCatalogTilePreviewInfo(T):this.getTileInfo(T),H=I?this.getCatalogTileTargetURL(T):this.getTileTarget(T),J=this.getTileIndicatorDataSource(T),K={properties:{},startupParameters:{}};if(e.tileResolutionResult.isCustomTile===true&&e.tileResolutionResult.startupParameters){K.startupParameters=e.tileResolutionResult.startupParameters;}if(z){K.properties.title=z;}if(F){K.properties.info=F;}if(S){K.properties.subtitle=S;}if(B){K.properties.icon=B;}if(H){K.properties.targetURL=H;}if(J.indicatorDataSource){K.properties.indicatorDataSource=J.indicatorDataSource;if(J.dataSource){K.properties.dataSource=J.dataSource;}}if(e.tileResolutionResult){K.properties.navigationMode=e.tileResolutionResult.navigationMode;}return K;};this._createLinkInstance=function(T,I,N,e,o){var z,B,F,H=this.getTileSubtitle(T);var G=e;if(I===true){z=this.getCatalogTileTitle(T);}else{z=this.getTileTitle(T);}B=new G({mode:g.LineMode,subheader:H,header:z,press:function(J){this._genericTilePressHandler(T,J);}.bind(this)});if(N){F=o.i18n.getText(N+"NavigationMode");B.setAriaLabel(F+" "+z+" "+H);}this._mResolvedTiles[T.id].linkTileControl=B;return B;};this._genericTilePressHandler=function(T,e){var z;if(e.getSource().getScope&&e.getSource().getScope()==="Display"){z=this.getTileTarget(T);if(z){if(z[0]==='#'){hasher.setHash(z);}else{window.open(z,'_blank');}}}};this._addTileToSite=function(P,e,N,z){var B=this,F=new jQuery.Deferred(),I=sap.ushell.Container.getService("URLParsing").parseShellHash(N.properties.targetURL),T={"id":B.getTileId(N),"target":{"semanticObject":I.semanticObject,"action":I.action,"parameters":y(I.params)}};P.groups[e.identification.id].payload.tiles.push(T);z.save().done(function(){F.resolve(T);}).fail(function(H){F.reject(H);});return F.promise();};this.addTile=function(e,z){var B=new jQuery.Deferred(),F,H=sap.ushell.Container.getService("CommonDataModel"),I;if(!z){z=_;}if(e.contentProviderId){if(e.externalUrl){return this.addBookmark(this._getBookmarkDataForExtensionCatalogTile(e),z);}return B.reject("Extension Tile without URL").promise();}I=j();I.appId=e.tileResolutionResult.appId;this._mResolvedTiles[I.id]={tileIntent:e.tileIntent,tileResolutionResult:e.tileResolutionResult,isLink:false};H.getSite().done(function(S){S.groups[z.identification.id].payload.tiles.push(I);H.save().done(function(){B.resolve(I);}).fail(function(J){B.reject(J);});}).fail(function(J){F="Failed to add tile with id '"+I.id+"' to group with id '"+z.identification.id+"'. ";B.reject(F+J);});return B.promise();};this._getBookmarkDataForExtensionCatalogTile=function(e){var B={title:e.tileResolutionResult.title,subtitle:e.tileResolutionResult.subTitle,icon:e.tileResolutionResult.icon,info:e.tileResolutionResult.info,url:e.externalUrl};if(e.tileResolutionResult.indicatorDataSource&&e.tileResolutionResult.indicatorDataSource.path){B.serviceUrl=e.tileResolutionResult.indicatorDataSource.path;B.serviceRefreshInterval=e.tileResolutionResult.indicatorDataSource.refresh;}return B;};this.removeTile=function(z,T,I){var B,F,H=new jQuery.Deferred(),J=this;if(!z||typeof z!=="object"||!z.identification||!z.identification.id||!T||typeof T!=="object"||!T.id){return H.reject({},"Failed to remove tile. No valid input parameters passed to removeTile method.").promise();}F="Failed to remove tile with id '"+T.id+"' from group with id '"+z.identification.id+"'. ";B=sap.ushell.Container.getService("CommonDataModel");B.getSite().done(function(S){var P,K;I=+I;try{P=S.groups[z.identification.id].payload;}catch(e){H.reject(S.groups[z.identification.id],F);}K=J.getTileType(T)===J.TileType.Link?"links":"tiles";if(J.getTileType(T)===J.TileType.Link){I-=P.tiles.length;}if(I>=0){P[K].splice(I,1);}else{P[K]=P[K].filter(function(N){return N.id!==T.id;});}B.save().done(function(){H.resolve();}).fail(function(N){jQuery.sap.log.error(N);H.reject(S.groups[z.identification.id],N);});}).fail(function(e){H.reject({},F+e);});return H.promise();};this.moveTile=function(T,S,e,z,B,F){var H=new jQuery.Deferred(),I=sap.ushell.Container.getService("CommonDataModel"),J=this,K;if(!T||jQuery.isEmptyObject(T)||S===undefined||S<0||e===undefined||e<0||!z||!z.identification||!z.identification.id||!B||!B.identification||!B.identification.id){return H.reject("Invalid input parameters").promise();}K="Failed to move tile with id '"+T.id+"'. ";I.getSite().done(function(N){var O,P,Q=J.getTileType(T)===J.TileType.Link?"links":"tiles";if(!F){F=J._mResolvedTiles[T.id].isLink?"link":"tile";}O=F==="link"?"links":"tiles";if(Q!=O&&J._mResolvedTiles[T.id]){J._mResolvedTiles[T.id].isLink=F==="link";}if(O==="links"){e-=N.groups[B.identification.id].payload.tiles.length;}if(Q==="links"){S-=N.groups[z.identification.id].payload.tiles.length;}if(z.identification.id===B.identification.id){if(S!==e||Q!=O){P=N.groups[B.identification.id].payload;P[Q].splice(S,1);P[O].splice(e,0,T);}else{return H.resolve(T).promise();}}else{N.groups[z.identification.id].payload[Q].splice(S,1);N.groups[B.identification.id].payload[O].splice(e,0,T);}I.save().done(function(){H.resolve(T);}).fail(function(W){jQuery.sap.log.error(K+W);H.reject(K+W);});return undefined;}).fail(function(N){jQuery.sap.log.error(K+N);H.reject(K+N);});return H.promise();};this._compareCatalogs=function(e,B){if(e.identification.id>B.identification.id){return 1;}return-1;};this.getCatalogs=function(){var e=this,z=new jQuery.Deferred(),B=[],F=sap.ushell.Container.getService("CommonDataModel");function H(I,J,B,K,P,N){var O=I.catalogs[J];if(P&&N){O.contentProviderId=P;N.catalogsMap[J]=O;}B.push(O);K.notify(O);}window.setTimeout(function(){F.getSite().done(function(S){Object.keys(S.catalogs).forEach(function(I){H(S,I,B,z);});F.getExtensionSites().progress(function(I){var P=I.providerId;var J=I.site;var K=Promise.resolve(J);var N={sitePromise:K,site:J,catalogsMap:{}};Object.keys(J.catalogs).forEach(function(O){e._mContentProviders[P]=N;H(J,O,B,z,P,N);});}).done(function(I){I.filter(function(J){return!J.success;}).forEach(function(J,K){B.push({identification:{id:J.providerId},contentProviderId:J.providerId,error:"The following content providers could not provide catalogs: "+J.providerId+(J.error?" -> "+J.error:"")});});z.resolve(B.sort(e._compareCatalogs));});});},0);return z.promise();};this._isStartableInbound=function(I){var N=["Shell-plugin","Shell-bootConfig"],e;if(!I.semanticObject||!I.action){return false;}if(N.indexOf(I.semanticObject+"-"+I.action)>-1){return false;}if(!jQuery.sap.getObject("signature.parameters",undefined,I)){return true;}e=Object.keys(I.signature.parameters).every(function(p){return!I.signature.parameters[p].filter||(!!I.signature.parameters[p].launcherValue||p==="sap-external-url");});return e;};this._isHiddenInbound=function(I){return!!I.hideLauncher;};this._toHashFromInbound=function(I){var e=b.toHashFromInbound(I);if(!e){return undefined;}return"#"+e;};this._getExternalUrlFromInbound=function(I){return jQuery.sap.getObject("signature.parameters.sap-external-url.launcherValue.value",undefined,I)||null;};this._toHashFromOutbound=function(O){var e=b.toHashFromOutbound(O);if(!e){return undefined;}return"#"+e;};this._isCustomTile=function(e){if(U.getMember(e,"sap|flp.type")==="tile"){return true;}return false;};this.getCatalogTiles=function(e){var z=this,B=new jQuery.Deferred();if(typeof e!=="object"||e===null){return B.reject("Invalid input parameter '"+e+"' passed to getCatalogTiles.").promise();}if(e.contentProviderId&&this._mContentProviders[e.contentProviderId]){this._mContentProviders[e.contentProviderId].sitePromise.then(function(S){h.call(z,e,S).done(B.resolve).fail(B.reject);},function(F){B.reject("Failed to get site: "+F);});}else{sap.ushell.Container.getService("CommonDataModel").getSite().done(function(S){h.call(z,e,S).done(B.resolve).fail(B.reject);}).fail(function(F){B.reject("Failed to get site: "+F);});}return B.promise();};this.isCustomTile=function(e){return!(e===s||e===D);};function h(e,S){var z=this,B=new jQuery.Deferred();setTimeout(function(){var F=((e.payload&&e.payload.appDescriptors)||[]).reduce(function(H,I){var J=S.applications[I.id],K,T,N,O,P,Q,W,X,Y,Z,$,a1;if(!J){return H;}K=z._getMember(J,"sap|app.crossNavigation.inbounds");if(!K||Object.keys(K).length===0){return H;}N=Object.keys(K)[0];O=K[N];if(z._isStartableInbound(O)&&!z._isHiddenInbound(O)){P=b.mapOne(N,O,J);if(!P||!P.tileResolutionResult){return H;}Y=P.resolutionResult.applicationType;a1=a.last("/core/navigation/enableInPlaceForClassicUIs");$=a1?a1[Y]:false;Z=P.resolutionResult.additionalInformation;P.tileResolutionResult.navigationMode=n.computeNavigationModeForHomepageTiles(Y,Z,$);Q=P.tileResolutionResult;T=z._toHashFromInbound(O);if(e.contentProviderId){X=z._getMember(J,"sap|app.crossNavigation.inbounds.Shell-launchURL.signature.parameters.sap-external-url.launcherValue.value");}W={id:X||T,tileIntent:X||T,tileResolutionResult:Q,isCatalogTile:true};if(e.contentProviderId&&X){W.contentProviderId=e.contentProviderId;W.externalUrl=X;}H.push(W);}return H;},[]);B.resolve(F);},0);return B.promise();}this.getCatalogError=function(e){if(e.error){return e.error;}return undefined;};this.getCatalogId=function(e){return R.getCatalogId(e);};this.getCatalogTitle=function(e){return R.getCatalogTitle(e);};this._isGroupTile=function(T){return r.isGroupTile(T);};this._isCatalogTile=function(T){return!!(T&&T.isCatalogTile);};this._isFailedGroupTile=function(T){return!!(T&&this._mFailedResolvedTiles&&this._mFailedResolvedTiles[r.getTileId(T)]);};this._isFailedCatalogTile=function(T){return!!(T&&this._mFailedResolvedCatalogTiles&&this._mFailedResolvedCatalogTiles[r.getTileId(T)]);};this.getCatalogTileId=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return undefined;}if(e.isBookmark&&jQuery.sap.getObject("target.url",undefined,e)){return e.target.url;}return(this._mResolvedTiles[r.getTileId(e)]||{}).tileIntent;}if(this._isCatalogTile(e)){return e.id;}return undefined;};this.getCatalogTileTitle=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return"";}return this._mResolvedTiles[e.id].tileResolutionResult.title;}if(this._isCatalogTile(e)){if(this._isFailedCatalogTile(e)){return undefined;}return e.tileResolutionResult.title;}return undefined;};this.getCatalogTileSize=function(e){return this.getTileSize(e);};this.getCatalogTileView=function(e){return this._getCatalogTileView(e);};this.getCatalogTileViewControl=function(e){return this._getCatalogTileViewControl(e);};this.getCatalogTileTargetURL=function(e){if(!e){throw new Error("The given tile is falsy");}if(this._isCatalogTile(e)){if(e.tileResolutionResult&&e.tileResolutionResult.isCustomTile){if(!e.tileResolutionResult.targetOutbound){return"";}return this._toHashFromOutbound(e.tileResolutionResult.targetOutbound);}return e.tileIntent||"";}return this.getTileTarget(e);};this.getCatalogTilePreviewTitle=function(e){if(this._isGroupTile(e)){return this.getTileTitle(e);}return(e.tileResolutionResult&&e.tileResolutionResult.title)||"";};this.getCatalogTilePreviewSubtitle=function(e){if(this._isGroupTile(e)){return this.getTileSubtitle(e);}return(e.tileResolutionResult&&e.tileResolutionResult.subTitle)||"";};this.getCatalogTilePreviewIcon=function(e){if(this._isGroupTile(e)){return this.getTileIcon(e);}return(e.tileResolutionResult&&e.tileResolutionResult.icon)||"";};this.getCatalogTilePreviewInfo=function(e){if(this._isGroupTile(e)){return this.getTileInfo(e);}return(e.tileResolutionResult&&e.tileResolutionResult.info)||"";};this.getCatalogTileKeywords=function(e){var K=[],z=e;if(!z){jQuery.sap.log.error("Could not find the Tile","sap.ushell.adapters.cdm.LaunchPageAdapter");return K;}if(this._mResolvedTiles&&this._mResolvedTiles[e.id]){z=this._mResolvedTiles[e.id];}if(z&&z.tileResolutionResult&&z.tileResolutionResult.title){K.push(z.tileResolutionResult.title);}if(z&&z.tileResolutionResult&&z.tileResolutionResult.subTitle){K.push(z.tileResolutionResult.subTitle);}return K;};this._visitBookmarks=function(e,z){var B=sap.ushell.Container;var F=B.getService("URLParsing");var H=B.getService("CommonDataModel");var I;var J=F.parseShellHash(e);if(J){I=x(J);}else{I=w(e);}return H.getSite().then(function(S){var K=S.groups;var T=Object.keys(K).filter(function(N){return!K[N].payload.locked;}).map(function(N){return K[N].payload.tiles.filter(function(O){return O.isBookmark&&q(I,O.target);});}).reduce(function(N,O){Array.prototype.push.apply(N,O);return N;},[]);if(!z){return T.length;}return jQuery.when(T.map(z)).then(function(){return T.length;});});};this.addBookmark=function(P,e){var T=this;return new jQuery.Deferred(function(z){var B=sap.ushell.Container;var F=B.getService("URLParsing");var H=B.getService("CommonDataModel");jQuery.when(e||T.getDefaultGroup(),H.getSite()).done(function(e,S){var I,J,K=F.parseShellHash(P.url),N,O=false;if(!K){J=w(P.url);O=true;}else{J=x(K);}I=i(P,J);if(O){N=new jQuery.Deferred();N.resolve(T._getTileForUrl(I));}else{N=T._getTileFromHash(P.url);}N.done(function(Q){Q.isLink=false;T._mResolvedTiles[I.id]=Q;S.groups[e.identification.id].payload.tiles.push(I);H.save().done(function(){z.resolve(I);}).fail(function(W){z.reject(W);});}).fail(function(Q){z.reject("Bookmark creation failed because: "+Q);});}).fail(function(I){z.reject(I);});}).promise();};this.countBookmarks=function(e){return this._visitBookmarks(e);};this.updateBookmarks=function(e,P){var z=sap.ushell.Container;var B=z.getService("URLParsing");var F=z.getService("CommonDataModel");var H=this._mResolvedTiles;function I(T){return new jQuery.Deferred(function(J){var K,N;var O;var Q=false;var S={};if(P.url||P.url===""){K=B.parseShellHash(P.url);if(!K){N=w(P.url);}else{N=x(K);}}if(T.icon!==P.icon){S.icon=P.icon;Q=true;}if(T.title!==P.title){S.title=P.title;Q=true;}if(T.subTitle!==P.subtitle){S.subtitle=P.subtitle;Q=true;}if(P.url&&e!==P.url){S.targetURL=P.url;Q=true;}if(T.info!==P.info){S.info=P.info;Q=true;}k(T,P,N);if(Q&&H[T.id]){O=H[T.id].tileComponent;if(O){O.tileSetVisualProperties(S);}}J.resolve(T);}).promise();}return this._visitBookmarks(e,I).then(function(J){return F.save().then(function(){return J;});});};this.deleteBookmarks=function(e){var z=sap.ushell.Container;var B=z.getService("URLParsing");var F=z.getService("CommonDataModel");var I=B.parseShellHash(e);var H;if(I){H=x(I);}else{H=w(e);}return F.getSite().then(function(S){var J=S.groups;var K=Object.keys(J).map(function(N){var P=J[N].payload;var O=0;P.tiles=P.tiles.filter(function(T){if(T.isBookmark&&q(H,T.target)){++O;return false;}return true;});return O;}).reduce(function(N,O){N+=O;return N;},0);return F.save().then(function(){return K;});});};this.onCatalogTileAdded=function(T){};this._onTileSettingsSave=function(T,S){var e=new jQuery.Deferred(),z,B,N,F,H,O,I,J;if(T&&T.id&&S){N=S.oTitleInput.getValue();H=S.oSubTitleInput.getValue();F=S.oInfoInput.getValue();O=this.getTileTitle(T);I=this.getTileInfo(T);J=this.getTileSubtitle(T);if(O===N&&J===H&&I===F){return undefined;}z=sap.ushell.Container.getService("CommonDataModel");var K=this;z.getSite().done(function(P){if(!P.modifiedTiles){P.modifiedTiles={};}if(!P.modifiedTiles[T.id]){P.modifiedTiles[T.id]={id:T.id};}B={};if(O!==N){B.title=N;P.modifiedTiles[T.id].title=N;T.title=N;}if(J!==H){B.subtitle=H;P.modifiedTiles[T.id].subTitle=H;T.subTitle=H;}if(I!==F){B.info=F;P.modifiedTiles[T.id].info=F;T.info=F;}if(K._mResolvedTiles[T.id].tileComponent){K._mResolvedTiles[T.id].tileComponent.tileSetVisualProperties(B);}else if(K._mResolvedTiles[T.id].linkTileControl){if(B.title){K._mResolvedTiles[T.id].linkTileControl.setHeader(B.title);}if(B.subtitle){K._mResolvedTiles[T.id].linkTileControl.setSubheader(B.subtitle);}if((B.title)||(B.subtitle)){K._mResolvedTiles[T.id].linkTileControl.rerender();}}z.save().fail(function(Q){jQuery.sap.log.error(Q);e.reject("Could not save personalization changes: "+Q);}).done(function(){e.resolve();});}).fail(function(P){jQuery.sap.log.error(P);e.reject("Cannot get site: "+P);});}return e.promise();};this.getTileActions=function(T){var e=[],z,B;if(this._isGroupTile(T)&&!this._isFailedGroupTile(T)){B=new sap.ui.model.json.JSONModel({config:{"display_title_text":this.getTileTitle(T),"display_subtitle_text":this.getTileSubtitle(T),"display_info_text":this.getTileInfo(T)}});z=sap.ushell.components.tiles.utilsRT.getTileSettingsAction(B,this._onTileSettingsSave.bind(this,T),this.getTileType(T));e.push(z);}return e;};function i(P,T){var e=j(P,T);e.isBookmark=true;return e;}function j(P,T){var e={id:U.generateUniqueId([])};k(e,P,T);return e;}function k(T,P,e){P=jQuery.extend(true,{},P);if(e){T.target=e;}if(P.title||P.title===""){T.title=P.title;}if(P.icon||P.icon===""){T.icon=P.icon;}if(P.subtitle||P.subtitle===""){T.subTitle=P.subtitle;}if(P.info||P.info===""){T.info=P.info;}if(P.dataSource){T.dataSource={};jQuery.extend(true,T.dataSource,P.dataSource);delete P.serviceUrl;}else if(P.dataSource===null){delete T.dataSource;delete T.indicatorDataSource;delete P.serviceUrl;}if((P.dataSource||T.dataSource)&&P.serviceUrlPath){T.indicatorDataSource={path:P.serviceUrlPath};}if(P.serviceUrl||P.serviceUrl===""){if(T.dataSource){jQuery.sap.log.warning("`serviceUrl` is marked for deprecation in the future."+"It is not the preferred means for defining a dynamic "+"tile's data source. Please use `oParameter.dataSource`");delete T.dataSource;}T.indicatorDataSource={path:P.serviceUrl};}else if(P.serviceUrl===null&&!T.dataSource){delete T.indicatorDataSource;}if(P.serviceRefreshInterval||P.serviceRefreshInterval===0){T.indicatorDataSource.refresh=P.serviceRefreshInterval;}}function q(T,O){if(T&&O){if(T.url){return T.url===O.url;}return T.semanticObject===O.semanticObject&&T.action===O.action&&t(T.parameters,O.parameters);}return T===O;}function t(P,O){var F,e;P=P||[];O=O||[];if(P.length===O.length){F=v(P);e=v(O);return F===e;}return false;}function v(e){return e.map(function(P){return P.name+P.value;}).sort().join();}function w(e){return{url:e};}function x(I){var T={semanticObject:I.semanticObject,action:I.action,parameters:y(I.params)};if(I.appSpecificRoute){T.appSpecificRoute=I.appSpecificRoute;}return T;}function y(I){return Object.keys(I).map(function(K){var e=I[K]&&I[K][0];return{name:K,value:e||""};});}}d.prototype._getMember=function(O,A){return U.getMember(O,A);};return d;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/PersonalizationAdapter',["sap/ushell/adapters/cdm/_Personalization/internals","sap/ushell/utils/XHttpClient"],function(a,h){"use strict";return a.PersonalizationAdapter.bind(null,h,null);},true);
sap.ui.predefine('sap/ushell/adapters/cdm/_LaunchPage/modifyHome',["sap/ushell/adapters/cdm/_LaunchPage/readHome"],function(r){"use strict";function c(u){return a(u,"Home",true);}function a(u,t,D){var g={"identification":{"id":u,"namespace":"","title":t},"payload":{"isPreset":false,"locked":false,"tiles":[],"links":[],"groups":[]}};if(D){g.payload.isDefaultGroup=true;}return g;}function b(S,g,i){var G=r.getGroupId(g);S.groups[G]=g;if(i!==undefined){S.site.payload.groupsOrder.splice(i,0,G);}else{S.site.payload.groupsOrder.push(G);}return S;}function o(S,g,G){if(S&&S.groups&&S.groups[G]){S.groups[G]=g;}return S;}function d(S,g){if(S&&S.groups&&S.groups[g.identification.id]){delete S.groups[g.identification.id];}if(S&&S.site&&S.site.payload&&S.site.payload.groupsOrder){S.site.payload.groupsOrder=jQuery.grep(S.site.payload.groupsOrder,function(G){return G!==g.identification.id;});}return S;}function s(S,n){S.site.payload.groupsOrder=n;return S;}function e(g,n){g.identification.title=n;}function f(g,n){if(n){delete g.identification.isVisible;}else{g.identification.isVisible=false;}}return{createDefaultGroup:c,createEmptyGroup:a,addGroupToSite:b,overwriteGroup:o,removeGroupFromSite:d,setGroupsOrder:s,setGroupTitle:e,setGroupVisibility:f};},true);
sap.ui.predefine('sap/ushell/adapters/cdm/_LaunchPage/readCatalogs',[],function(){"use strict";function g(c){return c.identification.id;}function a(c){return c.identification.title;}return{getCatalogId:g,getCatalogTitle:a};},true);
sap.ui.predefine('sap/ushell/adapters/cdm/_LaunchPage/readHome',["sap/ushell/utils/type"],function(t){"use strict";function g(S){var L=[];S.site.payload.groupsOrder.forEach(function(G,I){var x=S.groups[G];if(x){x.payload=x.payload||{};L.push(x);}});return L;}function a(S){return S.groups;}function b(S){return S.site.payload.groupsOrder;}function c(S,G){return S.groups[G];}function d(G){var D=G.filter(function(x){return x.payload.hasOwnProperty("isDefaultGroup");});if(D.length>0){return D[0];}return undefined;}function e(G){return G.identification&&G.identification.id;}function f(G){return G.identification.title;}function i(G){if(!G.payload.hasOwnProperty("isPreset")){return true;}return!!G.payload.isPreset;}function h(G){return!!G.payload.locked;}function j(G){return!!(G.identification.isVisible===undefined||G.identification.isVisible===true);}function k(G){if(G.payload.tiles&&t.isArray(G.payload.tiles)&&G.payload.tiles.length>0){return G.payload.tiles;}else{return[];}}function l(G){if(G.payload.links&&t.isArray(G.payload.links)&&G.payload.links.length>0){return G.payload.links;}else{return[];}}function m(T){return T.id;}function n(R,T){var x;if(T&&T.isBookmark){return T.title;}x=R[T.id];if(x){return T.title||x.tileResolutionResult.title;}else{return undefined;}}function o(R,T){var x;if(T.isBookmark){return T.subTitle;}x=R[T.id];if(x){return T.subTitle||x.tileResolutionResult.subTitle;}else{return undefined;}}function p(R,T){var x;if(T.isBookmark){return T.info;}x=R[T.id];return T.info||x.tileResolutionResult.info;}function q(R,T){var x;if(T.isBookmark){return T.icon;}x=R[T.id];if(x){return T.icon||x.tileResolutionResult.icon;}else{return undefined;}}function r(R,T){var x;if(T.isBookmark){return T.icon;}x=R[T.id];if(x){return T.icon||x.tileResolutionResult.icon;}else{return undefined;}}function s(R,T){var x=R[T.id];if(x&&x.tileResolutionResult&&x.tileResolutionResult.size){return x.tileResolutionResult.size;}}function u(R,T){var x=R[T.id];if(x){return!!x.isLink;}return false;}function v(T){return!!(T&&T.id&&T.target);}function w(A,F){return A.deviceTypes&&A.deviceTypes[F];}return{getGroupsArrayFromSite:g,getGroupsMapFromSite:a,getGroupIdsFromSite:b,getGroupFromSite:c,getDefaultGroup:d,getGroupId:e,getGroupTitle:f,isGroupPreset:i,isGroupLocked:h,isGroupVisible:j,getGroupTiles:k,getGroupLinks:l,getTileId:m,getTileTitle:n,getTileSubtitle:o,getTileInfo:p,getTileIcon:q,getTileIndicatorDataSource:r,getTileSize:s,isLink:u,isGroupTile:v,supportsFormFactor:w};},true);
sap.ui.predefine('sap/ushell/adapters/cdm/_LaunchPage/uri.transform',["sap/ui/thirdparty/URI"],function(U){"use strict";function t(u,s,f,g){var o=(e(u))?new U(u):null;if(!o){return{error:'Error: Parameter sUri is empty or not a string, use case not supported.'};}if(!b(o)){return r(u,null,null,null,u);}var h=(e(s))?new U(s):null;if(h&&!b(h)){return r(u,s,null,null,o.absoluteTo(h));}var i=new U().search("");if(i.toString()==""){i=new U('https://x.y.z:8443/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/shells/cdm/fioriCDM.html?params');}var k=(e(f))?new U(m(f)):i;if(!b(k)&&!g){return r(u,s,U.joinPaths(h,o),c(k),U.joinPaths(h,o).absoluteTo(k));}var l=(e(g))?new U(g):i;if(!k||!l.toString()){return{error:'Error: Parameter sUriNewBase is empty or not a string, use case not supported.'};}if(b(l)){return{error:'Error: Parameter sUriNewBase is a relative uri, but must be absolute.'};}if(b(k)&&!b(l)){k=k.absoluteTo(l);}if(!b(k)&&!b(l)){if(k.host()&&l.host()&&k.host()!=l.host()){return{error:'Error: Hosts of the parameters sUriBase and sUriNewBase are given but do not match.'};}var n=d(k).relativeTo(d(l));var p;if(e(s)){p=o.absoluteTo(h.absoluteTo(n.absoluteTo(l)));var q=j(n,h);var v=j(q,o);return r(o,q,v,c(l),p);}else{p=o.absoluteTo(n.absoluteTo(l));var w=j(n,o);return r(w,null,w,c(l),p);}}return{error:'Error: Parameter combination not supported.'};}function r(u,o,f,g,h){var r={};if(u){r.uri=u.toString();}if(o){r.uriParent=o.toString();}if(f){r.uriRelative=f.toString();}if(g){r.uriBase=g.toString();}if(h){r.uriAbsolute=h.toString();}return r;}function a(u){if(!u.is("relative"))return false;return u.toString()[0]=='/';}function b(u){return!u.is("absolute")&&!a(u);}function c(u){return u.filename("").search("").fragment("");}function j(){var l=new U("/1/2/3/4/5/6/7/8/9/");var r=l;for(var i=0;i<arguments.length;i++){r=U.joinPaths(r,arguments[i]);}return r.relativeTo(l);}function d(u){return U.joinPaths(u.directory(),'/');}function m(u){var s=u;if(u){var o=new U(u);if(o.filename()&&o.filename().indexOf(".")==-1&&o.filename().slice(-1)!='/'){s+='/';}}return s;}function e(f){return(f&&typeof f==='string');}return t;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/_Personalization/internals',["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","jquery.sap.global"],function(s,i,q){"use strict";return Object.create(null,{PersonalizationAdapter:{value:P},getStorageResourceRoot:{value:g},getContainerPath:{value:c},delAdapterContainer:{value:e},createContainerData:{value:f},getAdapterContainer:{value:A},getContainerCategory:{value:h},isCategoryPContainer:{value:k},trimContainerKey:{value:t},save:{value:l},load:{value:m},del:{value:n},clearContainerData:{value:o},getItemKeys:{value:u},containsItem:{value:v},setItemValue:{value:w},getItemValue:{value:x},delItem:{value:y},addPrefixToItemKey:{value:p},stripPrefixFromItemKey:{value:r},getHttpHeaderValue:{value:z}});function P(H,C,S,B,D){var E,F;var G={cache:{},headers:{"sap-client":S.getClient()}};D=D&&D.config;if(!D){throw new Error("PersonalizationAdapter: missing configuration.");}if(!C){C=Object.create(null);}E=g(D);F=H(E,G);return Object.create(null,{getAdapterContainer:{value:A.bind(null,D,C,F)},delAdapterContainer:{value:e.bind(null,D,C,F)}});}function g(C){var I=!C||!C.storageResourceRoot;if(I){throw new Error("Configuration error: storage resource root is not defined.");}return C.storageResourceRoot;}function a(C){var I=!C||!C.relativeUrlReadOptimized;if(I){throw new Error("Configuration error: relative URL for read optimization is not defined.");}return C.relativeUrlReadOptimized;}function b(C){var I=!C||!C.relativeUrlWriteOptimized;if(I){throw new Error("Configuration error: relative URL for write optimization is not defined.");}return C.relativeUrlWriteOptimized;}function c(C,S,B){return j(C,S)+"/"+encodeURIComponent(t(B))+".json";}function t(C){var B=i.S_CONTAINER_PREFIX,D,R;if(q.type(C)!=="string"||C.length===0){throw new Error("Personalization container key must be a non-empty string");}if(C.substring(0,B.length)===B){D=C.substring(B.length);}else{q.sap.log.error("Unexpected personalization container key: "+C,"should always be prefixed with "+B,"sap.ushell.adapters.cdm.PersonalizationAdapter");D=C;}if(D.length<=40){R=D;}else{R=D.substring(0,40);q.sap.log.error("Invalid personalization container key: '"+D+"'"+" exceeds maximum key length (40 characters) and is shortened to '"+R+"'",undefined,"sap.ushell.adapters.cdm.PersonalizationAdapter");}return R;}function d(){return{validity:Infinity,keyCategory:s.keyCategory.GENERATED_KEY,writeFrequency:s.writeFrequency.HIGH,clientStorageAllowed:false};}function e(C,B,H,D,S){var E=c(C,S,D);var F=B&&B[E];if(F){delete B[E];}return n(H,E);}function f(S,B){var C;if((!B&&B!=="")||B.constructor!==String){q.sap.log.warning("Personalization container has an invalid app name; must be a non-empty string",null,"sap.ushell.adapters.cdm.PersonalizationAdapter");}if(!S){S=d();}C=Object.create(null,{items:{value:Object.create(null),enumerable:true},__metadata:{value:Object.create(null,{appName:{value:B,enumerable:true},expiry:{value:Date.now()+S.validity*60*1000,enumerable:true},validity:{value:S.validity,enumerable:true},category:{value:h(S),enumerable:true}}),enumerable:true,writable:true}});return C;}function A(C,B,H,D,S,E){var F,G,I=c(C,S,D);if(B&&B[I]){return B[I];}G=f(S,E);F=G.items;return Object.create(null,{save:{value:l.bind(null,H,G,I)},load:{value:m.bind(null,H,G,I)},del:{value:n.bind(null,H,G,I)},setItemValue:{value:w.bind(null,F)},getItemValue:{value:x.bind(null,F)},getItemKeys:{value:u.bind(null,F)},containsItem:{value:v.bind(null,F)},delItem:{value:y.bind(null,F)}});}function h(S){return k(S)?"p":"u";}function j(C,S){return k(S)?a(C):b(C);}function k(S){return S&&S.keyCategory===s.keyCategory.FIXED_KEY&&S.writeFrequency===s.writeFrequency.LOW&&S.clientStorageAllowed;}function l(H,C,B){return new q.Deferred(function(D){H.put(B,{data:C}).then(function(R){D.resolve();}).catch(function(R){q.sap.log.error("Failed to save personalization container; response: "+(typeof R==="object"?JSON.stringify(R):R),R.stack?R.stack:null,"sap.ushell.adapters.cdm.PersonalizationAdapter");D.reject(R);});}).promise();}function m(H,C,B){function D(C){o(C.items);}return new q.Deferred(function(E){H.get(B).then(function(R){var F,G;if(R.status===200&&z(R.responseHeaders,"content-length")==="0"&&z(R.responseHeaders,"content-type").indexOf("text/plain")===0){D(C);}else{F=JSON.parse(R.responseText);if(F.data){F.items=F.data;delete F.data;F.__metadata=C.__metadata;}G=F.items;o(C.items);Object.keys(G).forEach(function(I){C.items[I]=G[I];});C.__metadata=F.__metadata;}E.resolve();}).catch(function(R){if(R.status===404){D(C);E.resolve();}else{o(C.items);E.reject(R);}});}).promise();}function n(H,B){return new q.Deferred(function(D){H.delete(B).then(function(){D.resolve();}).catch(function(R){D.reject(R);});}).promise();}function o(C){Object.keys(C).forEach(function(K){delete C[K];});}function p(K){if(K==="__metadata"){return undefined;}else if(K.indexOf(i.S_VARIANT_PREFIX)===0||K.indexOf(i.S_ADMIN_PREFIX)===0){return K;}else{return i.S_ITEM_PREFIX+K;}}function r(K){if(K.indexOf(i.S_ITEM_PREFIX)===0){return K.substring(i.S_ITEM_PREFIX.length);}else if(K.indexOf(i.S_VARIANT_PREFIX)===0||K.indexOf(i.S_ADMIN_PREFIX)===0){return K;}else{throw new Error("Illegal item key for personalization container: '"+K+"'; must be prefixed with one of the following: ["+i.S_ITEM_PREFIX+", "+i.S_VARIANT_PREFIX+", "+i.S_ADMIN_PREFIX+"] ");}}function u(C){return Object.keys(C).map(p).filter(function(K){return!!K;});}function v(C,K){return C.hasOwnProperty(r(K));}function w(C,K,V){C[r(K)]=V;}function x(C,K){return C[r(K)];}function y(C,K){delete C[r(K)];}function z(H,N){var M=H&&H.filter(function(B){return B.name.toLowerCase()===N;});return M&&M[0]&&M[0].value;}});
sap.ui.predefine('sap/ushell/adapters/cdm/v3/AdapterBase',["sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/v3/_LaunchPage/readCatalogs","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/m/GenericTile","sap/ui/core/ComponentContainer","sap/ushell/adapters/cdm/_LaunchPage/uri.transform","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/navigationMode","sap/ushell/resources","sap/ushell/utils","sap/ushell/adapters/cdm/v3/utilsCdm","sap/base/util/Version","sap/base/Log"],function(r,R,o,G,C,u,a,e,n,b,U,c,V,L){"use strict";var l=jQuery.sap.log.getLogger("sap/ushell/adapters/cdm/LaunchPageAdapter");var d=jQuery.sap.log.Level;var S="sap.ushell.components.tiles.cdm.applauncher";var D="sap.ushell.components.tiles.cdm.applauncherdynamic";function A(f,p,g){this.oAdapterConfiguration=g;this._mResolvedTiles={};this._mCatalogTilePromises={};this._mFailedResolvedCatalogTiles={};this._mFailedResolvedTiles={};this._mContentProviders={};this.TileType={Tile:"tile",Link:"link",Card:"card"};}A.prototype.getGroups=function(){var f=new jQuery.Deferred();this._ensureLoaded().done(function(g){U.setPerformanceMark("FLP - homepage groups processed");f.resolve(g);}).fail(function(){f.resolve([]);});return f.promise();};A.prototype._ensureLoaded=function(){var t=this,f;if(this._ensureLoadedDeferred){return this._ensureLoadedDeferred.promise();}f=new jQuery.Deferred();this._ensureLoadedDeferred=f;this._getSiteData().done(function(s){if(!t.isSiteSupported(s)){throw new Error("Invalid CDM site version: Check the configuration of the launchpage adapter and the version of the FLP site");}var i=[];var g=r.getGroupsArrayFromSite(s);g=t._addDefaultGroup(g,s);g.forEach(function(h){i=t._ensureGroupItemsResolved(h,s).concat(i);});t._allPromisesDone(i).done(function(){t._ensureLoadedDeferred.resolve(g);delete t._ensureLoadedDeferred;t._logTileResolutionFailures(t._mFailedResolvedTiles);});}).fail(function(E){l.error("Delivering hompage groups failed - "+E);t._ensureLoadedDeferred.resolve([]);delete t._ensureLoadedDeferred;});return f.promise();};A.prototype._ensureGroupItemsResolved=function(g,s){var p=[],f,h;if(g.payload&&g.payload.tiles){f=this._ensureGroupTilesResolved(g.payload.tiles,s);Array.prototype.push.apply(p,f);}if(g.payload&&g.payload.links){h=this._ensureGroupLinksResolved(g.payload.links,s);Array.prototype.push.apply(p,h);}return p;};A.prototype._ensureGroupTilesResolved=function(g,s){return(g||[]).map(function(t,i){return this._resolveGroupTile(t,s).then(function(f){f.isLink=false;return f;});},this);};A.prototype._ensureGroupLinksResolved=function(g,s){return(g||[]).map(function(f){return this._resolveGroupTile(f,s).then(function(h){h.isLink=true;return h;});},this);};A.prototype._resolveGroupTile=function(t,s){var m=this._mResolvedTiles;var f=this._mFailedResolvedTiles;var g;function h(j){m[t.id]=j;if(f[t.id]){delete f[t.id];}return j;}function i(t){var T=t.target;return T&&T.semanticObject==="Shell"&&T.action==="launchURL";}if(m[t.id]){return(new jQuery.Deferred()).resolve(m[t.id]).promise();}if(t.target&&t.target.url){g=jQuery.when(this._getTileForUrl(t));}else if(t.isBookmark){g=this._resolveTileByIntent(t,s);}else if(i(t)){g=this._resolveTileByIntent(t,s);}else{g=this._resolveTileByVizId(t,s);}g.done(function(j){h(j);}).fail(function(F){f[t.id]=F;});return g;};A.prototype._resolveTileByVizId=function(t,s){var v,f,g,h,i,j,I,m,N,k,H,O,E;function p(B,M){return new jQuery.Deferred().reject({logLevel:B,message:M}).promise();}if(!jQuery.isPlainObject(s)){return p(d.ERROR,"Cannot resolve tile: oSite must be an object");}if(!jQuery.isPlainObject(t)){return p(d.ERROR,"Cannot resolve tile: oTile must be an object");}f=t.vizId;if(!f){return p(d.ERROR,"Cannot resolve tile '"+t.id+"': vizId must be specified");}v=o.get(s,f);if(!v){return p(d.ERROR,"Cannot resolve tile '"+t.id+"': no visualization found for vizId '"+f+"'");}h=o.getTypeId(v);g=o.getType(s,h);if(!g){return p(d.ERROR,"Cannot resolve tile '"+t.id+"': no visualization type found for vizTypeId '"+h+"'");}i=o.getAppId(v);if(i){j=o.getAppDescriptor(s,i);if(!j){return p(d.INFO,"Tile '"+t.id+"' filtered from result: no app descriptor found for appId '"+i+"' (dangling app reference)");}I=r.getInbound(j,o.getTarget(v).inboundId);if(!I){return p(d.ERROR,"Cannot resolve tile '"+t.id+"': app '"+i+"' has no navigation inbound");}m=c.mapOne(I.key,I.inbound,j,v,g,s);var q=m.resolutionResult.applicationType,w=m.resolutionResult.additionalInformation,x=a.last("/core/navigation/enableInPlaceForClassicUIs"),y=x?x[q]:false;N=n.computeNavigationModeForHomepageTiles(q,w,y);O=o.getOutbound(v,I.inbound);H=this._toHashFromOutbound(O);}else{var z=o.getConfig(v);if(!z){return p(d.INFO,"Tile '"+t.id+"' filtered from result: Neither target app nor configuration given in visualization '"+f+"'");}m=c.mapOne(undefined,undefined,undefined,v,g,s);if(o.startsExternalUrl(v)){E=U.getMember(z,"sap|flp.target.url");}}k=m.tileResolutionResult;k.navigationMode=N;k.isLink=false;if(!this._isFormFactorSupported(k)){return p(d.INFO,"Tile '"+t.id+"' filtered from result: form factor not supported");}return jQuery.when({tileResolutionResult:k,tileIntent:E||H});};A.prototype._isFormFactorSupported=function(f){var s=U.getFormFactor();return r.supportsFormFactor(f,s);};A.prototype._getFirstInbound=function(f){var F=Object.keys(f["sap.app"].crossNavigation.inbounds).shift(),i=f["sap.app"].crossNavigation.inbounds[F];return{key:F,inbound:i};};A.prototype._resolveTileByIntent=function(t){var h=this._prepareTileHash(t);return this._getTileFromHash(h);};A.prototype._allPromisesDone=function(p){var f=new jQuery.Deferred(),g;if(p.length===0){f.resolve([]);}else{var N=p.map(function(P){g=new jQuery.Deferred();P.always(g.resolve.bind(g));return g.promise();});jQuery.when.apply(this,N).done(function(){var h=Array.prototype.slice.call(arguments);f.resolve(h);});}return f.promise();};A.prototype._logTileResolutionFailures=function(f){var m={};if(!f){return;}Object.keys(d).filter(function(s){var i=d[s];return i>=d.FATAL&&i<=d.ALL;}).forEach(function(s){m[d[s]]="";});Object.keys(f).forEach(function(F){var g=f[F];if(g.logLevel){m[g.logLevel]=m[g.logLevel].concat(g.message).concat("\n");}});if(m[d.FATAL]){l.fatal(m[d.FATAL]);}if(m[d.ERROR]){l.error(m[d.ERROR]);}if(m[d.WARNING]){l.warning(m[d.WARNING]);}if(m[d.INFO]){l.info(m[d.INFO]);}if(m[d.DEBUG]){l.debug(m[d.DEBUG]);}if(m[d.TRACE]){l.trace(m[d.TRACE]);}};A.prototype._isValidTitle=function(t){return typeof t==="string"&&t;};A.prototype._isGroupPreset=function(g){return r.isGroupPreset(g);};A.prototype._isGroupLocked=function(g){return r.isGroupLocked(g);};A.prototype.getGroupTitle=function(g){return r.getGroupTitle(g);};A.prototype.getGroupId=function(g){return r.getGroupId(g);};A.prototype.isGroupVisible=function(g){return r.isGroupVisible(g);};A.prototype.getTileTitle=function(t){return r.getTileTitle(this._mResolvedTiles,t);};A.prototype.getTileSubtitle=function(t){return r.getTileSubtitle(this._mResolvedTiles,t);};A.prototype.getTileIcon=function(t){return r.getTileIcon(this._mResolvedTiles,t);};A.prototype.getTileInfo=function(t){return r.getTileInfo(this._mResolvedTiles,t);};A.prototype.getTileIndicatorDataSource=function(t){var f=this._mResolvedTiles[t.id],g={},h;if(t.indicatorDataSource){g.indicatorDataSource=U.clone(t.indicatorDataSource);if(t.dataSource){g.dataSource=U.clone(t.dataSource);}return g;}if(!f){return g;}h=f.tileResolutionResult;if(h.indicatorDataSource){g.indicatorDataSource=U.clone(h.indicatorDataSource);if(h.indicatorDataSource.hasOwnProperty("dataSource")){var s=h.indicatorDataSource.dataSource,i=h.dataSources;if(i&&i.hasOwnProperty(s)){g.dataSource=U.clone(i[s]);}else{jQuery.sap.log.warning("datasource referenced but not found for tile: "+f.tileIntent);}}if(U.getMember(h,"runtimeInformation.componentProperties.url")){var p=U.getMember(g,"indicatorDataSource.path");var j=U.getMember(g,"dataSource.uri");var k=U.getMember(h,"runtimeInformation.componentProperties.url");var T=u(p,j,k,this.getWindowLocationHref());if(!T.error){if(p){g.indicatorDataSource.path=T.uri;}if(j){g.dataSource.uri=T.uriParent;}}}}return g;};A.prototype.getWindowLocationHref=function(){return window.location.href;};A.prototype.isGroupRemovable=function(g){return!this._isGroupPreset(g);};A.prototype.isGroupLocked=function(g){return this._isGroupLocked(g);};A.prototype.getGroupTiles=function(g){return r.getGroupTiles(g).concat(r.getGroupLinks(g));};A.prototype.getTileType=function(i){if(r.isLink(this._mResolvedTiles,i)){return this.TileType.Link;}if(r.isCard(this._mResolvedTiles,i)){return this.TileType.Card;}return this.TileType.Tile;};A.prototype.getTileId=function(t){return r.getTileId(t);};A.prototype.getTileSize=function(t){return r.getTileSize(this._mResolvedTiles,t)||"1x1";};A.prototype.getTileTarget=function(t){var T=r.getTileId(t),f=this._mResolvedTiles[T];if(t.target&&t.target.url){return t.target.url;}if(f){return f.tileIntent;}jQuery.sap.log.warning("Could not find a target for Tile with id '"+T+"'","sap.ushell.adapters.cdm.LaunchPageAdapter");return"";};A.prototype.isTileIntentSupported=function(t){return(this._mFailedResolvedTiles[t.id]===undefined);};A.prototype.setTileVisible=function(t,N){var f=this._mResolvedTiles[t.id];if(f){if(f.tileComponent){this._notifyTileAboutVisibility(f.tileComponent,N,f.visibility);}f.visibility=N;}};A.prototype.getCardManifest=function(g){var f,h=this._mResolvedTiles[g.id];f=h.tileResolutionResult;return f.tileComponentLoadInfo;};A.prototype._getTileUiComponentContainerSync=function(t,f,i){var g=this,h,T,N,j,k={};if(i===true){T=g._createTileComponentData(t,true,f);}else{T=g._createTileComponentData(t,false,f);}h=f.tileResolutionResult;if(f.isLink){N=h.navigationMode;return g._createLinkInstance(t,i,N,G,b);}if(typeof h.tileComponentLoadInfo==="object"&&h.tileComponentLoadInfo!==null){k=h.tileComponentLoadInfo.componentProperties||{};k.name=h.tileComponentLoadInfo.componentName;}k.componentData=T;if(k.manifest){k.componentData.properties=k.componentData.properties||{};k.componentData.properties.manifest=k.manifest;}if(k.name){k.async=false;var m;try{j=sap.ui.component(k);}catch(E){jQuery.sap.log.error(E.message+"\n-- An error occurred while instantiating "+"the tile component for "+k.name,E.stack?E.stack:"","sap.ushell.adapters.cdm.LaunchPageAdapter");return null;}m=new sap.ui.core.ComponentContainer({component:j,height:"100%"});if(!i){g._mResolvedTiles[t.id].tileComponent=j;}return m;}return null;};A.prototype._getTileUiComponentContainer=function(t,f,i){var g=this,h,T,N,j,k,I,m=new jQuery.Deferred();var p=sap.ushell.Container.getService("Ui5ComponentLoader");if(i===true){T=g._createTileComponentData(t,true,f);}else{T=g._createTileComponentData(t,false,f);}h=f.tileResolutionResult;if(f.isLink){N=h.navigationMode;m.resolve(g._createLinkInstance(t,i,N,G,b));return m.promise();}var q=this._createTileComponentProperties(T,h.tileComponentLoadInfo);if(!q.name){return m.reject("Cannot find name of tile component for tile with id: '"+t.id+"'").promise();}if(q.manifest){T.properties=T.properties||{};T.properties.manifest=q.manifest;}I=this.isCustomTile(q.name);var s=function(v){var f;j=v.componentHandle.getInstance();k=new C({component:j,height:"100%"});if(!i){f=g._mResolvedTiles[t.id];f.tileComponent=j;if(typeof f.visibility==="boolean"){g._notifyTileAboutVisibility(j,f.visibility);}}return k;};var _=function(){return p.createComponent({loadCoreExt:I,loadDefaultDependencies:false,componentData:T,url:q.url,applicationConfiguration:{},reservedParameters:{},applicationDependencies:q,ui5ComponentName:q.name},{},[]).then(s);};if(I){e.once("CoreResourcesComplementLoaded").do(function(){_().then(function(k){m.resolve(k);}).fail(function(E){m.reject(E);});});}else{_().then(function(k){m.resolve(k);}).fail(function(E){m.reject(E);});}return m.promise();};A.prototype._createTileComponentProperties=function(t,T){var f={};if(!T){return f;}if(jQuery.isEmptyObject(T)){if(t.properties.indicatorDataSource&&t.properties.indicatorDataSource.path){f.name=D;}else{f.name=S;}}else{f=T.componentProperties||{};f.name=T.componentName;}return f;};A.prototype.getTileView=function(g){var t=this;return new jQuery.Deferred(function(f){return t._getTileView(g,false).then(function(T){f.resolve(T);},function(s){var E="Tile with ID '"+g.id+"' could not be initialized"+(s?":\n"+s:".");jQuery.sap.log.error(E,null,g.tileType);f.reject(E);});}).promise();};A.prototype._getTileView=function(g){var f,E,h=new jQuery.Deferred();if(typeof g!=="object"||!g.id){E="Invalid input parameter passed to _getTileView: "+g;jQuery.sap.log.error(E);return h.reject(E).promise();}f=this._mResolvedTiles[g.id];if(f){return this._getTileUiComponentContainer(g,f,false);}E="No resolved tile found for tile ID: "+g.id;jQuery.sap.log.error(E);return h.reject(E).promise();};A.prototype._createTileComponentData=function(t,i,f){var T=i?this.getCatalogTileTitle(t):this.getTileTitle(t),s=i?this.getCatalogTilePreviewSubtitle(t):this.getTileSubtitle(t),I=i?this.getCatalogTilePreviewIcon(t):this.getTileIcon(t),g=i?this.getCatalogTilePreviewInfo(t):this.getTileInfo(t),h=i?this.getCatalogTileTargetURL(t):this.getTileTarget(t),j=this.getTileIndicatorDataSource(t),k={properties:{},startupParameters:{}};if(f.tileResolutionResult.isCustomTile===true&&f.tileResolutionResult.startupParameters){k.startupParameters=f.tileResolutionResult.startupParameters;}if(T){k.properties.title=T;}if(g){k.properties.info=g;}if(s){k.properties.subtitle=s;}if(I){k.properties.icon=I;}if(h){k.properties.targetURL=h;}if(j.indicatorDataSource){k.properties.indicatorDataSource=j.indicatorDataSource;if(j.dataSource){k.properties.dataSource=j.dataSource;}}if(f.tileResolutionResult){k.properties.navigationMode=f.tileResolutionResult.navigationMode;}return k;};A.prototype._isGroupTile=function(t){return r.isGroupTile(t);};A.prototype._isCatalogTile=function(t){return!!(t&&t.isCatalogTile);};A.prototype._isFailedGroupTile=function(t){return!!(t&&this._mFailedResolvedTiles&&this._mFailedResolvedTiles[r.getTileId(t)]);};A.prototype.getCatalogTileId=function(g){if(this._isGroupTile(g)){if(this._isFailedGroupTile(g)){return undefined;}if(g.isBookmark&&jQuery.sap.getObject("target.url",undefined,g)){return g.target.url;}return g.vizId||(g.target&&g.target.url);}if(this._isCatalogTile(g)){return g.id;}return undefined;};A.prototype.getCatalogTileTargetURL=function(g){if(!g){throw new Error("The given tile is falsy");}if(this._isCatalogTile(g)){if(g.tileResolutionResult&&g.tileResolutionResult.isCustomTile){if(!g.tileResolutionResult.targetOutbound){return"";}return this._toHashFromOutbound(g.tileResolutionResult.targetOutbound);}return g.tileIntent||"";}return this.getTileTarget(g);};A.prototype.isGroupFeatured=function(g){return!!g.isFeatured;};A.prototype._getMember=function(O,s){return U.getMember(O,s);};A.prototype.getCdmVersionsSupported=function(){return{"min":V("3.0.0"),"max":V("3.0.0")};};A.prototype.isSiteSupported=function(s){if(!s._version||V(s._version).compareTo(this.getCdmVersionsSupported().min)<0||V(s._version).compareTo(this.getCdmVersionsSupported().max)>0){L.fatal("Invalid CDM site version: Only version 3.0.0 is supported");return false;}return true;};return A;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/v3/LaunchPageAdapter',["sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/_LaunchPage/modifyHome","sap/ushell/adapters/cdm/v3/_LaunchPage/readCatalogs","sap/m/library","sap/ushell/utils","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/adapters/cdm/v3/AdapterBase","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/navigationMode","sap/ushell/Config"],function(r,m,R,M,u,U,A,o,n,C){"use strict";var g=M.GenericTileMode;var S="sap.ushell.components.tiles.cdm.applauncher";var D="sap.ushell.components.tiles.cdm.applauncherdynamic";function L(a,p,b){A.call(this,a,p,b);this._getTileFromHashInContextOfSite=function(e,s,I){var v=new jQuery.Deferred(),w=s[I];if(!w){w=e(I);s[I]=w;}w.done(function(T){var x={tileIntent:I,tileResolutionResult:T};v.resolve(x);}).fail(function(E){v.reject("Hash '"+I+"' could not be resolved to a tile. "+E);});return v.promise();};this._getTileFromHash=function(I){var e=sap.ushell.Container.getService("ClientSideTargetResolution");var s=e.resolveTileIntent.bind(e);return this._getTileFromHashInContextOfSite(s,this._mCatalogTilePromises,I);};this._getTileFromHashFromSite=function(s,I){var e=sap.ushell.Container.getService("ClientSideTargetResolution");var v=U.formatSite(s);var w=e.resolveTileIntentInContext.bind(e,v);var x={};return this._getTileFromHashInContextOfSite(w,x,I);};this._getTileForUrl=function(T){var e={componentName:T.indicatorDataSource?D:S};return{tileIntent:"#",tileResolutionResult:{tileComponentLoadInfo:e,isCustomTile:false}};};this._prepareTileHash=function(T){var e=sap.ushell.Container.getService("URLParsing"),P={},s,v;if(this._isCatalogTile(T)){return T.tileIntent;}if(this._isGroupTile(T)&&T.target){v=T.target.parameters||[];v.forEach(function(w){if(w.name&&w.value){P[w.name]=[w.value];}});s={target:{semanticObject:T.target.semanticObject,action:T.target.action},params:P,appSpecificRoute:T.target.appSpecificRoute};return"#"+e.constructShellHash(s);}return undefined;};this.getDefaultGroup=function(){var e=new jQuery.Deferred(),s;var v=this;if(!this._oDefaultGroup){s=this._ensureLoaded();}if(s){s.done(function(){e.resolve(v._oDefaultGroup);}).fail(function(w){e.reject("Failed to access default group. "+w);});}else{e.resolve(v._oDefaultGroup);}return e.promise();};this.addGroup=function(T){var e=new jQuery.Deferred(),s=sap.ushell.Container.getService("CommonDataModel"),G,v,w=this;if(!this._isValidTitle(T)){return e.reject("No valid group title").promise();}v="Failed to add the group with title '"+T+"' to the homepage. ";s.getSite().done(function(x){G=u.generateUniqueId(r.getGroupIdsFromSite(x));m.addGroupToSite(x,m.createEmptyGroup(G,T));s.save().done(function(){delete w._ensureLoadedDeferred;e.resolve(x.groups[G],G);}).fail(function(E){e.reject(E);});}).fail(function(E){e.reject(v+E);});return e.promise();};this.setGroupTitle=function(G,N){var e=this,s=new jQuery.Deferred(),v=sap.ushell.Container.getService("CommonDataModel"),O,w;if(typeof G!=="object"||!r.getGroupId(G)){return s.reject("Unexpected group value").promise();}if(!e._isValidTitle(N)){return s.reject("Unexpected oGroup title value").promise();}w="Failed to set new title for group with id '"+r.getGroupId(G)+"'. ";O=r.getGroupTitle(G);v.getSite().done(function(x){if(G){m.setGroupTitle(G,N);}v.save().done(function(){s.resolve();}).fail(function(E){jQuery.sap.log.error(E);s.reject(O);});}).fail(function(E){s.reject(O,w+E);});return s.promise();};this.hideGroups=function(H){var e=new jQuery.Deferred(),s=sap.ushell.Container.getService("CommonDataModel"),G;if(H&&jQuery.isArray(H)){G="Failed to hide group. ";s.getSite().done(function(v){r.getGroupsArrayFromSite(v).forEach(function(w){m.setGroupVisibility(w,jQuery.inArray(r.getGroupId(w),H)===-1);});s.save().done(function(){e.resolve();}).fail(function(E){e.reject("Hiding of groups did not work as expected - "+E);});}).fail(function(E){e.reject(G+E);});}else{e.reject("Invalid input parameter aHiddenGroupIds. Please pass a valid input parameter.");}return e.promise();};this.moveGroup=function(G,e){var s=new jQuery.Deferred(),v=sap.ushell.Container.getService("CommonDataModel"),w,x;if(!G||!r.getGroupId(G)||e<0){return s.reject("Unable to move groups - invalid parameters").promise();}x="Failed to move group with id '"+G.identification.id+"'. ";v.getSite().done(function(y){var z=r.getGroupIdsFromSite(y),B=r.getGroupId(G);if(!z){return s.reject("groupsOrder not found - abort operation of adding a group.");}else if(z.indexOf(B)===e){return s.resolve();}w=u.moveElementInsideOfArray(z,z.indexOf(B),e);if(!w){return s.reject("invalid move group operation - abort.");}m.setGroupsOrder(y,w);v.save().done(function(){s.resolve();}).fail(function(E){s.reject(E);});return undefined;}).fail(function(E){s.reject(x+E);});return s.promise();};this.removeGroup=function(G){var e=new jQuery.Deferred(),s=sap.ushell.Container.getService("CommonDataModel"),v,w;if(typeof G!=="object"){return e.reject("invalid group parameter").promise();}w=r.getGroupId(G);if(!w){return e.reject("group without id given").promise();}v="Failed to remove group with id '"+w+"'. ";s.getSite().done(function(x){m.removeGroupFromSite(x,G);s.save().done(function(){e.resolve();}).fail(function(E){e.reject(E);});}).fail(function(E){e.reject(v+E);});return e.promise();};this.resetGroup=function(G){var e=new jQuery.Deferred(),s=sap.ushell.Container.getService("CommonDataModel"),v=[],w=this,x,y;if(typeof G==="object"&&r.getGroupId(G)){y=r.getGroupId(G);x="Failed to reset group with id '"+y+"'. ";s.getSite().done(function(z){jQuery.extend(true,v,r.getGroupsArrayFromSite(z));if(w.isGroupRemovable(G)===false){s.getGroupFromOriginalSite(y).done(function(B){if(typeof z==="object"&&r.getGroupFromSite(z,y)){m.overwriteGroup(z,B,y);}s.save().done(function(){e.resolve(B);}).fail(function(E){e.reject("Group could not be reset - "+E,v);});}).fail(function(E){e.reject("Group could not be reset - "+E,v);});}else{e.reject("Group could not be reset as it was created by the user",v);}}).fail(function(E){e.reject(x+E,[]);});}return e.promise();};this.getLinkTiles=function(G){return r.getGroupLinks(G);};this.isLinkPersonalizationSupported=function(T){return true;};this._notifyTileAboutRefresh=function(T){if(typeof T.tileRefresh==="function"){T.tileRefresh();}};this.refreshTile=function(T){var e=this._mResolvedTiles[T.id];if(e){if(e.tileComponent){this._notifyTileAboutRefresh(e.tileComponent);}}};this._notifyTileAboutVisibility=function(T,N,O){if(typeof T.tileSetVisible==="function"&&O!==N){T.tileSetVisible(N);}};this.getTileView=function(G){var e=this;return new jQuery.Deferred(function(s){return e._getTileView(G,false).then(function(T){s.resolve(T);},function(v){var E="Tile with ID '"+G.id+"' could not be initialized"+(v?":\n"+v:".");jQuery.sap.log.error(E,null,G.tileType);s.reject(E);});}).promise();};this._getCatalogTileView=function(e){if(typeof e!=="object"){throw new Error(e);}return this._getTileUiComponentContainerSync(e,e,true);};this._getCatalogTileViewControl=function(e){var s=new jQuery.Deferred();if(typeof e!=="object"){var E="Invalid input parameter passed to _getCatalogTileView: "+e;jQuery.sap.log.error(E);return s.reject(E).promise();}return this._getTileUiComponentContainer(e,e,true);};this._createLinkInstance=function(T,I,N,G,e){var s,v,w,x=this.getTileSubtitle(T);var y=G;if(I===true){s=this.getCatalogTileTitle(T);}else{s=this.getTileTitle(T);}v=new y({mode:g.LineMode,subheader:x,header:s,press:function(E){this._genericTilePressHandler(T,E);}.bind(this)});if(N){w=e.i18n.getText(N+"NavigationMode");v.setAriaLabel(w+" "+s+" "+x);}this._mResolvedTiles[T.id].linkTileControl=v;return v;};this._genericTilePressHandler=function(T,e){var s;if(e.getSource().getScope&&e.getSource().getScope()==="Display"){s=this.getTileTarget(T);if(s){if(s[0]==="#"){hasher.setHash(s);}else{window.open(s,"_blank");}}}};this._addTileToSite=function(P,G,N,e){var s=this,v=new jQuery.Deferred(),I=sap.ushell.Container.getService("URLParsing").parseShellHash(N.properties.targetURL),T={"id":s.getTileId(N),"target":{"semanticObject":I.semanticObject,"action":I.action,"parameters":q(I.params)}};P.groups[G.identification.id].payload.tiles.push(T);e.save().done(function(){v.resolve(T);}).fail(function(w){v.reject(w);});return v.promise();};this.addTile=function(e,G){var s=new jQuery.Deferred(),v,w=sap.ushell.Container.getService("CommonDataModel"),x;if(!G){G=this._oDefaultGroup;}if(e.contentProviderId){if(e.externalUrl){return this.addBookmark(this._getBookmarkDataForExtensionCatalogTile(e),G);}return s.reject("Extension Tile without URL").promise();}x=f();x.vizId=e.vizId;this._mResolvedTiles[x.id]={tileIntent:e.tileIntent,tileResolutionResult:e.tileResolutionResult,isLink:false};w.getSite().done(function(y){y.groups[G.identification.id].payload.tiles.push(x);w.save().done(function(){s.resolve(x);}).fail(function(z){s.reject(z);});}).fail(function(E){v="Failed to add tile with id '"+x.id+"' to group with id '"+G.identification.id+"'. ";s.reject(v+E);});return s.promise();};this._getBookmarkDataForExtensionCatalogTile=function(e){var B={title:e.tileResolutionResult.title,subtitle:e.tileResolutionResult.subTitle,icon:e.tileResolutionResult.icon,info:e.tileResolutionResult.info,url:e.externalUrl};if(e.tileResolutionResult.indicatorDataSource&&e.tileResolutionResult.indicatorDataSource.path){B.serviceUrl=e.tileResolutionResult.indicatorDataSource.path;B.serviceRefreshInterval=e.tileResolutionResult.indicatorDataSource.refresh;}return B;};this.removeTile=function(G,T,I){var s,v,w=new jQuery.Deferred(),x=this;if(!G||typeof G!=="object"||!G.identification||!G.identification.id||!T||typeof T!=="object"||!T.id){return w.reject({},"Failed to remove tile. No valid input parameters passed to removeTile method.").promise();}v="Failed to remove tile with id '"+T.id+"' from group with id '"+G.identification.id+"'. ";s=sap.ushell.Container.getService("CommonDataModel");s.getSite().done(function(y){var P,z;I=+I;try{P=y.groups[G.identification.id].payload;}catch(e){w.reject(y.groups[G.identification.id],v);}z=x.getTileType(T)===x.TileType.Link?"links":"tiles";if(x.getTileType(T)===x.TileType.Link){I-=P.tiles.length;}if(I>=0){P[z].splice(I,1);}else{P[z]=P[z].filter(function(B){return B.id!==T.id;});}s.save().done(function(){w.resolve();}).fail(function(E){jQuery.sap.log.error(E);w.reject(y.groups[G.identification.id],E);});}).fail(function(e){w.reject({},v+e);});return w.promise();};this.moveTile=function(T,s,e,v,w,x){var y=new jQuery.Deferred(),z=sap.ushell.Container.getService("CommonDataModel"),B=this,G;if(!T||jQuery.isEmptyObject(T)||s===undefined||s<0||e===undefined||e<0||!v||!v.identification||!v.identification.id||!w||!w.identification||!w.identification.id){return y.reject("Invalid input parameters").promise();}G="Failed to move tile with id '"+T.id+"'. ";z.getSite().done(function(E){var F,H,O=B.getTileType(T)===B.TileType.Link?"links":"tiles";if(!x){x=B._mResolvedTiles[T.id].isLink?"link":"tile";}F=x==="link"?"links":"tiles";if(O!==F&&B._mResolvedTiles[T.id]){B._mResolvedTiles[T.id].isLink=x==="link";}if(F==="links"){e-=E.groups[w.identification.id].payload.tiles.length;}if(O==="links"){s-=E.groups[v.identification.id].payload.tiles.length;}if(v.identification.id===w.identification.id){if(s!==e||O!==F){H=E.groups[w.identification.id].payload;H[O].splice(s,1);H[F].splice(e,0,T);}else{return y.resolve(T).promise();}}else{E.groups[v.identification.id].payload[O].splice(s,1);E.groups[w.identification.id].payload[F].splice(e,0,T);}z.save().done(function(){y.resolve(T);}).fail(function(I){jQuery.sap.log.error(G+I);y.reject(G+I);});return undefined;}).fail(function(E){jQuery.sap.log.error(G+E);y.reject(G+E);});return y.promise();};this._compareCatalogs=function(e,B){if(e.identification.id>B.identification.id){return 1;}return-1;};this.getCatalogs=function(){var e=this,s=new jQuery.Deferred(),v=[],w=sap.ushell.Container.getService("CommonDataModel");function x(y,z,v,G,P,B){var E=y.catalogs[z];if(P&&B){E.contentProviderId=P;B.catalogsMap[z]=E;}v.push(E);G.notify(E);}window.setTimeout(function(){w.getSite().done(function(y){Object.keys(y.catalogs).forEach(function(z){x(y,z,v,s);});w.getExtensionSites().progress(function(z){var P=z.providerId;var E=z.site;var B=Promise.resolve(E);var F={sitePromise:B,site:E,catalogsMap:{}};Object.keys(E.catalogs).forEach(function(G){e._mContentProviders[P]=F;x(E,G,v,s,P,F);});}).done(function(z){z.filter(function(B){return!B.success;}).forEach(function(F,I){v.push({identification:{id:F.providerId},contentProviderId:F.providerId,error:"The following content providers could not provide catalogs: "+F.providerId+(F.error?" -> "+F.error:"")});});s.resolve(v.sort(e._compareCatalogs));});});},0);return s.promise();};this._isStartableInbound=function(I){var N=["Shell-plugin","Shell-bootConfig"],e;if(!I.semanticObject||!I.action){return false;}if(N.indexOf(I.semanticObject+"-"+I.action)>-1){return false;}if(!jQuery.sap.getObject("signature.parameters",undefined,I)){return true;}e=Object.keys(I.signature.parameters).every(function(p){return!I.signature.parameters[p].filter||(!!I.signature.parameters[p].launcherValue||p==="sap-external-url");});return e;};this._isHiddenInbound=function(I){return!!I.hideLauncher;};this._toHashFromInbound=function(I){var s=U.toHashFromInbound(I);if(!s){return undefined;}return"#"+s;};this._getExternalUrlFromInbound=function(I){return jQuery.sap.getObject("signature.parameters.sap-external-url.launcherValue.value",undefined,I)||null;};this._toHashFromOutbound=function(O){var s=U.toHashFromOutbound(O);if(!s){return undefined;}return"#"+s;};this._isCustomTile=function(e){if(u.getMember(e,"sap|flp.type")==="tile"){return true;}return false;};this.getCatalogTiles=function(e){var s=this,v=new jQuery.Deferred();if(typeof e!=="object"||e===null){return v.reject("Invalid input parameter '"+e+"' passed to getCatalogTiles.").promise();}if(e.contentProviderId&&this._mContentProviders[e.contentProviderId]){this._mContentProviders[e.contentProviderId].sitePromise.then(function(w){c.call(s,e,w).done(v.resolve).fail(v.reject);},function(E){v.reject("Failed to get site: "+E);});}else{sap.ushell.Container.getService("CommonDataModel").getSite().done(function(w){c.call(s,e,w).done(v.resolve).fail(v.reject);}).fail(function(E){v.reject("Failed to get site: "+E);});}return v.promise();};this.isCustomTile=function(s){return!(s===S||s===D);};function c(e,s){var v=this,w=new jQuery.Deferred();setTimeout(function(){var x=((e.payload&&e.payload.viz)||[]).reduce(function(y,V){var z,B,E,F,G,I,H,J,N,O,T,K,P,Q,W,X,Y;if(!V){return y;}B=o.get(s,V);if(!B){return y;}E=o.getTypeId(B);F=o.getType(s,E);z=o.getAppId(B);if(z){G=o.getAppDescriptor(s,z);if(!G){return y;}I=r.getInbound(G,o.getTarget(B).inboundId);if(!I){return y;}if(!v._isStartableInbound(I.inbound)||v._isHiddenInbound(I.inbound)){return y;}J=U.mapOne(I.key,I.inbound,G,B,F,s);if(!J||!J.tileResolutionResult){return y;}Q=J.resolutionResult.applicationType;W=J.resolutionResult.additionalInformation;Y=C.last("/core/navigation/enableInPlaceForClassicUIs");X=Y?Y[Q]:false;N=n.computeNavigationModeForHomepageTiles(Q,W,X);O=o.getOutbound(B,I.inbound);H=v._toHashFromOutbound(O);}else{var Z=o.getConfig(B);if(Z===undefined){return y;}J=U.mapOne(undefined,undefined,undefined,B,F,s);if(u.getMember(Z,"sap|flp.target.type")==="URL"){P=u.getMember(Z,"sap|flp.target.url");}}T=J.tileResolutionResult;T.navigationMode=N;if(e.contentProviderId){P=v._getMember(G,"sap|app.crossNavigation.inbounds.Shell-launchURL.signature.parameters.sap-external-url.launcherValue.value");}K={id:V,vizId:V,tileIntent:P||H,tileResolutionResult:T,isCatalogTile:true};if(e.contentProviderId&&P){K.contentProviderId=e.contentProviderId;K.externalUrl=P;}y.push(K);return y;},[]);w.resolve(x);},0);return w.promise();}this.getCatalogError=function(e){if(e.error){return e.error;}return undefined;};this.getCatalogId=function(e){return R.getId(e);};this.getCatalogTitle=function(e){return R.getTitle(e);};this._isFailedCatalogTile=function(T){return!!(T&&this._mFailedResolvedCatalogTiles&&this._mFailedResolvedCatalogTiles[r.getTileId(T)]);};this.getCatalogTileTitle=function(G){if(this._isGroupTile(G)){if(this._isFailedGroupTile(G)){return"";}return this._mResolvedTiles[G.id].tileResolutionResult.title;}if(this._isCatalogTile(G)){if(this._isFailedCatalogTile(G)){return undefined;}return G.tileResolutionResult.title;}return undefined;};this.getCatalogTileSize=function(e){return this.getTileSize(e);};this.getCatalogTileView=function(e){return this._getCatalogTileView(e);};this.getCatalogTileViewControl=function(e){return this._getCatalogTileViewControl(e);};this.getCatalogTilePreviewTitle=function(G){if(this._isGroupTile(G)){return this.getTileTitle(G);}return(G.tileResolutionResult&&G.tileResolutionResult.title)||"";};this.getCatalogTilePreviewSubtitle=function(G){if(this._isGroupTile(G)){return this.getTileSubtitle(G);}return(G.tileResolutionResult&&G.tileResolutionResult.subTitle)||"";};this.getCatalogTilePreviewIcon=function(G){if(this._isGroupTile(G)){return this.getTileIcon(G);}return(G.tileResolutionResult&&G.tileResolutionResult.icon)||"";};this.getCatalogTilePreviewInfo=function(G){if(this._isGroupTile(G)){return this.getTileInfo(G);}return(G.tileResolutionResult&&G.tileResolutionResult.info)||"";};this.getCatalogTileKeywords=function(G){var K=[],e=G;if(!e){jQuery.sap.log.error("Could not find the Tile","sap.ushell.adapters.cdm.LaunchPageAdapter");return K;}if(this._mResolvedTiles&&this._mResolvedTiles[G.id]){e=this._mResolvedTiles[G.id];}if(e&&e.tileResolutionResult&&e.tileResolutionResult.title){K.push(e.tileResolutionResult.title);}if(e&&e.tileResolutionResult&&e.tileResolutionResult.subTitle){K.push(e.tileResolutionResult.subTitle);}return K;};this._visitBookmarks=function(s,v){var e=sap.ushell.Container;var w=e.getService("URLParsing");var x=e.getService("CommonDataModel");var y;var I=w.parseShellHash(s);if(I){y=l(I);}else{y=k(s);}return x.getSite().then(function(z){var G=z.groups;var T=Object.keys(G).filter(function(K){return!G[K].payload.locked;}).map(function(K){return G[K].payload.tiles.filter(function(B){return B.isBookmark&&i(y,B.target);});}).reduce(function(B,E){Array.prototype.push.apply(B,E);return B;},[]);if(!v){return T.length;}return jQuery.when(T.map(v)).then(function(){return T.length;});});};this.addBookmark=function(P,G){var e=this;return new jQuery.Deferred(function(s){var v=sap.ushell.Container;var w=v.getService("URLParsing");var x=v.getService("CommonDataModel");jQuery.when(G||e.getDefaultGroup(),x.getSite()).done(function(G,y){var T,z,I=w.parseShellHash(P.url),B,E=false;if(!I){z=k(P.url);E=true;}else{z=l(I);}T=d(P,z);if(E){B=new jQuery.Deferred();B.resolve(e._getTileForUrl(T));}else{B=e._getTileFromHash(P.url);}B.done(function(N){N.isLink=false;e._mResolvedTiles[T.id]=N;y.groups[G.identification.id].payload.tiles.push(T);x.save().done(function(){s.resolve(T);}).fail(function(F){s.reject(F);});}).fail(function(F){s.reject("Bookmark creation failed because: "+F);});}).fail(function(y){s.reject(y);});}).promise();};this.countBookmarks=function(s){return this._visitBookmarks(s);};this.updateBookmarks=function(s,P){var e=sap.ushell.Container;var v=e.getService("URLParsing");var w=e.getService("CommonDataModel");var x=this._mResolvedTiles;function y(T){return new jQuery.Deferred(function(z){var I,N;var B;var E=false;var F={};if(P.url||P.url===""){I=v.parseShellHash(P.url);if(!I){N=k(P.url);}else{N=l(I);}}if(T.icon!==P.icon){F.icon=P.icon;E=true;}if(T.title!==P.title){F.title=P.title;E=true;}if(T.subTitle!==P.subtitle){F.subtitle=P.subtitle;E=true;}if(P.url&&s!==P.url){F.targetURL=P.url;E=true;}if(T.info!==P.info){F.info=P.info;E=true;}h(T,P,N);if(E&&x[T.id]){B=x[T.id].tileComponent;if(B){B.tileSetVisualProperties(F);}}z.resolve(T);}).promise();}return this._visitBookmarks(s,y).then(function(z){return w.save().then(function(){return z;});});};this.deleteBookmarks=function(s){var e=sap.ushell.Container;var v=e.getService("URLParsing");var w=e.getService("CommonDataModel");var I=v.parseShellHash(s);var x;if(I){x=l(I);}else{x=k(s);}return w.getSite().then(function(y){var G=y.groups;var z=Object.keys(G).map(function(K){var P=G[K].payload;var B=0;P.tiles=P.tiles.filter(function(T){if(T.isBookmark&&i(x,T.target)){++B;return false;}return true;});return B;}).reduce(function(B,E){B+=E;return B;},0);return w.save().then(function(){return z;});});};this.onCatalogTileAdded=function(T){};this._onTileSettingsSave=function(T,s){var e=new jQuery.Deferred(),v,w,N,x,y,O,z,B;if(T&&T.id&&s){N=s.oTitleInput.getValue();y=s.oSubTitleInput.getValue();x=s.oInfoInput.getValue();O=this.getTileTitle(T);z=this.getTileInfo(T);B=this.getTileSubtitle(T);if(O===N&&B===y&&z===x){return undefined;}v=sap.ushell.Container.getService("CommonDataModel");var E=this;v.getSite().done(function(F){if(!F.modifiedTiles){F.modifiedTiles={};}if(!F.modifiedTiles[T.id]){F.modifiedTiles[T.id]={id:T.id};}w={};if(O!==N){w.title=N;F.modifiedTiles[T.id].title=N;T.title=N;}if(B!==y){w.subtitle=y;F.modifiedTiles[T.id].subTitle=y;T.subTitle=y;}if(z!==x){w.info=x;F.modifiedTiles[T.id].info=x;T.info=x;}if(E._mResolvedTiles[T.id].tileComponent){E._mResolvedTiles[T.id].tileComponent.tileSetVisualProperties(w);}else if(E._mResolvedTiles[T.id].linkTileControl){if(w.title){E._mResolvedTiles[T.id].linkTileControl.setHeader(w.title);}if(w.subtitle){E._mResolvedTiles[T.id].linkTileControl.setSubheader(w.subtitle);}if((w.title)||(w.subtitle)){E._mResolvedTiles[T.id].linkTileControl.rerender();}}v.save().fail(function(G){jQuery.sap.log.error(G);e.reject("Could not save personalization changes: "+G);}).done(function(){e.resolve();});}).fail(function(F){jQuery.sap.log.error(F);e.reject("Cannot get site: "+F);});}return e.promise();};this.getTileActions=function(T){var e=[],s,v;if(this._isGroupTile(T)&&!this._isFailedGroupTile(T)){v=new sap.ui.model.json.JSONModel({config:{"display_title_text":this.getTileTitle(T),"display_subtitle_text":this.getTileSubtitle(T),"display_info_text":this.getTileInfo(T)}});s=sap.ushell.components.tiles.utilsRT.getTileSettingsAction(v,this._onTileSettingsSave.bind(this,T),this.getTileType(T));e.push(s);}return e;};function d(P,T){var e=f(P,T);e.isBookmark=true;return e;}function f(P,T){var e={id:u.generateUniqueId([])};h(e,P,T);return e;}function h(T,P,e){P=jQuery.extend(true,{},P);if(e){T.target=e;}if(P.title||P.title===""){T.title=P.title;}if(P.icon||P.icon===""){T.icon=P.icon;}if(P.subtitle||P.subtitle===""){T.subTitle=P.subtitle;}if(P.info||P.info===""){T.info=P.info;}if(P.dataSource){T.dataSource={};jQuery.extend(true,T.dataSource,P.dataSource);delete P.serviceUrl;}else if(P.dataSource===null){delete T.dataSource;delete T.indicatorDataSource;delete P.serviceUrl;}if((P.dataSource||T.dataSource)&&P.serviceUrlPath){T.indicatorDataSource={path:P.serviceUrlPath};}if(P.serviceUrl||P.serviceUrl===""){if(T.dataSource){jQuery.sap.log.warning("`serviceUrl` is marked for deprecation in the future."+"It is not the preferred means for defining a dynamic "+"tile's data source. Please use `oParameter.dataSource`");delete T.dataSource;}T.indicatorDataSource={path:P.serviceUrl};}else if(P.serviceUrl===null&&!T.dataSource){delete T.indicatorDataSource;}if(P.serviceRefreshInterval||P.serviceRefreshInterval===0){T.indicatorDataSource.refresh=P.serviceRefreshInterval;}}function i(T,O){if(T&&O){if(T.url){return T.url===O.url;}return T.semanticObject===O.semanticObject&&T.action===O.action&&j(T.parameters,O.parameters);}return T===O;}function j(P,O){var F,s;P=P||[];O=O||[];if(P.length===O.length){F=t(P);s=t(O);return F===s;}return false;}function t(e){return e.map(function(P){return P.name+P.value;}).sort().join();}function k(s){return{url:s};}function l(I){var T={semanticObject:I.semanticObject,action:I.action,parameters:q(I.params)};if(I.appSpecificRoute){T.appSpecificRoute=I.appSpecificRoute;}return T;}function q(I){return Object.keys(I).map(function(K){var v=I[K]&&I[K][0];return{name:K,value:v||""};});}this._getSiteData=function(){return sap.ushell.Container.getService("CommonDataModel").getSite();};this._addDefaultGroup=function(G,s){var e=r.getDefaultGroup(G);if(!e){e=m.createDefaultGroup(u.generateUniqueId(r.getGroupIdsFromSite(s)));s=m.addGroupToSite(s,e,0);G=r.getGroupsArrayFromSite(s);}this._oDefaultGroup=e;return G;};}L.prototype=Object.create(A.prototype);return L;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/v3/_LaunchPage/readCatalogs',[],function(){"use strict";function g(c){return c.identification.id;}function a(c){return c.identification.title;}return{getId:g,getTitle:a};},true);
sap.ui.predefine('sap/ushell/adapters/cdm/v3/_LaunchPage/readHome',["sap/ushell/utils/type"],function(t){"use strict";function g(S){var L=[];S.site.payload.groupsOrder.forEach(function(G,I){var z=S.groups[G];if(z){z.payload=z.payload||{};L.push(z);}});return L;}function a(S){return S.groups;}function b(S){return S.site.payload.groupsOrder;}function c(S,G){return S.groups[G];}function d(G){var D=G.filter(function(z){return z.payload.hasOwnProperty("isDefaultGroup");});if(D.length>0){return D[0];}return undefined;}function e(G){return G.identification&&G.identification.id;}function f(G){return G.identification.title;}function i(G){if(!G.payload.hasOwnProperty("isPreset")){return true;}return!!G.payload.isPreset;}function h(G){return!!G.payload.locked;}function j(G){return!!(G.identification.isVisible===undefined||G.identification.isVisible===true);}function k(G){if(G.payload.tiles&&t.isArray(G.payload.tiles)&&G.payload.tiles.length>0){return G.payload.tiles;}else{return[];}}function l(G){if(G.payload.links&&t.isArray(G.payload.links)&&G.payload.links.length>0){return G.payload.links;}else{return[];}}function m(T){return T.id;}function n(R,T){var z;if(T&&T.isBookmark){return T.title;}z=R[T.id];if(z){return T.title||z.tileResolutionResult.title;}else{return undefined;}}function o(R,T){var z;if(T.isBookmark){return T.subTitle;}z=R[T.id];if(z){return T.subTitle||z.tileResolutionResult.subTitle;}else{return undefined;}}function p(R,T){var z;if(T.isBookmark){return T.info;}z=R[T.id];return T.info||z.tileResolutionResult.info;}function q(R,T){var z;if(T.isBookmark){return T.icon;}z=R[T.id];if(z){return T.icon||z.tileResolutionResult.icon;}else{return undefined;}}function r(R,T){var z;if(T.isBookmark){return T.icon;}z=R[T.id];if(z){return T.icon||z.tileResolutionResult.icon;}else{return undefined;}}function s(R,T){var z=R[T.id];if(z&&z.tileResolutionResult&&z.tileResolutionResult.size){return z.tileResolutionResult.size;}}function u(R,T){var z=R[T.id];if(z){return!!z.isLink;}return false;}function v(R,I){var z=R[I.id];if(z){return!!z.tileResolutionResult.isCard;}return false;}function w(T){return!!(T&&T.id&&!T.isCatalogTile);}function x(A,F){return A.deviceTypes&&A.deviceTypes[F];}function y(A,I){var z=A["sap.app"].crossNavigation.inbounds[I];return z?{key:I,inbound:z}:undefined;}return{getGroupsArrayFromSite:g,getGroupsMapFromSite:a,getGroupIdsFromSite:b,getGroupFromSite:c,getDefaultGroup:d,getGroupId:e,getGroupTitle:f,isGroupPreset:i,isGroupLocked:h,isGroupVisible:j,getGroupTiles:k,getGroupLinks:l,getTileId:m,getTileTitle:n,getTileSubtitle:o,getTileInfo:p,getTileIcon:q,getTileIndicatorDataSource:r,getTileSize:s,isLink:u,isCard:v,isGroupTile:w,supportsFormFactor:x,getInbound:y};},true);
sap.ui.predefine('sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations',["sap/ushell/utils/type"],function(t){"use strict";function g(S){return S.visualizations;}function a(S,I){return S.visualizations[I];}function b(S){return S.vizTypes;}function c(S,I){return S.vizTypes[I];}function d(v){return v.vizType;}function e(v){var C;C=v["vizConfig"];return C;}function f(v){return(h(v)||{}).appId;}function h(v){return(((e(v)||{})["sap.flp"])||{}).target;}function i(v,I){var o;o={semanticObject:I.semanticObject,action:I.action,parameters:h(v).parameters||{}};o.parameters["sap-ui-app-id-hint"]={value:{format:"plain",value:f(v)}};return o;}function s(v){return(h(v)||{}).type==="URL";}function j(S,I){return S.applications&&S.applications[I];}return{getMap:g,get:a,getTypeMap:b,getType:c,getTypeId:d,getConfig:e,getAppId:f,getTarget:h,getOutbound:i,startsExternalUrl:s,getAppDescriptor:j};},true);
sap.ui.predefine('sap/ushell/adapters/cdm/v3/utilsCdm',["sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(u,R){"use strict";function g(o,A){return u.getMember(o,A);}function a(o,A,D){return u.getNestedObjectProperty(o,A,D);}function m(k,s,A,v,V,S){var i=false;s=u.clone(s);A=u.clone(A);v=v||{};V=V||{};var I={};I.semanticObject=g(s,"semanticObject");I.action=g(s,"action");var o=R.getConfig(v);I.title=a([o,s,A],["sap|app.title","title","sap|app.title"]);I.info=a([o,s,A],["sap|app.info","info","sap|app.info"]);I.icon=a([o,s,A],["sap|ui.icons.icon","icon","sap|ui.icons.icon"]);I.subTitle=a([o,s,A],["sap|app.subTitle","subTitle","sap|app.subTitle"]);I.shortTitle=a([o,s,A],["sap|app.shortTitle","shortTitle","sap|app.shortTitle"]);I.deviceTypes=g(A,"sap|ui.deviceTypes")||{};["desktop","tablet","phone"].forEach(function(M){if(Object.prototype.hasOwnProperty.call(g(s,"deviceTypes")||{},M)){I.deviceTypes[M]=s.deviceTypes[M];}if(!Object.prototype.hasOwnProperty.call(I.deviceTypes,M)){I.deviceTypes[M]=true;}I.deviceTypes[M]=!!I.deviceTypes[M];});I.signature=g(s,"signature")||{};I.signature.parameters=g(I,"signature.parameters")||{};I.signature.additionalParameters=g(s,"signature.additionalParameters")||"allowed";var e=g(A,"sap|platform|runtime");I.resolutionResult=jQuery.extend(true,{},e);if(e){I.resolutionResult["sap.platform.runtime"]=jQuery.extend(true,{},e);}if(g(A,"sap|ui.technology")==="GUI"){I.resolutionResult["sap.gui"]=g(A,"sap|gui");}if(g(A,"sap|ui.technology")==="WDA"){I.resolutionResult["sap.wda"]=g(A,"sap|wda");}if(g(A,"sap|ui.technology")==="URL"){if(A["sap.url"]){I.resolutionResult["sap.platform.runtime"]=I.resolutionResult["sap.platform.runtime"]||{};I.resolutionResult.url=A["sap.url"].uri;I.resolutionResult["sap.platform.runtime"].url=A["sap.url"].uri;}else if(e&&e.uri){I.resolutionResult["sap.platform.runtime"].url=e.uri;I.resolutionResult.url=e.uri;}}if(!I.resolutionResult["sap.ui"]){I.resolutionResult["sap.ui"]={};}I.resolutionResult["sap.ui"].technology=g(A,"sap|ui.technology");I.resolutionResult.applicationType=this._formatApplicationType(I.resolutionResult,A);I.resolutionResult.systemAlias=I.resolutionResult.systemAlias||g(s,"systemAlias");I.resolutionResult.systemAliasSemantics="apply";I.resolutionResult.text=I.title;I.resolutionResult.appId=g(A,"sap|app.id");var T,h;var j=g(v,"vizConfig.sap|flp.indicatorDataSource");var l={};if(!jQuery.isEmptyObject(V)){var n=g(V,"sap|app.type");if(n==="card"){i=true;l=jQuery.extend(true,{},V,v.vizConfig);}else{l.componentName=g(V,"sap|ui5.componentName");var C=g(V,"sap|platform|runtime.componentProperties");if(C){l.componentProperties=C;}if(g(V,"sap|platform|runtime.includeManifest")){l.componentProperties=l.componentProperties||{};l.componentProperties.manifest=jQuery.extend(true,{},V);delete l.componentProperties.manifest["sap.platform.runtime"];}}}if(g(A,"sap|app.type")==="plugin"||g(A,"sap|flp.type")==="plugin"){return undefined;}var p=a([o,A,V],"sap|flp.tileSize");var q=a([o,A,V],"sap|app.description");if(g(A,"sap|ui.technology")==="GUI"&&g(A,"sap|gui.transaction")){T=g(A,"sap|gui.transaction");}if(g(A,"sap|ui.technology")==="WDA"&&g(A,"sap|wda.applicationId")){T=g(A,"sap|wda.applicationId");}var D=a([o,A,V],"sap|app.dataSources");if(g(A,"sap|app.id")){h=g(A,"sap|app.id");}I.tileResolutionResult={appId:h,title:I.title,subTitle:I.subTitle,icon:I.icon,size:p,info:I.info,tileComponentLoadInfo:l,indicatorDataSource:j,dataSources:D,description:q,runtimeInformation:e,technicalInformation:T,deviceTypes:I.deviceTypes,isCard:i};var r=g(A,"sap|integration.urlTemplateId");var w=b(r,S);if(w){I.templateContext={payload:w,site:S,siteAppSection:A};}return I;}function b(T,s){if(!s||typeof T!=="string"){return null;}var e=T.replace(/[.]/g,"|");return g(s.urlTemplates,e+".payload");}function f(r,A){var s=r.applicationType;if(s){return s;}var C=g(A,"sap|platform|runtime.componentProperties.self.name")||g(A,"sap|ui5.componentName");if(g(A,"sap|flp.appType")==="UI5"||g(A,"sap|ui.technology")==="UI5"){r.applicationType="SAPUI5";r.additionalInformation="SAPUI5.Component="+C;r.url=g(A,"sap|platform|runtime.componentProperties.url");r.applicationDependencies=g(A,"sap|platform|runtime.componentProperties");return"SAPUI5";}if(g(A,"sap|ui.technology")==="GUI"){r.applicationType="TR";r["sap.gui"]=g(A,"sap|gui");r.systemAlias=g(A,"sap|app.destination.name");return"TR";}if(g(A,"sap|ui.technology")==="WDA"){r.applicationType="WDA";r["sap.wda"]=g(A,"sap|wda");r.systemAlias=g(A,"sap|app.destination.name");return"WDA";}if(g(A,"sap|ui.technology")==="URL"){r.applicationType="URL";r.systemAlias=g(A,"sap|app.destination.name");}return"URL";}function c(s){var e=this;if(!s){return[];}var i=[];try{var S=Object.keys(s.applications||{}).sort();S.forEach(function(A){try{var o=s.applications[A];var h=g(o,"sap|app.crossNavigation.inbounds");if(h){var l=Object.keys(h).sort();l.forEach(function(I){var k=h[I];var r=e.mapOne(I,k,o,undefined,undefined,s);if(r){i.push(r);}});}}catch(j){jQuery.sap.log.error("Error in application "+A+": "+j,j.stack);}});}catch(E){jQuery.sap.log.error(E);jQuery.sap.log.error(E.stack);return[];}return i;}function t(i){var s,p,C;s={target:{semanticObject:i.semanticObject,action:i.action},params:{}};p=jQuery.sap.getObject("signature.parameters",undefined,i)||{};Object.keys(p).forEach(function(k){if(p[k].filter&&Object.prototype.hasOwnProperty.call(p[k].filter,"value")&&(p[k].filter.format===undefined||p[k].filter.format==="plain")){s.params[k]=[p[k].filter.value];}if(p[k].launcherValue&&Object.prototype.hasOwnProperty.call(p[k].launcherValue,"value")&&(p[k].launcherValue.format===undefined||p[k].launcherValue.format==="plain")){s.params[k]=[p[k].launcherValue.value];}});C=sap.ushell.Container.getService("URLParsing").constructShellHash(s);if(!C){return undefined;}return C;}function d(o){var s,p,C;s={target:{semanticObject:o.semanticObject,action:o.action},params:{}};p=o.parameters||{};Object.keys(p).forEach(function(k){if(p.hasOwnProperty(k)&&typeof p[k].value==="object"){s.params[k]=[p[k].value.value];}});C=sap.ushell.Container.getService("URLParsing").constructShellHash(s);if(!C){return undefined;}return C;}return{formatSite:c,toHashFromInbound:t,toHashFromOutbound:d,mapOne:m,_formatApplicationType:f};},true);
sap.ui.predefine('sap/ushell/adapters/local/NavTargetResolutionAdapter',["sap/ui/thirdparty/datajs","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds"],function(d,v){"use strict";var N=function(u,p,a){var A=jQuery.sap.getObject("config.applications",0,a);var V=v.getInbounds();b(V,A);function b(V,A){V.forEach(function(i){var I=i.semanticObject+"-"+i.action;A[I]=i.resolutionResult;});}this.resolveHashFragment=function(h){var D=new jQuery.Deferred(),i,r,R,P;if(h&&h.charAt(0)!=="#"){throw new sap.ushell.utils.Error("Hash fragment expected","sap.ushell.renderers.minimal.Shell");}h=h.substring(1);if(!h&&!A[h]){D.resolve(undefined);}else{jQuery.sap.log.info("Hash Fragment: "+h);i=h.indexOf("?");if(i>=0){P=h.slice(i+1);h=h.slice(0,i);}r=A[h];if(r){R={additionalInformation:r.additionalInformation,applicationType:r.applicationType,url:r.url,text:r.text,fullWidth:r.fullWidth};if(P){R.url+=(R.url.indexOf("?")<0)?"?":"&";R.url+=P;}if(r.navigationMode!==undefined){R.navigationMode=r.navigationMode;}D.resolve(R);}else{D.reject("Could not resolve link '"+h+"'");}}return D.promise();};this.getSemanticObjectLinks=function(s,P){var I,r=[],i=0,D=new jQuery.Deferred(),c;if(!s){setTimeout(function(){D.resolve([]);},0);}else{c=sap.ushell.Container.getService("URLParsing").paramsToString(P);jQuery.sap.log.info("getSemanticObjectLinks: "+s);for(I in A){if(A.hasOwnProperty(I)&&I.substring(0,I.indexOf('-'))===s){r[i]=A[I];r[i].id=I;r[i].text=r[i].text||r[i].description||"no text";r[i].intent="#"+I;if(c!==""){if(r[i].intent.indexOf("?")!==-1){r[i].intent+="&"+c;}else{r[i].intent+="?"+c;}}i+=1;}}if(r){setTimeout(function(){D.resolve(r);},0);}else{setTimeout(function(){D.reject("Could not get links for  '"+s+"'");},0);}}return D.promise();};this.isIntentSupported=function(I){var D=new jQuery.Deferred(),s={},c=[],t=this;function e(i,S){s[i]={supported:S};}I.forEach(function(f,i){var o=new jQuery.Deferred();c.push(o.promise());t.resolveHashFragment(f).fail(function(E){e(f,false);o.resolve();}).done(function(g){e(f,true);o.resolve();});});if(I.length>0){jQuery.when.apply(jQuery,c).always(function(){D.resolve(s);});}else{D.resolve(s);}return D.promise();};};return N;},true);
sap.ui.predefine('sap/ushell/adapters/local/UserDefaultParameterPersistenceAdapter',['sap/ushell/services/Personalization'],function(P){"use strict";var U=function(s,p,c){this._oConfig=c&&c.config;};U.prototype._getPersonalizationService=function(){return sap.ushell.Container.getService("Personalization");};U.prototype.saveParameterValue=function(p,v){var d=new jQuery.Deferred();if(!(typeof p==="string"&&p.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(p))){jQuery.sap.log.error("Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :\""+p+"\"");}this._getUDContainer().done(function(c){c.setItemValue(p,v);c.saveDeferred(50).done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.deleteParameter=function(p,v){var d=new jQuery.Deferred();if(!(typeof p==="string"&&p.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(p))){jQuery.sap.log.error("Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :\""+p+"\"");}this._getUDContainer().done(function(c){c.delItem(p);c.save().done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.loadParameterValue=function(p){var d=new jQuery.Deferred();this._getUDContainer().done(function(c){var v=c.getItemValue(p);if(v){d.resolve(v);}else{d.reject("no value ");}}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.getStoredParameterNames=function(){var d=new jQuery.Deferred();this._getUDContainer().done(function(c){var v=c.getItemKeys();d.resolve(v);}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype._getUDContainer=function(){var p=this._getPersonalizationService();if(this._oPromise){return this._oPromise;}this._oPromise=p.getContainer("sap.ushell.UserDefaultParameter",{keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true});return this._oPromise;};return U;},true);
sap.ui.predefine('sap/ushell/adapters/local/UserInfoAdapter',["jquery.sap.global","sap/ushell/services/Container","sap/ushell/services/Personalization"],function(q,C,P){"use strict";var U=function(u,p,a){var o;function g(A){var d=[{id:"sap_belize",name:"SAP Belize"}],e=q.sap.getObject("config.themes",undefined,A);return e===undefined?d:e;}this.updateUserPreferences=function(b){var d=new q.Deferred();function l(e){var E="Failed to update user preferences: "+(e&&e.message?e.message:e);q.sap.log.error(E,e&&e.stack,"com.sap.ushell.adapters.local.UserInfo");}sap.ushell.Container.getServiceAsync("Personalization").then(function(c){var s={keyCategory:c.constants.keyCategory.FIXED_KEY,writeFrequency:c.constants.writeFrequency.LOW,clientStorageAllowed:true};function e(f,b){var h=b.getChangedProperties()||[];h.forEach(function(i){f.setItemValue(i.propertyName,i.newValue);});}c.getContainer("sap.ushell.UserProfile",s,undefined).done(function(f){e(f,b);f.save().fail(function(E){l(E);d.reject(E);}).done(function(){d.resolve();});}).fail(function(E){l(E);d.reject(E);});});return d.promise();};this.getThemeList=function(){var d=new q.Deferred();if(o===undefined){o=g(a);}if(o.length===0){d.reject("no themes were configured");}else{d.resolve({options:o});}return d.promise();};this.getLanguageList=function(){var d=new q.Deferred();d.resolve([{"text":"Browser Language","key":"default"},{"text":"en-US","key":"en-US"},{"text":"en-UK","key":"en-UK"},{"text":"en","key":"en"},{"text":"de-DE","key":"de-DE"},{"text":"he-IL","key":"he-IL"},{"text":"ru-RU","key":"ru-RU"},{"text":"ru","key":"ru"}]);return d.promise();};};return U;},true);
sap.ui.predefine('sap/ushell/bootstrap/SchedulingAgent',["sap/ushell/bootstrap/_SchedulingAgent/FLPScheduler","sap/ushell/bootstrap/_SchedulingAgent/EventProcessor","sap/ushell/bootstrap/_SchedulingAgent/FLPLoader","sap/ushell/bootstrap/_SchedulingAgent/logger","sap/ushell/bootstrap/_SchedulingAgent/state","sap/ushell/EventHub"],function(F,E,a,l,s,b){"use strict";var L={CONTINUE_ON_EVENT:"continueOnEvent",BY_EVENT:"byEvent",BY_COMPONENT_CREATE:"byComponentCreate",WAIT_IN_MS:"waitInMs"};var S={WAIT:"wait",ERROR:"error",DONE:"done",STEP:"step",BLOCKDONE:"blockDone",SKIPPED:"skip"};var c={oComponentsLoading:{},_initialize:function(){s.clear();l.clearHistory();s.setForModule(s.id.module.schedulingAgent.id,s.id.module.schedulingAgent.Initializing,"Scheduling Agent starting");var d=F.initializeSchedule();d.then(function(e){if(!e){s.setForModule(s.id.module.schedulingAgent.id,s.id.module.schedulingAgent.FatalError,"Configuration error!");return;}E.initializeStepDoneListener(this);s.setForModule(s.id.module.schedulingAgent.id,s.id.module.schedulingAgent.Initialized,"Scheduling Agent ready");this.eventReceived();}.bind(this));},_processStepConfiguration:function(d){var o={sStepType:"",oData:{},sStepName:"",bConfigOk:false};if(d.oConfig.loadingMode===L.CONTINUE_ON_EVENT){o.sStepType=L.CONTINUE_ON_EVENT;o.sStepName=d.oContent.LoadingStep;o.oData.eventName=d.oConfig.continueOnEvent&&d.oConfig.continueOnEvent.eventName;o.oData.stepName=d.oContent.LoadingStep;o.bConfigOk=!!(o.oData.eventName&&o.oData.stepName);}else if(d.oConfig.loadingMode===L.BY_EVENT){o.sStepType=L.BY_EVENT;o.sStepName=d.oContent.LoadingStep;o.oData.eventName=d.oConfig.byEvent&&d.oConfig.byEvent.eventName;o.oData.eventData={};o.oData.eventData.data=d.oConfig.byEvent.eventData;o.oData.eventData.stepName=d.oContent.LoadingStep;o.bConfigOk=!!(o.oData.eventName);}else if(d.oConfig.loadingMode===L.BY_COMPONENT_CREATE){o.sStepType=L.BY_COMPONENT_CREATE;o.sStepName=d.oContent.LoadingStep;o.oData=d.oConfig.byComponentCreate&&d.oConfig.byComponentCreate.ui5ComponentOptions||{};o.bConfigOk=!!o.oData;}else if(d.oConfig.loadingMode===L.WAIT_IN_MS){o.sStepType=L.WAIT_IN_MS;o.sStepName=d.oContent.LoadingStep;o.oData.iWaitingTime=d.oConfig.waitInMs&&d.oConfig.waitInMs.waitingTime;o.oData.sStepName=d.oContent.LoadingStep;o.bConfigOk=!!(o.oData.iWaitingTime&&o.oData.sStepName);}return o;},dumpState:function(){s.dump();},dumpHistory:function(){l.dumpHistory();},dumpSchedule:function(){F.dumpSchedule();},dumpAll:function(){l.dumpHistory();F.dumpSchedule();s.dump();},eventReceived:function(){s.setForModule(s.id.module.schedulingAgent.id,s.id.module.schedulingAgent.Working,"Agent is active");var n;do{n=F.getNextLoadingStep();if(n.sStatus===S.ERROR){s.setForModule(s.id.module.schedulingAgent.id,s.id.module.schedulingAgent.FatalError,"Fatal loading error. Loading aborted.");E.unregisterStepDoneListener();b.emit("FLPLoadingDone");return;}if(n.sStatus===S.DONE){s.setForModule(s.id.module.schedulingAgent.id,s.id.module.schedulingAgent.Done,"Loading finished");E.unregisterStepDoneListener();b.emit("FLPLoadingDone");return;}if(n.sStatus===S.BLOCKDONE){}if(n.sStatus===S.SKIPPED){}if(n.sStatus===S.STEP){var o=this._processStepConfiguration(n);if(!o.bConfigOk){s.setForLoadingStep(o.sStepName,s.id.loadingStep.Abort,"","Step configuration error");s.setForLoadingStep(o.sStepName,s.id.loadingStep.Skipped,"","Step configuration error");s.setForModule(s.id.module.schedulingAgent.id,s.id.module.schedulingAgent.FatalError,o,"Step configuration error!");}else if(o.sStepType===L.CONTINUE_ON_EVENT){E.listenToEvent(o.oData);s.setForLoadingStep(o.sStepName,s.id.loadingStep.InProgress,o.oData.eventName,"Step sent to Event Processor");}else if(o.sStepType===L.BY_EVENT){a.loadComponentByEvent(o.oData);s.setForLoadingStep(o.sStepName,s.id.loadingStep.InProgress,o.oData,"Step sent to FLP Loader");}else if(o.sStepType===L.WAIT_IN_MS){a.waitInMs(o.oData);s.setForLoadingStep(o.sStepName,s.id.loadingStep.InProgress,o.oData,"Step sent to FLP Loader");}else if(o.sStepType===L.BY_COMPONENT_CREATE){var p=a.loadComponentByComponentCreate(o.oData);this.oComponentsLoading[o.sStepName]=p;s.setForLoadingStep(o.sStepName,s.id.loadingStep.InProgress,o.oData,"Step sent to FLP Loader");p.then(function(){s.setForLoadingStep(o.sStepName,s.id.loadingStep.InProgress,"","Step's promise has resolved");delete this.oComponentsLoading[o.sStepName];b.emit("StepDone",o.sStepName);}.bind(this),function(){s.setForLoadingStep(o.sStepName,s.id.loadingStep.FatalError,"","Step's promise failed");delete this.oComponentsLoading[o.sStepName];b.emit("StepFailed",o.sStepName);}.bind(this));}}}while(n.sStatus!==S.WAIT);s.setForModule(s.id.module.schedulingAgent.id,s.id.module.schedulingAgent.Waiting,"Agent waits");}};return c;},false);
sap.ui.predefine('sap/ushell/bootstrap/_SchedulingAgent/EventProcessor',["sap/ushell/bootstrap/_SchedulingAgent/state","sap/ushell/EventHub","sap/ushell/bootstrap/SchedulingAgent"],function(I,E,S){"use strict";var a={SchedulingAgent:{},aDoableObjects:[],initializeStepDoneListener:function(b){this.SchedulingAgent=b;this.aDoableObjects=[E.on("StepDone").do(function(s){I.setForLoadingStep(s,I.id.loadingStep.Done,"","Step event received");this.SchedulingAgent.eventReceived();}.bind(this)),E.on("StepFailed").do(function(s){I.setForLoadingStep(s,I.id.loadingStep.Skipped,"","Step event received");this.SchedulingAgent.eventReceived();}.bind(this))];},listenToEvent:function(e){E.once(e.eventName).do(function(){I.setForLoadingStep(e.stepName,I.id.loadingStep.Done,e.eventName,"Event received");this.SchedulingAgent.eventReceived();}.bind(this));},unregisterStepDoneListener:function(){this.aDoableObjects.forEach(function(d){d.off();});},setTimeOut:function(){}};return a;},false);
sap.ui.predefine('sap/ushell/bootstrap/_SchedulingAgent/FLPLoader',["sap/ushell/EventHub","sap/ui/core/Component"],function(E,C){"use strict";var F={loadComponentByEvent:function(c){E.emit(c.eventName,c.eventData);},loadComponentByComponentCreate:function(c){return C.create(c);},waitInMs:function(w){setTimeout(function(){E.emit("StepDone",w.sStepName);},w.iWaitingTime);},directLoading:function(){}};return F;},false);
sap.ui.predefine('sap/ushell/bootstrap/_SchedulingAgent/FLPScheduler',["sap/ushell/bootstrap/_SchedulingAgent/state","sap/base/util/LoaderExtensions","sap/base/Log","sap/ushell/Config"],function(s,L,a,C){"use strict";var S={Loaded:"loaded",Wait:"wait",Step:"step",Error:"error",BlockDone:"blockDone",Start:"start",Done:"done",Skipped:"skipped"};var b="sap/ushell/bootstrap/_SchedulingAgent/LoadingConfiguration.json";var c="sap/ushell/bootstrap/_SchedulingAgent/StepConfiguration.json";function g(){return C.last("/core/shell/model/currentState/stateName");}var F={oSchedule:{iBlockIndex:0,aBlocksLoading:[]},initializeSchedule:function(){var p=L.loadResource(c,{async:true});var d=L.loadResource(b,{async:true});var P=Promise.all([p,d]).then(function(v){var o=v[0];var l=v[1];var e=this._validateConfig(l,o);if(e){this.oSchedule.oBlocks=l.LoadingBlocks;this.oSchedule.oSteps=o;this.oSchedule.aBlockOrder=l.OrderOfLoadingBlocks;this.oSchedule.iBlockIndex=0;s.setForModule(s.id.module.flpScheduler.id,s.id.module.flpScheduler.Initialized,"Schedule validated");}else{s.setForModule(s.id.module.flpScheduler.id,s.id.module.flpScheduler.WrongConfiguration,"Configuration error");}return e;}.bind(this));return P;},getNextLoadingStep:function(){var o={sStatus:S.Start,oContent:{}};if(this.oSchedule.aBlocksLoading.length===0){var l=this._startLoadingBlock();if(l){o.sStatus=S.Done;return o;}}var A=true;var d=false;var e,f,h,j,k,m,I,n,p;for(var i=0;i<this.oSchedule.aBlocksLoading.length;i++){e=this.oSchedule.aBlocksLoading[i];f=this.oSchedule.oBlocks[e];h=f.iStepIndex;j=f.LoadingSteps[h];k=h===f.LoadingSteps.length-1;m=this._checkAndUpdateAsyncQueue(f);p=s.isStepLoaded(j.LoadingStep)||s.isStepSkipped(j.LoadingStep);n=s.isStepLoading(j.LoadingStep);A=m.bAllStepsDone&&p;d=m.bAStepIsLoading||n;if((n&&!j.canBeLoadedAsync)||(d&&k)){o.sStatus=S.Wait;continue;}if(!k||!p&&!n){if(p||(j.canBeLoadedAsync&&n)){h+=1;}o=this._prepareStepForLoading(f,e,h);}if(A&&k){I=this.oSchedule.aBlocksLoading.indexOf(e);this.oSchedule.aBlocksLoading.splice(I,1);o.sStatus=S.BlockDone;this.oSchedule.iBlockIndex+=1;s.setForLoadingBlock(e,s.id.loadingBlock.Done,"","Block removed from loading queue");}if(o.sStatus!==S.wait){break;}}return o;},dumpSchedule:function(){a.debug(JSON.stringify(this.oSchedule));},_loadingIsEnabled:function(d){var e;if(Array.isArray(d.oConfig.excludedFLPStates)){if(d.oConfig.excludedFLPStates.indexOf(g())>-1){return false;}}if(Array.isArray(d.oConfig.mandatoryFLPStates)&&d.oConfig.mandatoryFLPStates.length!==0){if(d.oConfig.mandatoryFLPStates.indexOf(g())===-1){return false;}}function f(o){return o.path&&C.last(o.path)!==o.assertionValue;}if(d.oConfig.configSwitch){e=[].concat(d.oConfig.configSwitch);if(e.some(f)){return false;}}return true;},_checkAndUpdateAsyncQueue:function(d){var t=[];var e,f,h;var A=true;var j=false;for(var i=0;i<d.aAsyncStepsLoading.length;i++){h=d.aAsyncStepsLoading[i];e=s.isStepLoaded(h)||s.isStepSkipped(h);f=s.isStepLoading(h);if(f){t.push(h);}A=A&&e;j=j||f;}d.aAsyncStepsLoading=t;return{bAllStepsDone:A,bAStepIsLoading:j};},_startLoadingBlock:function(){var l=false;if(this.oSchedule.iBlockIndex<this.oSchedule.aBlockOrder.length){var n=this.oSchedule.aBlockOrder[this.oSchedule.iBlockIndex];this.oSchedule.aBlocksLoading.push(n);this.oSchedule.oBlocks[n].iStepIndex=0;this.oSchedule.oBlocks[n].aAsyncStepsLoading=[];s.setForLoadingBlock(n,s.id.loadingBlock.Prepared,"","Block added to the loading queue.");}else{l=true;}return l;},_prepareStepForLoading:function(d,e,f){var h;var o={sStatus:S.Step,oContent:d.LoadingSteps[f],oConfig:this.oSchedule.oSteps[d.LoadingSteps[f].LoadingStep]};if(!this._loadingIsEnabled(o)){o.sStatus=S.Skipped;d.iStepIndex=f;s.setForLoadingStep(o.oContent.LoadingStep,s.id.loadingStep.Skipped,"","Step set to skipped");return o;}var D=this._checkDependencies(o,e);if(D.bMissing){o.sStatus=S.Error;}else if(D.bAllLoaded){s.setForLoadingStep(o.oContent.LoadingStep,s.id.loadingStep.Prepared,"","Step prepared for control unit");h=o.oContent.canBeLoadedAsync;d.iStepIndex=f;if(h){s.setForLoadingStep(o.oContent.LoadingStep,s.id.loadingStep.Prepared,"","Step set on the async loading queue");d.aAsyncStepsLoading.push(o.oContent.LoadingStep);}}else{o.sStatus=S.Wait;s.setForLoadingStep(o.oContent.LoadingStep,s.id.loadingStep.WaitingForDependencies,"","Step missing dependencies");}return o;},_checkDependencies:function(d,e){var D={bAllLoaded:true,bMissing:false};if(d.oConfig.Dependencies){for(var i=0;i<d.oConfig.Dependencies.length;i++){D.bAllLoaded=D.bAllLoaded&&s.isStepLoaded(d.oConfig.Dependencies[i]);if(!s.isStepLoaded(d.oConfig.Dependencies[i])&&!s.isStepLoading(d.oConfig.Dependencies[i])){s.setForLoadingStep(d.oContent.LoadingStep,s.id.loadingStep.Aborted,d.oConfig.Dependencies[i],"Missing a dependency");s.setForLoadingBlock(e,s.id.loadingBlock.Aborted,d.oConfig.Dependencies[i],"A step is missing a dependency");s.setForModule(s.id.module.flpScheduler.id,s.id.module.flpScheduler.LoadingAborted,"Dependencies can not be resolved: a dependency isn't loading before it is required.");D.bMissing=true;D.bAllLoaded=false;break;}}}return D;},_validateConfig:function(l,d){var e=l&&l.OrderOfLoadingBlocks&&l.LoadingBlocks&&l.OrderOfLoadingBlocks.length&&d;if(!e){return false;}var B=l.OrderOfLoadingBlocks.reduce(function(f,h){f=f&&l.LoadingBlocks[h];if(f){var o=l.LoadingBlocks[h];var i=true;if(o.LoadingSteps){var k;for(var j=0;j<o.LoadingSteps.length;j++){k=o.LoadingSteps[j].LoadingStep;i=i&&d[k];}}f=f&&i;}return!!f;},true);return B;}};return F;},false);
sap.ui.predefine('sap/ushell/bootstrap/_SchedulingAgent/logger',["sap/base/Log"],function(B){"use strict";var h=[];var v=true;var c="FLPScheduler";var l={getHistory:function(){return h;},verboseOn:function(){v=true;return(v===true);},verboseOff:function(){v=false;return(v===false);},isVerboseOn:function(){return(v===true);},clearHistory:function(){h.length=0;},dumpHistory:function(i){var _=i===undefined?h:h.filter(function(e){return e.id===i;});console.table(_);return _;},logError:function(t){B.error(this.stateToString(t),undefined,c);h.push(t);return true;},logWarning:function(t){if(v){B.warning(this.stateToString(t),c);h.push(t);}return v;},logStatus:function(t){if(v){B.info(this.stateToString(t),c);h.push(t);}return v;},stateToString:function(s){return"FLP Bootstrap Scheduling Agent :: "+s.type+" '"+s.id+"' /"+s.status+((s.remark)?"/ : "+s.remark:"/");}};return l;},false);
sap.ui.predefine('sap/ushell/bootstrap/_SchedulingAgent/state',["sap/ushell/bootstrap/_SchedulingAgent/logger","sap/base/util/now","sap/base/util/deepClone"],function(l,n,c){"use strict";var i={module:{schedulingAgent:{id:"schedulingAgent",FatalError:"FATAL_ERROR",Idle:"IDLE",Initialized:"INITIALIZED",Initializing:"INITIALIZING",Waiting:"WAITING",WokeUp:"WOKE_UP",Working:"WORKING"},state:{id:"state",FatalError:"FATAL_ERROR",Available:"AVAILABLE"},flpScheduler:{id:"flpScheduler",Initialized:"INITIALIZED",WrongConfiguration:"WRONG_CONFIGURATION",LoadingAborted:"LOADING_ABORTED"},flpLoader:{id:"flpLoader"},logger:{id:l,Block:"BLOCK",Step:"STEP",Module:"MODULE"}},loadingStep:{Prepared:"STEP_PREPARED",WaitingForDependencies:"STEP_WAITING_FOR_DEPENDENCIES",InProgress:"STEP_IN_PROGRESS",Done:"STEP_DONE",Aborted:"STEP_ABORTED",Skipped:"STEP_SKIPPED"},loadingBlock:{Prepared:"BLOCK_PREPARED",WaitingForDependencies:"BLOCK_WAITING_FOR_DEPENDENCIES",InProgress:"BLOCK_IN_PROGRESS",TimedOut:"BLOCK_TIMEDOUT",Done:"BLOCK_DONE",Aborted:"BLOCK_ABORTED"}};var s={id:i,oState:{ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}},clear:function(){this.oState={ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}};},getIdBase:function(){return i;},setForLoadingBlock:function(a,b,p,r,d){this.oState.ofLoadingBlock[a]={time:n(),status:b,parameter:p,remark:r,byModule:d};l.logStatus({time:this.oState.ofLoadingBlock[a].time,type:i.module.logger.Block,id:a,status:b,parameter:p,remark:r,byModule:d});},getForLoadingBlock:function(a){return this.oState.ofLoadingBlock[a];},setForLoadingStep:function(a,b,p,r,d){this.oState.ofLoadingStep[a]={time:n(),status:b,parameter:p,remark:r,byModule:d};l.logStatus({time:this.oState.ofLoadingStep[a].time,type:i.module.logger.Step,id:a,status:b,parameter:p,remark:r,byModule:d});},getForLoadingStep:function(a){return this.oState.ofLoadingStep[a];},setForModule:function(a,b,r){this.oState.ofModule[a]={time:n(),status:b,remark:r,byModule:undefined};l.logStatus({time:this.oState.ofModule[a].time,type:i.module.logger.Module,id:a,status:b,parameter:undefined,remark:r,byModule:undefined});},getForModule:function(a){return this.oState.ofModule[a];},isBlockWaitingForDependencies:function(a){var S=this.getForLoadingBlock(a);return!!(S&&S.status===i.loadingBlock.WaitingForDependencies);},isBlockLoading:function(a){var S=this.getForLoadingBlock(a);return!!(S&&S.status===i.loadingBlock.InProgress);},isBlockLoaded:function(a){var S=this.getForLoadingBlock(a);return!!(S&&S.status===i.loadingBlock.Done);},isBlockLoadingAborted:function(a){var S=this.getForLoadingBlock(a);return!!(S&&S.status===i.loadingBlock.Aborted);},hasBlockLoadingTimedOut:function(a){var S=this.getForLoadingBlock(a);return!!(S&&S.status===i.loadingBlock.TimedOut);},isStepWaitingForDependencies:function(a){var S=this.getForLoadingStep(a);return!!(S&&S.status===i.loadingStep.WaitingForDependencies);},isStepLoading:function(a){var S=this.getForLoadingStep(a);return!!(S&&S.status===i.loadingStep.InProgress);},isStepLoaded:function(a){var S=this.getForLoadingStep(a);return!!(S&&S.status===i.loadingStep.Done);},isStepLoadingAborted:function(a){var S=this.getForLoadingStep(a);return!!(S&&S.status===i.loadingStep.Sborted);},isStepSkipped:function(a){var S=this.getForLoadingStep(a);return!!(S&&S.status===i.loadingStep.Skipped);},isAgentIdle:function(){var S=this.getForModule(i.module.schedulingAgent.id);return!!(S&&S.status===i.module.schedulingAgent.Idle);},isAgentWaiting:function(){var S=this.getForModule(i.module.schedulingAgent.id);return!!(S&&S.status===i.module.schedulingAgent.Waiting);},agentWokeUp:function(){var S=this.getForModule(i.module.schedulingAgent.id);return!!(S&&S.status===i.module.schedulingAgent.WokeUp);},dump:function(){console.log(JSON.parse(JSON.stringify(this.oState)));var S=c(this.oState);return S;},iStartingTime:n()};s.setForModule(i.module.state.id,i.module.state.Available);return s;},false);
sap.ui.predefine('sap/ushell/bootstrap/common/common.create.configcontract.core',["sap/ui/thirdparty/URI"],function(U){"use strict";function c(m){var g={};function a(M,p){var P=p.split("/");var s=P.slice(0,P.length-1).join("/");var l=P.pop();if(M.hasOwnProperty(s)){return M[s][l];}var d=P.reduce(function(o,f){if(!o||!o.hasOwnProperty(f)){return{};}return o[f];},m);M[s]=d;return d[l];}function b(p,d){var s=a(g,p);return s!==undefined?s:d;}function e(p,o){var E=b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined);var P=b("renderers/fiori2/componentData/config/applications/Shell-home/"+p,undefined);var O=b("renderers/fiori2/componentData/config/applications/Shell-home/"+o,undefined);P=(E===false)?false:P;P=(P!==undefined)?P:E;if(E===undefined||E){if(P===false){return false;}return(O!==undefined)?O:P;}return false;}var C={core:{extension:{enableHelp:b("renderers/fiori2/componentData/config/enableHelp",false),EndUserFeedback:b("services/EndUserFeedback/config/enabled",true),SupportTicket:b("services/SupportTicket/config/enabled",false)},navigation:{enableInPlaceForClassicUIs:{GUI:b("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:b("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:b("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true},notifications:{enableNotificationsPreview:b("renderers/fiori2/componentData/config/applications/Shell-home/initialStateNotificationsPreview",b("services/Notifications/config/enableNotificationsPreview",false))},shellHeader:{application:{},centralAreaElement:null,headEndItems:[],headItems:[],headerVisible:true,showLogo:false,ShellAppTitleState:undefined,rootIntent:b("renderers/fiori2/componentData/config/rootIntent",""),title:""},shell:{animationMode:b("renderers/fiori2/componentData/config/animationMode","full"),enablePersonalization:b("renderers/fiori2/componentData/config/enablePersonalization",b("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true)),enableRecentActivity:b("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:b("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:true,model:{enableSAPCopilotWindowDocking:undefined,enableBackGroundShapes:true,personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,enableTrackingActivity:undefined,animationMode:"full",searchAvailable:false,searchFiltering:true,showEndUserFeedback:false,searchTerm:"",isPhoneWidth:false,enableNotifications:b("services/Notifications/config/enabled",false),enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",userStatus:undefined,migrationConfig:undefined,allMyAppsMasterLevel:undefined,options:[],userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},userImage:{personPlaceHolder:"sap-icon://person-placeholder",account:"sap-icon://account"},currentState:{stateName:"blank",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:false,showRecentActivity:true,search:"",paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]}}},home:{animationRendered:false,disableSortedLockedGroups:b("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableActionModeFloatingButton:b("renderers/fiori2/componentData/config/enableActionModeFloatingButton",b("renderers/fiori2/componentData/config/applications/Shell-home/enableActionModeFloatingButton",true)),enableActionModeMenuButton:b("renderers/fiori2/componentData/config/enableActionModeMenuButton",b("renderers/fiori2/componentData/config/applications/Shell-home/enableActionModeMenuButton",true)),enableHomePageSettings:b("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableRenameLockedGroup:b("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:b("renderers/fiori2/componentData/config/enableTileActionsIcon",b("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTilesOpacity:b("services/ClientSideTargetResolution/config/enableTilesOpacity",b("renderers/fiori2/componentData/config/applications/Shell-home/enableTilesOpacity",true)),featuredGroup:{enable:b("ushell/home/featuredGroup/enable",false),frequentCard:b("ushell/home/featuredGroup/frequentCard",true)&&b("ushell/home/featuredGroup/enable",false),recentCard:b("ushell/home/featuredGroup/recentCard",true)&&b("ushell/home/featuredGroup/enable",false)},gridContainer:b("ushell/home/gridContainer",false),homePageGroupDisplay:b("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:b("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:b("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:b("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:b("ushell/home/tilesWrappingType","Normal"),segments:b("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false},catalog:{appFinderDisplayMode:b("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined),easyAccessNumbersOfLevels:b("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:b("renderers/fiori2/componentData/config/enableSearchFiltering",b("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",b("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:b("renderers/fiori2/componentData/config/enableCatalogSelection",b("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:b("renderers/fiori2/componentData/config/enableTagFiltering",b("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined),enableEasyAccessSAPMenu:(b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)===false)?false:b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)),enableEasyAccessSAPMenuSearch:e("enableEasyAccessSAPMenu","enableEasyAccessSAPMenuSearch"),enableEasyAccessUserMenu:(b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)===false)?false:b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)),enableEasyAccessUserMenuSearch:e("enableEasyAccessUserMenu","enableEasyAccessUserMenuSearch"),enableHideGroups:b("renderers/fiori2/componentData/config/enableHideGroups",b("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:b("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)}}};return C;}return c;},false);
sap.ui.predefine('sap/ushell/bootstrap/common/common.load.model',['sap/ushell/Config','sap/ui/model/json/JSONModel'],function(C,J){"use strict";var _=undefined,m,s;function a(){var S=C.last("/core"),A=undefined;var i={animationMode:A||S.shell.animationMode,groups:[],rtl:sap.ui.getCore().getConfiguration().getRTL(),personalization:S.shell.enablePersonalization,tagList:[],selectedTags:[],userPreferences:{entries:[]},enableNotificationsPreview:false,enableHelp:S.extension.enableHelp,previewNotificationItems:[],enableTileActionsIcon:sap.ui.Device.system.desktop?S.home.enableTileActionsIcon:false};i=jQuery.extend({},S.catalog,S.home,i);_=new J(i);_.setSizeLimit(10000);}function b(){sap.ui.getCore().getEventBus().subscribe("shell","changeNotificationPreview",s._updateNotificationPreview,this);sap.ui.getCore().getEventBus().subscribe('launchpad','afterSwitchState',s._handleShellViewPortSateChange,this);var g=window.matchMedia("(min-width: 800px)");if(g.addListener){g.addListener(s._handleMedia);s._handleMedia(g);}}function c(){sap.ui.getCore().getEventBus().unsubscribe("shell","changeNotificationPreview",s._updateNotificationPreview,this);sap.ui.getCore().getEventBus().unsubscribe('launchpad','afterSwitchState',s._handleShellViewPortSateChange,this);}s={_handleMedia:function(g){_.setProperty("/isPhoneWidth",!g.matches);},_updateNotificationPreview:function(g,E,D){var p=D;_.setProperty("/userEnableNotificationsPreview",p.bUserEnableNotificationsPreview);_.setProperty("/configEnableNotificationsPreview",p.bConfigEnableNotificationsPreview);if(p.bMainFlagExists===true){_.setProperty("/enableNotificationsPreview",p.bEnableNotificationsPreview);}},_handleShellViewPortSateChange:function(n,E,o){var g=o?o.getParameter('to'):'';_.setProperty('/viewPortState',g);}};function d(){return;}function e(){return;}function f(){if(_===undefined){a();b();}return _;}m={getModel:f,updateModelForCatalog:e,updateModelForHomepage:d,unsubscribeEventHandlers:c};return m;});
sap.ui.predefine('sap/ushell/components/CatalogsManager',["sap/ui/base/Object","sap/ushell/ui/launchpad/TileState","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/ushell/components/HomepageManager"],function(B,T,e,u,d,g,m,H){"use strict";var C=B.extend("sap.ushell.components.CatalogsManager",{metadata:{publicMethods:["createGroup","createGroupAndSaveTile","createTile","deleteCatalogTileFromGroup","notifyOnActionFailure","resetAssociationOnFailure"]},analyticsConstants:{PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"},_aDoableObjects:[],constructor:function(i,s){this.oLaunchPageService=sap.ushell.Container.getService("LaunchPage");this.aPendingCatalogQueue=[];this.oTileCatalogToGroupsMap={};this.skippedProcessCatalogs=0;this.tagsPool=[];this.oModel=s.model;var h={model:this.oModel};if(typeof sap.ushell.components.getHomepageManager==="function"){this.oHomepageManager=sap.ushell.components.getHomepageManager();}else{this.oHomepageManager=new H("dashboardMgr",h);}sap.ushell.components.getCatalogsManager=jQuery.sap.getter(this.getInterface());this.registerEvents();},registerEvents:function(){var E=sap.ui.getCore().getEventBus();E.subscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoableObjects=[e.on("showCatalog").do(this.updateTilesAssociation.bind(this)),e.on("updateGroups").do(this.updateTilesAssociation.bind(this))];},unregisterEvents:function(){var E=sap.ui.getCore().getEventBus();E.unsubscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoableObjects.forEach(function(D){D.off();});},getModel:function(){return this.oModel;},loadAllCatalogs:function(c,E,D){var G=new jQuery.Deferred(),t=this,s;G.resolve();s=function(){G.done(function(){var a=t.getModel().getProperty("/groups");if(a&&a.length!==0){t.updateTilesAssociation();}});};if(!this.oModel.getProperty("/catalogs")){if(!this.oModel.getProperty("/groups")||this.oModel.getProperty("/groups").length===0){G=this.oHomepageManager.loadPersonalizedGroups();}d.destroyFLPAggregationModels(this.oModel.getProperty("/catalogs"));d.destroyTileModels(this.oModel.getProperty("/catalogTiles"));this.oModel.setProperty("/catalogs",[]);this.oModel.setProperty("/catalogSearchEntity",{appBoxes:[],customTiles:[]});this.aPromises=[];jQuery.sap.measure.start("FLP:DashboardManager.GetCatalogsRequest","GetCatalogsRequest","FLP");jQuery.sap.measure.start("FLP:DashboardManager.getCatalogTiles","getCatalogTiles","FLP");jQuery.sap.measure.pause("FLP:DashboardManager.getCatalogTiles");jQuery.sap.measure.start("FLP:DashboardManager.BuildCatalogModelWithRendering","BuildCatalogModelWithRendering","FLP");jQuery.sap.measure.pause("FLP:DashboardManager.BuildCatalogModelWithRendering");this.oLaunchPageService.getCatalogs().done(function(a){jQuery.sap.measure.end("FLP:DashboardManager.GetCatalogsRequest");jQuery.sap.measure.end("FLP:DashboardManager.getCatalogTiles");jQuery.when.apply(jQuery,this.aPromises).then(function(){t.onDoneLoadingCatalogs(a);});s();}.bind(this)).fail(m.showLocalizedErrorHelper("fail_to_load_catalog_msg")).progress(this.addCatalogToModel.bind(this));}else{s();}},updateTilesAssociation:function(){this.mapCatalogTilesToGroups();this.updateCatalogTilesToGroupsMap();},mapCatalogTilesToGroups:function(){this.oTileCatalogToGroupsMap={};var G=this.oModel.getProperty("/groups"),i,o,t,a,b,c,f,h=this;for(i=0;i<G.length;i++){o=G[i];["tiles","links"].forEach(function(A){a=o[A];if(a){for(t=0;t<a.length;++t){b=encodeURIComponent(h.oLaunchPageService.getCatalogTileId(a[t].object));c=h.oTileCatalogToGroupsMap[b]||[];f=h.oLaunchPageService.getGroupId(o.object);if(c.indexOf(f)===-1&&(typeof(o.isGroupVisible)==='undefined'||o.isGroupVisible)&&!o.isGroupLocked){c.push(f);}h.oTileCatalogToGroupsMap[b]=c;}}});}},updateCatalogTilesToGroupsMap:function(){var c=this.getModel().getProperty("/catalogs"),i,t,a,G,b,f,h,j,A,o;if(c){for(i=0;i<c.length;i++){f=c[i].appBoxes;if(f){for(j=0;j<f.length;j++){A=f[j];t=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(A.src));G=this.oTileCatalogToGroupsMap[t];a=(G||[]);A.associatedGroups=a;}}b=c[i].customTiles;if(b){for(h=0;h<b.length;h++){o=b[h];t=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(o.src));G=this.oTileCatalogToGroupsMap[t];a=(G||[]);o.associatedGroups=a;}}}}this.getModel().setProperty("/catalogs",c);},addCatalogToModel:function(c){var o={title:this.oLaunchPageService.getCatalogTitle(c),id:this.oLaunchPageService.getCatalogId(c),numberTilesSupportedOnCurrectDevice:0,static:false,customTiles:[],appBoxes:[]},p;jQuery.sap.measure.resume("FLP:DashboardManager.getCatalogTiles");p=this.oLaunchPageService.getCatalogTiles(c);this.aPromises.push(p);p.done(function(a){jQuery.sap.measure.pause("FLP:DashboardManager.getCatalogTiles");if(!a.length){return;}this.aPendingCatalogQueue.push({oCatalogEntry:a,oCatalogModel:o});if(this.skippedProcessCatalogs<10){clearTimeout(this.oprocessCatalogsTimer);this.skippedProcessCatalogs++;this.oprocessCatalogsTimer=setTimeout(function(){this.processPendingCatalogs();if(this.oModel.getProperty("/enableCatalogTagFilter")===true){this.getTagList();}}.bind(this),20);}}.bind(this)).fail(m.showLocalizedErrorHelper("fail_to_load_catalog_tiles_msg"));},getTagList:function(c){var i={},f=0,t=[],h,o,s;if(this.oModel.getProperty("/tagList")&&this.oModel.getProperty("/tagList").length>0){this.tagsPool.concat(this.oModel.getProperty("/tagList"));}for(f=0;f<this.tagsPool.length;f++){o=this.tagsPool[f];if(i[o]){i[o]++;}else{i[o]=1;}}for(h in i){t.push({tag:h,occ:i[h]});}s=t.sort(function(a,b){return b.occ-a.occ;});if(c){this.oModel.setProperty("/tagList",s.slice(0,c));}else{this.oModel.setProperty("/tagList",s);}},processPendingCatalogs:function(){var c=this.oModel.getProperty('/catalogs'),p,o,a,E,i,b,f,h=sap.ui.getCore().getEventBus(),A,j=this.oModel.getProperty('/masterCatalogs')||[{title:m.getLocalizedText("all")}];jQuery.sap.measure.resume("FLP:DashboardManager.BuildCatalogModelWithRendering");this.skippedProcessCatalogs=0;while(this.aPendingCatalogQueue.length>0){p=this.aPendingCatalogQueue.shift();o=p.oCatalogEntry;a=p.oCatalogModel;E=this.searchModelCatalogByTitle(a.title);if(E.result){b=this.oModel.getProperty('/catalogs')[E.indexOfPreviousInstanceInModel];i=false;}else{i=true;b=a;}o.forEach(function(o,k){if(this._getIsIntentSupported(o)){if(this._getIsAppBox(o)){A=this.createCatalogAppBoxes(o,true);b.appBoxes.push(A);}else{f=this.createCatalogTiles(o);b.customTiles.push(f);if(!this.aFnToGetTileView){this.aFnToGetTileView=[];}}}}.bind(this));if(b.appBoxes.length>0||b.customTiles.length>0){if(i){c.push(a);j.push({title:a.title});}}}this.oModel.setProperty('/masterCatalogs',j);this.oModel.setProperty('/catalogs',c);h.publish("launchpad","afterCatalogSegment");jQuery.sap.measure.pause("FLP:DashboardManager.BuildCatalogModelWithRendering");},loadCustomTilesKeyWords:function(){var f;if(this.aFnToGetTileView){while(this.aFnToGetTileView.length>0){f=this.aFnToGetTileView.pop();f();}}},searchModelCatalogByTitle:function(c){var a=this.oModel.getProperty('/catalogs'),b=false,i,n=0,G=false;$.each(a,function(f,t){if(t.title===sap.ushell.resources.i18n.getText('catalogsLoading')){G=true;}else if(c==t.title){i=f;n=t.numberOfTiles;b=true;return false;}});return{result:b,indexOfPreviousInstanceInModel:i,indexOfPreviousInstanceInPage:G?i-1:i,numOfTilesInCatalog:n};},createCatalogAppBoxes:function(c,G){var a=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(c)),b=this.oTileCatalogToGroupsMap[a]||[],t=this.oLaunchPageService.getCatalogTileTags(c)||[];if(t.length>0){this.tagsPool=this.tagsPool.concat(t);}var n=undefined;if(c.tileResolutionResult){n=c.tileResolutionResult.navigationMode;}return{id:a,associatedGroups:b,src:c,title:this.oLaunchPageService.getCatalogTilePreviewTitle(c),subtitle:this.oLaunchPageService.getCatalogTilePreviewSubtitle(c),icon:this.oLaunchPageService.getCatalogTilePreviewIcon(c),keywords:G?(this.oLaunchPageService.getCatalogTileKeywords(c)||[]).join(','):[],tags:t,navigationMode:n,url:this.oLaunchPageService.getCatalogTileTargetURL(c)};},onDoneLoadingCatalogs:function(c){var i,a=[],t=this;for(i=0;i<c.length;i++){a.push(this.oLaunchPageService.getCatalogTiles(c[i]));}Promise.all(a).then(function(r){var I,n=true;for(I=0;I<r.length;I++){if(r[I].length!=0){n=false;break;}}if(n||!c.length){t.oModel.setProperty("/catalogsNoDataText",sap.ushell.resources.i18n.getText('noCatalogs'));}});var E=sap.ui.getCore().getEventBus();E.publish("launchpad","catalogContentLoaded");var l=c.filter(function(o){var s=t.oLaunchPageService.getCatalogError(o);if(s){jQuery.sap.log.error("A catalog could not be loaded",s,"sap.ushell.components.CatalogsManager");}return!s;});if(l.length!==c.length){m.showLocalizedError("partialCatalogFail");}u.handleTilesVisibility();},createCatalogTiles:function(c,G){var t,a,b=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(c)),f=this.oTileCatalogToGroupsMap[b]||[],h=this.oLaunchPageService.getCatalogTileTags(c)||[];if(h.length>0){this.tagsPool=this.tagsPool.concat(h);}t=new T({state:"Loading"});this.oLaunchPageService.getCatalogTileView(c);a=this.oLaunchPageService.getCatalogTilePreviewTitle(c);if(!a){a=this.oLaunchPageService.getCatalogTileTitle(c);}return{associatedGroups:f,src:c,catalog:c.title,catalogId:c.id,title:a,tags:h,keywords:(this.oLaunchPageService.getCatalogTileKeywords(c)||[]).join(','),id:b,size:this.oLaunchPageService.getCatalogTileSize(c),content:[t],isTileIntentSupported:this.oLaunchPageService.isTileIntentSupported(c),tileType:c.tileType};},createGroupAndSaveTile:function(D){var t=this,c=D.catalogTileContext,n=D.newGroupName,a=jQuery.Deferred(),r={};if(u.validHash(n)&&c){this.createGroup(n).then(function(o){var p=t.createTile({catalogTileContext:c,groupContext:o});p.done(function(b){r={group:b.group,status:1,action:'addTileToNewGroup'};a.resolve(r);}).fail(function(b){r={group:b.group,status:0,action:'addTileToNewGroup'};a.resolve(r);});}.bind(this));}return a.promise();},createGroup:function(t){var a=this,D=jQuery.Deferred();if(!u.validHash(t)){return D.reject({status:0,action:'createNewGroup'});}var r=this.oLaunchPageService.addGroup(t);r.done(function(G,s){var o=a.oHomepageManager.addGroupToModel(G);D.resolve(o);});r.fail(function(){m.showLocalizedError("fail_to_create_group_msg");var R={status:0,action:'createNewGroup'};D.resolve(R);});return D.promise();},createTile:function(D){var t=this,c=D.catalogTileContext,o=D.groupContext,G=this.oModel.getProperty(o.getPath()),s=G.groupId,r,a=jQuery.Deferred(),R={},E;E=sap.ui.getCore().getEventBus();E.publish("launchpad","addTile",{catalogTileContext:c,groupContext:o});if(!c){jQuery.sap.log.warning("CatalogsManager: Did not receive catalog tile object. Abort.",this);R={group:G,status:0,action:'add'};return Promise.resolve(R);}r=this.oLaunchPageService.addTile(c.getProperty("src"),o.getProperty("object"));r.done(function(b){var f=t.oModel.getProperty("/groups"),h=g.getModelPathOfGroup(f,s),i=t.oLaunchPageService.getTileTitle(b);t.oHomepageManager.addTileToGroup(h,b);R={group:G,status:1,action:'add'};sap.ushell.Container.getService("UsageAnalytics").logCustomEvent(t.analyticsConstants.PERSONALIZATION,t.analyticsConstants.ADD_TILE,[G.title,i]);a.resolve(R);}).fail(function(){m.showLocalizedError("fail_to_add_tile_msg");R={group:G,status:0,action:'add'};a.resolve(R);});return a.promise();},deleteCatalogTileFromGroup:function(D){var t=this,s=decodeURIComponent(D.tileId),G=D.groupIndex,o=this.oModel.getProperty("/groups/"+G),a=jQuery.Deferred(),b=[],r=[],p,c;["tiles","links"].forEach(function(A){o[A].forEach(function(f){var h=t.oLaunchPageService.getCatalogTileId(f.object);if(h===s){p=jQuery.Deferred();c=t.oLaunchPageService.removeTile(o.object,f.object);c.done((function(a){return function(){r.push(f.uuid);a.resolve({status:true});};})(p));c.fail((function(a){return function(){a.resolve({status:false});};})(p));b.push(p);}});});jQuery.when.apply(jQuery,b).done(function(f){var S=b.length===r.length;t.oHomepageManager.deleteTilesFromGroup(o.groupId,r);t.updateTilesAssociation();a.resolve({group:o,status:S,action:'remove'});});return a.promise();},calculateCatalogTileIndex:function(c,n,t){var r=parseInt(c*100000,10);r+=(n!==undefined?n:0)+t;return r;},notifyOnActionFailure:function(M,p){m.showLocalizedError(M,p);},resetAssociationOnFailure:function(M,p){this.notifyOnActionFailure(M,p);this.updateTilesAssociation();},_getIsIntentSupported:function(c){return!!(this.oLaunchPageService.isTileIntentSupported(c));},_getIsAppBox:function(c){var a,i;if(!sap.ushell.Container){return false;}a=this.oModel.getProperty("/appFinderDisplayMode");if(a==="tiles"){i=false;}else{i=!!(this.oLaunchPageService.getCatalogTileTargetURL(c)&&(this.oLaunchPageService.getCatalogTilePreviewTitle(c)||this.oLaunchPageService.getCatalogTilePreviewSubtitle(c)));}return i;},destroy:function(){this.unregisterEvents();}});return C;});
sap.ui.predefine('sap/ushell/components/HeaderManager',["sap/ushell/Config","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/utils/clone","sap/ushell/components/StateHelper","sap/ushell/components/_HeaderManager/PropertyStrategiesFactory",'sap/ui/core/theming/Parameters','sap/base/util/ObjectPath','sap/ui/Device'],function(C,E,u,c,S,g,T,O,D){"use strict";var h={application:{},centralAreaElement:null,headEndItems:[],headItems:[],headerVisible:true,showLogo:false,ShellAppTitleState:undefined,rootIntent:"",title:""};var H;var a;var B={"blank":{},"blank-home":{},"home":{"headItems":[]},"app":{"headItems":["backBtn","homeBtn"]},"minimal":{"headItems":["homeBtn"]},"standalone":{"headItems":["backBtn"]},"embedded":{"headItems":["backBtn","homeBtn"]},"embedded-home":{"headItems":[]},"headerless":{"headItems":["backBtn","homeBtn"],"headerVisible":false},"merged":{"headItems":["backBtn","homeBtn"]},"headerless-home":{"headerVisible":false},"merged-home":{},"lean":{"headItems":[]},"lean-home":{}};var d=[];function i(F,G){var I=F&&F.appState?F.appState:"home";H=s(F);a=G;f(D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD));_();p(I);}function b(){e();}function _(){var F=E.on("setHeaderCentralAreaElement").do(function(P){n({propertyName:"centralAreaElement",value:P.id,aStates:S.getPassStates(P.states),bCurrentState:!!P.currentState,bDoNotPropagate:!!P.bDoNotPropagate});});d.push(F);d.push(E.on("ShellFloatingContainerDockedIsResized").do(f));d.push(E.on("updateHeaderOverflowState").do(f));D.media.attachHandler(f,this,D.media.RANGESETS.SAP_STANDARD);}function e(){if(d){d.forEach(function(F){F.off();});}D.media.detachHandler(f,this,D.media.RANGESETS.SAP_STANDARD);}function f(P){v(P);k(P);}function v(P){var F,G=C.last("/core/shell/model/currentState/stateName"),I=G==='merged'||G==='headerless',J=C.last("/core/shell/model/currentViewPortState")==="LeftCenter",K=true;if(P&&P.name){F=P.name;}else{F=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;}if(F==="Phone"&&!J||I){K=false;}n({propertyName:"showLogo",value:K,aStates:["home","app","blank","blank-home","minimal","lean"],bCurrentState:false,bDoNotPropagate:true});}function j(F,G){if(F&&F.appState==="embedded"){G.setLogo(sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'));return;}function I(K){var L=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(K);return L?L[1]:null;}function J(){var L=I(T.get("sapUiGlobalLogo"))||sap.ui.require.toUrl("sap/ushell")+'/themes/base/img/sap_55x27.png';if(G){G.setLogo(L);}}if(sap.ui.getCore().isThemeApplied()){J();}sap.ui.getCore().attachThemeChanged(J);}function k(P){var F=C.last("/core/shellHeader/headEndItems");var G={"Phone":true,"Tablet":true};delete G["Tablet"];if(F.length<2||(F.length===2&&F.indexOf("meAreaHeaderButton")!==-1)){return;}function I(){r(["endItemsOverflowBtn"],false,["home","app"]);var K=sap.ui.getCore().byId('headEndItemsOverflow');if(K){K.destroy();}}var J=(P&&P.name)||D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;if(J in G){if(F.indexOf("endItemsOverflowBtn")===-1){l(["endItemsOverflowBtn"],false,["home","app"]);}else{I();window.setTimeout(function(){l(["endItemsOverflowBtn"],false,["home","app"]);});}}else{I();}}function l(I,F,G,J){n({propertyName:"headEndItems",value:I,aStates:G,bCurrentState:!!F,bDoNotPropagate:!!J});}function r(I,F,G){n({propertyName:"headEndItems",value:I,aStates:G,bCurrentState:!!F,action:"remove",bDoNotPropagate:false});}function m(F,G){var I={};Object.keys(F).forEach(function(J){var K=F[J];I[J]=Object.keys(K).reduce(function(L,M){L[M]=K[M];return L;},c(G));});return I;}function n(P){var F=P.propertyName,G=!P.bCurrentState?S.getAllStateToUpdate(P.aStates,P.bDoNotPropagate):[],I=C.last("/core/shellHeader"),J=C.last("/core/shell/model/currentState/stateName"),K=P.value,L;if(F.charAt(0)==="/"){F=F.substring(1);}L=g(F,P.action);if(!L){return;}if(!P.bCurrentState){H=t(H,F,L,G,K);}if(G.indexOf(J)>-1||P.bCurrentState){var M=O.get(F.split("/"),I),N=L.execute(M,K);if(M!==N){O.set(F.split("/"),N,I);x(F,I);}}if(P.bCurrentState){w(F,L,K);}}function o(F){var G;for(G in F){if(F.hasOwnProperty(G)){u.updateProperties(H[G],F[G]);}}}function p(F,G){var I=!G?H[F]:C.last("/core/shellHeader"),J,K;if(!I){throw new Error("the state ("+F+") does not exist");}if(a&&a.customShellState){J=a.customShellState.currentState;}if(G&&a.extendedShellStates[G]){K=a.extendedShellStates[G].customState.currentState;}C.emit("/core/shellHeader",q(I,J,K));}function q(F,G,I){var R={};Object.keys(F).forEach(function(P){var J=g(P),K;if(!J){R[P]=c(F[P]);return;}K=c(F[P]);if(I){K=J.execute(K,I[P]);}if(G){K=J.execute(K,G[P]);}R[P]=K;});return R;}function s(F){if(F){h.rootIntent="#"+F.rootIntent;}var G=m(B,h);function I(K,G){var L,M;for(L in G){if(L==="blank"||L==="blank-home"){continue;}if(K==="ActionModeBtn"&&L==="app"){continue;}if((K==="openCatalogBtn"||K==="userSettingsBtn")&&(L==="lean"||L==="lean-home")){continue;}if(K==="ContactSupportBtn"||K==="EndUserFeedbackBtn"){if(["home","app","minimal","standalone","embedded","embedded-home","lean"].indexOf(L)===-1){continue;}}M=G[L].headEndItems.indexOf(K);if(M===-1){G[L].headEndItems.push(K);}}}function J(K,G){var L;for(L in G){G[L].title=K;}}if(F){if(F.moveEditHomePageActionToShellHeader){I("ActionModeBtn",G);}if(F.moveContactSupportActionToShellHeader){I("ContactSupportBtn",G);}if(F.moveGiveFeedbackActionToShellHeader){I("EndUserFeedbackBtn",G);}if(F.moveAppFinderActionToShellHeader){I("openCatalogBtn",G);}if(F.moveUserSettingsActionToShellHeader){I("userSettingsBtn",G);}if(F.title){J(F.title,G);}}return G;}function t(F,P,G,I,J){if(I.length===0){return F;}var N=c(F);I.forEach(function(K){var L=N[K],M;if(L){M=G.execute(O.get(P.split("/"),L),J);O.set(P.split("/"),M,L);}});return N;}function w(P,F,G){var I,N;if(!a){return;}I=a.customShellState.currentState;N=F.execute(O.get(P.split("/"),I),G);O.set(P.split("/"),N,I);}function x(P,F){var R=P.split("/").shift();C.emit("/core/shellHeader/"+R,F[R]);}function y(F){var G;try{G=H[F];}catch(I){G=undefined;}return G;}function z(F,P){var G;try{G=y(F)[P];}catch(I){G=undefined;}return G;}function A(F){H=F;}return{init:i,destroy:b,updateStates:n,recalculateState:p,extendStates:o,initShellBarLogo:j,validateShowLogo:v,handleEndItemsOverflow:k,_resetBaseStates:A,_generateBaseHeaderState:m,_createInitialState:s,_getBaseState:y,_getBaseStateMember:z};},false);
sap.ui.predefine('sap/ushell/components/HomepageManager',["jquery.sap.global","sap/ui/base/Object","sap/ui/Device","sap/ui/model/Filter","sap/ushell/ui/launchpad/TileState","sap/ushell/components/_HomepageManager/PagingManager","sap/ushell/components/_HomepageManager/DashboardLoadingManager","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/resources","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/SelectDialog","sap/m/StandardListItem","sap/ushell/components/homepage/ComponentKeysHandler"],function(Q,B,D,F,T,P,a,e,s,u,r,d,g,m,G,S,b,C){"use strict";var c={PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"};var _=[];var f=false;function h(R){_.push(R);if(!f){f=true;_.shift()();}}function l(){if(_.length===0){f=false;}else{_.shift()();}}function n(){_=[];f=false;}function o(E,p){sap.ushell.Container.getServiceAsync("UsageAnalytics").then(function(U){U.logCustomEvent(c.PERSONALIZATION,E,p);});}return B.extend("sap.ushell.components.HomepageManager",{metadata:{publicMethods:["getModel","getDashboardView","loadPersonalizedGroups","resetGroupsOnFailure","addGroupToModel","addTileToGroup","deleteTilesFromGroup"]},analyticsConstants:c,constructor:function(i,j){if(sap.ushell.components.getHomepageManager){var H=sap.ushell.components.getHomepageManager();if(!H.view){H.setDashboardView(j.view);}return H;}sap.ui.getCore().attachThemeChanged(u.handleTilesVisibility);sap.ushell.components.getHomepageManager=Q.sap.getter(this.getInterface());this.oPageBuilderService=sap.ushell.Container.getService("LaunchPage");this.oModel=j.model;this.oRouter=j.router;this.oDashboardView=j.view;this.oSortableDeferred=Q.Deferred();this.oSortableDeferred.resolve();this.registerEvents();this.tileViewUpdateQueue=[];this.tileViewUpdateTimeoutID=0;this.tileUuid=null;this.segmentsStore=[];this.bIsFirstSegment=true;this.bIsFirstSegmentViewLoaded=false;this.aGroupsFrame=null;this.iMinNumOfTilesForBlindLoading=this.oModel.getProperty("/optimizeTileLoadingThreshold")||100;this.bIsScrollModeAccordingKPI=false;this.oGroupNotLockedFilter=new F("isGroupLocked",sap.ui.model.FilterOperator.EQ,false);this.bLinkPersonalizationSupported=this.oPageBuilderService.isLinkPersonalizationSupported();this.oDashboardLoadingManager=new a("loadingManager",{oDashboardManager:this});if(this.oRouter){var t=this.oRouter.getTarget("home");t.attachDisplay(function(E){this.oDashboardView=E.getParameter("view");}.bind(this));}this.oModel.bindProperty("/tileActionModeActive").attachChange(this._changeLinksScope.bind(this));},isBlindLoading:function(){var i=s.last("/core/home/homePageGroupDisplay");if((i===undefined||i==="scroll")&&this.bIsScrollModeAccordingKPI){Q.sap.log.info("isBlindLoading reason IsScrollModeAccordingKPI and IsScrollMode: true");return true;}if(this.oModel.getProperty("/tileActionModeActive")){Q.sap.log.info("isBlindLoading reason TileActionModeActive : true");return true;}return false;},createMoveActionDialog:function(i){var j=this.oGroupNotLockedFilter,M=new S(i,{title:r.i18n.getText("moveTileDialog_title"),rememberSelections:false,search:function(E){var v=E.getParameter("value"),k=new F("title",sap.ui.model.FilterOperator.Contains,v),p=E.getSource().getBinding("items");p.filter([k,j]);},contentWidth:"400px",contentHeight:"auto",confirm:function(E){var k=E.getParameter("selectedContexts");this.publishMoveActionEvents(E,k,"movetile");}.bind(this),cancel:function(){var k=Q(".sapUshellTile[tabindex=\"0\"]")[0];if(k){k.focus();}},items:{path:"/groups",filters:[j],template:new b({title:"{title}"})}});return M;},publishMoveActionEvents:function(E,i,M){var j=sap.ui.getCore().getEventBus();if(i.length){var k=this.tileType==="link"?"links":"tiles";j.publish("launchpad",M,{sTileId:this.tileUuid,sToItems:k,sFromItems:k,sTileType:k,toGroupId:i[0].getObject().groupId,toIndex:i[0].getObject()[this.tileType==="link"?"links":"tiles"].length,source:E.getSource().getId(),callBack:C.callbackSetFocus.bind(C)});j.publish("launchpad","scrollToGroup",{groupId:i[0].getObject().groupId,groupChanged:false,focus:false});}},_changeLinksScope:function(E){var t=this;if(this.bLinkPersonalizationSupported){var i=E.getSource().getValue();this.oModel.getProperty("/groups").forEach(function(j,k){if(!j.isGroupLocked){t._changeGroupLinksScope(j,i?"Actions":"Display");}});}},_changeGroupLinksScope:function(i,j){var t=this;i.links.forEach(function(L,k){t._changeLinkScope(L.content[0],j);});},_changeLinkScope:function(L,i){var j=L.getScope?L:L.getContent()[0];if(this.bLinkPersonalizationSupported&&j.setScope){j.setScope(i);}},registerEvents:function(){var E=sap.ui.getCore().getEventBus();E.subscribe("launchpad","addBookmarkTile",this._createBookmark,this);E.subscribe("launchpad","tabSelected",this.getSegmentTabContentViews,this);E.subscribe("sap.ushell.services.Bookmark","bookmarkTileAdded",this._addBookmarkToModel,this);E.subscribe("sap.ushell.services.Bookmark","catalogTileAdded",this._refreshGroupInModel,this);E.subscribe("sap.ushell.services.Bookmark","bookmarkTileDeleted",this.loadPersonalizedGroups,this);E.subscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);E.subscribe("launchpad","createGroupAt",this._createGroupAt,this);E.subscribe("launchpad","createGroup",this._createGroup,this);E.subscribe("launchpad","deleteGroup",this._deleteGroup,this);E.subscribe("launchpad","resetGroup",this._resetGroup,this);E.subscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);E.subscribe("launchpad","moveGroup",this._moveGroup,this);E.subscribe("launchpad","deleteTile",this._deleteTile,this);E.subscribe("launchpad","movetile",this._moveTile,this);E.subscribe("launchpad","sortableStart",this._sortableStart,this);E.subscribe("launchpad","sortableStop",this._sortableStop,this);E.subscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);E.subscribe("launchpad","convertTile",this._convertTile,this);this.oPageBuilderService.registerTileActionsProvider(this._addFLPActionsToTile.bind(this));},_addFLPActionsToTile:function(t){var L=this.bLinkPersonalizationSupported&&this.oPageBuilderService.isLinkPersonalizationSupported(t),A=[];A.push(this._getMoveTileAction(t));if(L){A.push(this._getConvertTileAction(t));}return A;},_getConvertTileAction:function(t){var E=sap.ui.getCore().getEventBus(),i=this,j=i.oPageBuilderService.getTileType(t);return{text:j==="link"?r.i18n.getText("ConvertToTile"):r.i18n.getText("ConvertToLink"),press:function(k){var p={tile:k,callBack:C.callbackSetFocus.bind(C)};E.publish("launchpad","convertTile",p);}};},_getMoveTileAction:function(t){var i=this;return{text:r.i18n.getText("moveTileDialog_action"),press:function(){i.tileType=i.oPageBuilderService.getTileType(t);i.tileUuid=i.getModelTileById(i.oPageBuilderService.getTileId(t),i.tileType==="link"?"links":"tiles").uuid;var M=i.tileType==="tile"?i.moveTileDialog:i.moveLinkDialog;if(i.tileType==="tile"||i.tileType==="link"){if(!M){M=i.createMoveActionDialog("move"+i.tileType+"Dialog");M.setModel(i.oModel);if(i.tileType==="tile"){i.moveTileDialog=M;}else{i.moveLinkDialog=M;}}else{M.getBinding("items").filter([i.oGroupNotLockedFilter]);}M.open();}}};},_handleTileAppearanceAnimation:function(j){if(!j){return;}var p=["webkit",""];function k(q,t){for(var i=0;i<p.length;i++){t=t.toLowerCase();j.attachBrowserEvent(p[i]+t,function(E){if(E.originalEvent&&E.originalEvent.animationName==="sapUshellTileEntranceAnimation"){j.removeStyleClass("sapUshellTileEntrance");}},false);}}k(j,"AnimationEnd");j.addStyleClass("sapUshellTileEntrance");},destroy:function(){var E=sap.ui.getCore().getEventBus();E.unsubscribe("launchpad","addBookmarkTile",this._createBookmark,this);E.unsubscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);E.unsubscribe("launchpad","createGroupAt",this._createGroupAt,this);E.unsubscribe("launchpad","createGroup",this._createGroup,this);E.unsubscribe("launchpad","deleteGroup",this._deleteGroup,this);E.unsubscribe("launchpad","resetGroup",this._resetGroup,this);E.unsubscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);E.unsubscribe("launchpad","moveGroup",this._moveGroup,this);E.unsubscribe("launchpad","deleteTile",this._deleteTile,this);E.unsubscribe("launchpad","movetile",this._moveTile,this);E.unsubscribe("launchpad","sortableStart",this._sortableStart,this);E.unsubscribe("launchpad","sortableStop",this._sortableStop,this);E.unsubscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);sap.ui.getCore().detachThemeChanged(u.handleTilesVisibility);sap.ushell.components.getHomepageManager=undefined;B.prototype.destroy.apply(this,arguments);},_sortableStart:function(){this.oSortableDeferred=Q.Deferred();},_createBookmark:function(i,E,j){var t=j.group?j.group.object:"";delete j.group;function k(){sap.ushell.Container.getServiceAsync("Bookmark").then(function(p){p.addBookmark(j,t).always(l).done(function(){m.showLocalizedMessage("tile_created_msg");}).fail(function(M){Q.sap.log.error("Failed to add bookmark",M,"sap.ushell.ui.footerbar.AddBookmarkButton");m.showLocalizedError("fail_to_add_tile_msg");});});}h(k);},_addBookmarkToModel:function(i,E,j){var t=j.tile,k,p=j.group,q,v,w,x,y,N,I;if(!j||!t){this.bIsGroupsModelDirty=true;if(!this.bGroupsModelLoadingInProcess){this._handleBookmarkModelUpdate();}return;}if(!p){k=this.getModel().getProperty("/groups");for(I=0;I<k.length;I++){if(k[I].isDefaultGroup===true){p=k[I].object;break;}}}q=this.oPageBuilderService;v=q.getTileType(t);w=this._getTileModel(t,q.isGroupLocked(p),v);this.getTileView(w);x=this._getIndexOfGroupByObject(p);y=this.oModel.getProperty("/groups/"+x);y.tiles.push(w);y.visibilityModes=u.calcVisibilityModes(y,true);N=y.tiles.length;this._updateModelWithTileView(x,N);this.oModel.setProperty("/groups/"+x,y);},_refreshGroupInModel:function(i,E,j){var L=this.oPageBuilderService,k="Failed to refresh group with id:"+j+" in the model",t=this;L.getGroups().fail(Q.sap.log.error(k,null,"sap.ushell.components.HomepageManager")).done(function(p){p.some(function(q){if(L.getGroupId(q)===j){L.getDefaultGroup().done(function(v){var I=j===v.getId(),w=t._getGroupModel(q,I,false,{isRendered:true}),x=t._getIndexOfGroupByObject(w.object);w.visibilityModes=sap.ushell.utils.calcVisibilityModes(q,true);t.oModel.setProperty("/groups/"+x,w);if(w&&w.tiles){w.tiles.forEach(function(y){t.getTileView(y);});}});return true;}});});},_sortableStop:function(){this.oSortableDeferred.resolve();},_handleAfterSortable:function(i){return function(){var j=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(function(){i.apply(null,j);});}.bind(this);},_createGroup:function(){var i=this._getGroupModel(null),M=this.oModel,j=M.getProperty("/groups");M.setProperty("/groups/"+j.length,i);},_createGroupAt:function(j,E,k){var p=parseInt(k.location,10),q=this.oModel.getProperty("/groups"),t=this._getGroupModel(null,false,p===q.length,k),M=this.oModel,i;t.index=p;q.splice(p,0,t);for(i=0;i<q.length-1;i++){q[i].isLastGroup=false;}for(i=p+1;i<q.length;i++){q[i].index++;}M.setProperty("/groups",q);},_getIndexOfGroupByObject:function(i){var j=null,k=this.oModel.getProperty("/groups"),p=this.oPageBuilderService.getGroupId(i);k.every(function(M,q){var t=this.oPageBuilderService.getGroupId(M.object);if(t===p){j=q;return false;}return true;}.bind(this));return j;},addTileToGroup:function(i,t){var j=i+"/tiles",k=this.oModel.getProperty(i),N=this.oModel.getProperty(j).length,p=this.oPageBuilderService.getTileType(t);var q=this.oModel.getProperty(i+"/isGroupLocked"),v=this.oModel.getProperty("/personalization");k.tiles[N]=this._getTileModel(t,q,p);this.getTileView(k.tiles[N]);k.visibilityModes=u.calcVisibilityModes(k,v);this._updateModelWithTileView(k.index,N);this.oModel.setProperty(i,k);},_getPathOfTile:function(t){var i=this.oModel.getProperty("/groups"),j=null,k=null,p,E=function(q,v){if(v.uuid===t){k=q;return false;}};Q.each(i,function(q,v){Q.each(v.tiles,E);if(k!==null){j=q;p="tiles";return false;}Q.each(v.links,E);if(k!==null){j=q;p="links";return false;}});return j!==null?"/groups/"+j+"/"+p+"/"+k:null;},_moveInArray:function(A,i,j){if(j>=A.length){var k=j-A.length;while((k--)+1){A.push(undefined);}}A.splice(j,0,A.splice(i,1)[0]);},_updateGroupIndices:function(A){var k;for(k=0;k<A.length;k++){A[k].index=k;}},_deleteGroup:function(i,E,j){var t=this,k=j.groupId,p,q=this.oModel.getProperty("/groups"),v=g.getIndexOfGroup(q,k),I=q.length-1===v,w=null,M,x,y;x=I?v-1:v;d.destroyFLPAggregationModel(this.oModel.getProperty("/groups/"+v));w=q.splice(v,1)[0].object;if(I){this.oModel.setProperty("/groups/"+x+"/isLastGroup",I);}p=this.oPageBuilderService.getGroupId(w);M=this.oModel;M.setProperty("/groups",q);this._updateGroupIndices(q);if(x>=0){y=sap.ui.getCore().getEventBus();window.setTimeout(Q.proxy(y.publish,y,"launchpad","scrollToGroup",{groupId:this.oModel.getProperty("/groups")[x].groupId}),200);}function z(){var A=this.oPageBuilderService.getGroupTitle(w);try{this.oPageBuilderService.removeGroup(w).done(function(){o(c.DELETE_GROUP,[A,p]);m.showLocalizedMessage("group_deleted_msg",[A]);}).fail(this._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_delete_group_msg"))).always(l);}catch(H){this._resetGroupsOnFailure("fail_to_delete_group_msg");}}h(z.bind(this));},_resetGroup:function(i,E,j){var t=this,k=j.groupId,p=this.oModel.getProperty("/groups"),q=g.getIndexOfGroup(p,k),v=this.oModel.getProperty("/groups/"+q),w,x,y;this.oModel.setProperty("/groups/"+q+"/sortable",false);x=this.oPageBuilderService.getGroupId(v.object);w=this.oPageBuilderService.getGroupTitle(v.object);function z(){try{this.oPageBuilderService.resetGroup(v.object).done(this._handleAfterSortable(Q.proxy(function(k,v,R){o(c.RESET_GROUP,[w,x]);var p=this.oModel.getProperty("/groups"),q=g.getIndexOfGroup(p,k);this._loadGroup(q,R||v.object);m.showLocalizedMessage("group_reset_msg",[v.title]);this.oModel.setProperty("/groups/"+q+"/sortable",true);y=sap.ui.getCore().byId("dashboardGroups").getGroupControlByGroupId(k);if(y.getBindingContext().getObject().links&&y.getBindingContext().getObject().links.length&&!y.getIsGroupLocked()){this._changeGroupLinksScope(y.getBindingContext().getObject(),this.oModel.getProperty("/tileActionModeActive")?sap.m.GenericTileScope.Actions:sap.m.GenericTileScope.Display);}if(y){y.rerender();e.emit("updateGroups",Date.now());u.handleTilesVisibility();}},this,k,v))).fail(this._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_reset_group_msg"))).always(l);}catch(A){this._resetGroupsOnFailure("fail_to_reset_group_msg");}}h(z.bind(this));},_moveGroup:function(j,E,k){var p=k.fromIndex,t=k.toIndex,q=this.oModel.getProperty("/groups"),M=this.oModel,A=this.oModel.getProperty("/tileActionModeActive"),v,w,x=this,i,y;if(!A){p=this._adjustFromGroupIndex(p,q);}v=q[p];w=v.groupId;if(!A){t=this._adjustToGroupIndex(t,q,w);}y=q[t].object;this._moveInArray(q,p,t);this._updateGroupIndices(q);for(i=0;i<q.length-1;i++){q[i].isLastGroup=false;}q[q.length-1].isLastGroup=true;M.setProperty("/groups",q);function z(){q=this.oModel.getProperty("/groups");var v=this.oModel.getProperty(g.getModelPathOfGroup(q,w));if(!v.object){return;}try{this._getOriginalGroupIndex(y).done(function(I){this.oPageBuilderService.moveGroup(v.object,I).done(function(){o(x.analyticsConstants.MOVE_GROUP,[v.title,p,t,w]);}).fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_move_group_msg"))).always(l);}.bind(this));}catch(H){this._resetGroupsOnFailure("fail_to_move_group_msg");}}h(z.bind(this));},_adjustToGroupIndex:function(t,j,k){var v=0,I=false,i=0;for(i=0;i<j.length&&v<t;i++){if(j[i].isGroupVisible){if(j[i].groupId===k){I=true;}else{v++;}}}if(I){return i-1;}return i;},_adjustFromGroupIndex:function(j,k){var v=0,i;for(i=0;i<k.length;i++){if(k[i].isGroupVisible){v++;}if(v===j+1){return i;}}return j;},_getOriginalGroupIndexByIndex:function(i){var j=this.oModel.getProperty("/groups"),k=j[i].object;return this._getOriginalGroupIndex(k);},_getOriginalGroupIndex:function(i){var j=this.oPageBuilderService,k=this.oPageBuilderService.getGroups(),p=new Q.Deferred();k.done(function(q){var t=null;Q.each(q,function(v,w){if(j.getGroupId(w)===j.getGroupId(i)){t=v;return false;}});p.resolve(t);});k.fail(function(){m.showLocalizedError("fail_to_load_groups_msg");p.reject();});return p;},_changeGroupTitle:function(i,E,j){var N=j.newTitle,k=this.oModel.getProperty("/groups"),p=j.groupId,q=j.groupId,t=g.getIndexOfGroup(k,p),v=this.oModel.getProperty("/groups/"+t),O=v.title;this.oModel.setProperty("/groups/"+t+"/title",N);function w(){try{if(t===k.length-1){this.oPageBuilderService.addGroup(N,t).done(this._handleAfterSortable(Q.proxy(function(p,z){var k=this.oModel.getProperty("/groups"),t=g.getIndexOfGroup(k,p);this._loadGroup(t,z);o(c.RENAME_GROUP,[O,N,p]);},this,p))).fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_create_group_msg"))).always(l);}else{this._getOriginalGroupIndexByIndex(t+1).done(function(z){this.oPageBuilderService.addGroupAt(N,z).done(this._handleAfterSortable(Q.proxy(function(p,A){var k=this.oModel.getProperty("/groups"),t=g.getIndexOfGroup(k,p);this._loadGroup(t,A);o(c.RENAME_GROUP,[O,N,p]);},this,p))).fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_create_group_msg"))).always(l);}.bind(this));}}catch(y){this._resetGroupsOnFailure("fail_to_create_group_msg");}}function x(){try{this.oPageBuilderService.setGroupTitle(v.object,N).done(function(){q=this.oPageBuilderService.getGroupId(v.object);o(c.RENAME_GROUP,[O,N,q]);}.bind(this)).fail(this._handleAfterSortable(Q.proxy(function(p,O){var k=this.oModel.getProperty("/groups"),z=g.getModelPathOfGroup(k,p);m.showLocalizedError("fail_to__msg");this.oModel.setProperty(z+"/title",O);n();},this,p))).always(l);}catch(y){this._resetGroupsOnFailure("fail_to_rename_group_msg");}}if(!v.object){l.call(this);h(w.bind(this));}else{h(x.bind(this));}},addGroupToModel:function(i){var j=this._getGroupModel(i,false,true,{isRendered:true}),k=this.oModel.getProperty("/groups"),p=k.length,q;if(p>0){k[p-1].isLastGroup=false;}j.index=p;k.push(j);this.oModel.setProperty("/groups/",k);q=new sap.ui.model.Context(this.oModel,"/groups/"+p);return q;},_deleteTile:function(i,E,j){var t=this,k=j.tileId||j.originalTileId,p=this.oModel.getProperty("/groups"),I=j.items||"tiles";Q.each(p,function(q,v){var w=false;Q.each(v[I],function(x,y){if(y.uuid!==k&&y.originalTileId!==k){return true;}d.destroyTileModel(t.oModel.getProperty("/groups/"+q+"/"+I+"/"+x));var z=v[I].splice(x,1)[0],A=t.oPageBuilderService.getTileTitle(z.object),H=t.oPageBuilderService.getCatalogTileId(z.object),J=t.oPageBuilderService.getCatalogTileTitle(z.object),K=t.oPageBuilderService.getTileId(z.object),L=t.oModel.getProperty("/personalization");v.visibilityModes=u.calcVisibilityModes(v,L);t.oModel.setProperty("/groups/"+q,v);function M(){try{t.oPageBuilderService.removeTile(v.object,z.object).done(t._handleAfterSortable(function(){m.showLocalizedMessage("tile_deleted_msg",[A,v.title]);o(c.DELETE_TILE,[A||K,H,J,v.title]);})).fail(t._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_remove_tile_msg"))).always(l);}catch(N){t._resetGroupsOnFailure("fail_to_remove_tile_msg");}}h(M);u.handleTilesVisibility();w=true;return false;});return!w;});},deleteTilesFromGroup:function(i,R){var j=this.oModel.getProperty("/groups"),k=g.getIndexOfGroup(j,i),p=this.oModel.getProperty("/groups/"+k),q=[];["tiles","links"].forEach(function(A){q=p[A].filter(function(t){if(R.indexOf(t.uuid)<0){return true;}return false;});p[A]=q;});p.visibilityModes=u.calcVisibilityModes(p,true);this.oModel.setProperty("/groups/"+k,p);},_getGroupIndex:function(i){var j=this.oModel.getProperty("/groups"),k=this._getNewGroupInfo(j,i);if(k){return k.newGroupIndex;}},_convertTile:function(i,E,j){var k=j.tile?j.tile:j,p=j.srcGroupId?this._getGroupIndex(j.srcGroupId):undefined,q=j.srcGroupId?this.oModel.getProperty("/groups/"+p):k.getParent().getBindingContext().getObject(),t=k.getBindingContext().sPath.split("/"),v=k.getBindingContext().getObject(),w=t[t.length-2],x=v.uuid,y=parseInt(t[t.length-1],10),z=j.toIndex!==undefined?j.toIndex:undefined,R,A=this.oModel.getProperty("/tileActionModeActive"),H=j.toGroupId?this._getGroupIndex(j.toGroupId):q.index,I=j.toGroupId?this.oModel.getProperty("/groups/"+H):q;var J=this._getIndexForConvert(w,y,z,q,I),K={"tileIndex":y,"groupIndex":p,"group":q};function L(){try{R=this.oPageBuilderService.moveTile(v.object,J.tileIndex,J.newTileIndex,q.object,I.object,w==="links"?"tile":"link");}catch(M){this._resetGroupsOnFailure("fail_to_move_tile_msg");return;}v.tileIsBeingMoved=true;R.done(this._handleAfterSortable(Q.proxy(function(x,N){var O=this._getPathOfTile(x);if(O){l();this.oPageBuilderService.getTileView(N).done(function(V){if(w==="tiles"){this._attachLinkPressHandlers(V);this._addDraggableAttribute(V);this._changeLinkScope(V,A&&w!=="links"?"Actions":"Display");}var U={"tileIndex":z,"groupIndex":H,"group":I},W={"tile":v,"view":V,"type":w,"tileObj":N};this.replaceTileViewAfterConvert(K,U,W);e.emit("updateGroups",Date.now());u.handleTilesVisibility();if(j.callBack){j.callBack(V);}}.bind(this));}},this,x)));R.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_move_tile_msg")));}h(L.bind(this));},replaceTileViewAfterConvert:function(i,j,t){var k=t.tile,p=k.content;k.tileIsBeingMoved=false;k.content=[t.view];k.object=t.tileObj;k.originalTileId=this.oPageBuilderService.getTileId(t.tileObj);i.group[t.type].splice(i.tileIndex,1);if(j.tileIndex!==undefined){j.group[t.type==="tiles"?"links":"tiles"].splice(j.tileIndex,0,k);}else{j.group[t.type==="tiles"?"links":"tiles"].push(k);}this.oModel.setProperty("/groups/"+j.groupIndex,j.group);this.oModel.setProperty("/groups/"+i.groupIndex,i.group);if(t.type==="links"){this._handleTileAppearanceAnimation(k.content[0].getParent());}else{this._handleTileAppearanceAnimation(k.content[0]);}if(p&&p[0]){p[0].destroy();}},_getIndexForConvert:function(t,i,j,k,p){var q;if(t==="tiles"){if(j!==undefined){q=p[t].length+j;}else{q=p[t].length+p.links.length;}if(k.groupId===p.groupId){q--;}}else{q=j||k.tiles.length;i+=k.tiles.length;}return{"tileIndex":i,"newTileIndex":q};},_getIndexForMove:function(t,i,j,k,p){var q;if(t==="tiles"){q=j!==undefined?j:k[t].length;}else{if(j!==undefined){q=k.tiles.length+j;}else{q=k.tiles.length+k.links.length;}i+=p.tiles.length;}return{"tileIndex":i,"newTileIndex":q};},_getTileInfo:function(i,t,I){var j;Q.each(i,function(k,p){var q=false;Q.each(p[I],function(v,w){if(w.uuid===t){j={"oTile":w,"tileIndex":v,"oGroup":p,"groupIndex":k};q=true;return false;}});return!q;});return j;},_getNewGroupInfo:function(i,N){var j;Q.each(i,function(k,t){if(t.groupId===N){j={"oNewGroup":t,"newGroupIndex":k};}});return j;},_moveTile:function(i,E,j){var k=j.toIndex,N=j.toGroupId,t=j.sTileId,p=j.source,q=j.sTileType==="tiles"||j.sTileType==="tile"?"tile":"link",v=j.sToItems,w=j.sFromItems,x=this.oPageBuilderService,A=this.oModel.getProperty("/tileActionModeActive"),y=this.oModel.getProperty("/groups"),z,H,R,I,J,K,L={};J=this._getTileInfo(y,t,w);K=this._getNewGroupInfo(y,N);if(J.oGroup.groupId===K.oNewGroup.groupId&&(p==="movetileDialog"||k===null||p==="movelinkDialog")){return;}if(q==="link"){J.oTile.content[0].addStyleClass("sapUshellZeroOpacity");}if(q==="tile"&&v==="tiles"){if(k&&k>K.oNewGroup[v].length){k=K.oNewGroup[v].length;}}if(J.oGroup.groupId===N&&v===w){if(k===null||k===undefined){J.oGroup[v].splice(J.tileIndex,1);k=J.oGroup[v].length;J.oGroup[v].push(J.oTile);}else{k=this._adjustTileIndex(k,J.oTile,J.oGroup,v);this._moveInArray(J.oGroup[v],J.tileIndex,k);}this.oModel.setProperty("/groups/"+J.groupIndex+"/"+v,J.oGroup[v]);}else{I=this.oModel.getProperty("/personalization");J.oGroup[w].splice(J.tileIndex,1);J.oGroup.visibilityModes=u.calcVisibilityModes(J.oGroup,I);this.oModel.setProperty("/groups/"+J.groupIndex+"/"+w,J.oGroup[w]);if(k===null||k===undefined){k=K.oNewGroup[v].length;K.oNewGroup[v].push(J.oTile);}else{k=this._adjustTileIndex(k,J.oTile,K.oNewGroup,v);K.oNewGroup[v].splice(k,0,J.oTile);}K.oNewGroup.visibilityModes=u.calcVisibilityModes(K.oNewGroup,I);this.oModel.setProperty("/groups/"+K.newGroupIndex+"/"+v,K.oNewGroup[v]);}e.emit("updateGroups",Date.now());u.handleTilesVisibility();z=this.oModel.getProperty("/groups/"+J.groupIndex);H=this.oModel.getProperty("/groups/"+K.newGroupIndex);L=this._getIndexForMove(w,J.tileIndex,k,K.oNewGroup,z);function M(){try{R=this.oPageBuilderService.moveTile(J.oTile.object,L.tileIndex,L.newTileIndex,z.object,H.object,q);}catch(O){this._resetGroupsOnFailure("fail_to_move_tile_msg");return;}J.oTile.tileIsBeingMoved=true;R.done(this._handleAfterSortable(Q.proxy(function(t,U){var V,W=[x.getTileTitle(J.oTile.object),x.getGroupTitle(z.object),x.getGroupTitle(H.object),t];o(c.MOVE_TILE,W);V=this._getPathOfTile(t);if(V){this.oModel.setProperty(V+"/object",U);this.oModel.setProperty(V+"/originalTileId",this.oPageBuilderService.getTileId(U));l();this.oPageBuilderService.getTileView(U).done(function(X){var Y=this.oModel.getProperty(V+"/content");if(v==="links"){this._changeLinkScope(X,A?"Actions":"Display");this._attachLinkPressHandlers(X);this._addDraggableAttribute(X);this._handleTileAppearanceAnimation(X);J.oTile.content=[X];this.oModel.setProperty(V,Q.extend({},J.oTile));this.oModel.setProperty("/groups/"+K.newGroupIndex+"/"+v,this.oModel.getProperty("/groups/"+K.newGroupIndex+"/"+v));}else{this.oModel.setProperty(V+"/content",[X]);}if(Y&&Y[0]){var Z=X.onAfterRendering;X.onAfterRendering=function(){Z.apply(this);Y[0].destroy();X.onAfterRendering=Z;};}this.oModel.setProperty(V+"/tileIsBeingMoved",false);if(j.callBack){j.callBack(X);}}.bind(this));}},this,t)));R.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_move_tile_msg")));}h(M.bind(this));},_adjustTileIndex:function(j,t,k,I){var v=0,p=false,i=0;for(i=0;i<k[I].length&&v<j;i++){if(k[I][i].isTileIntentSupported){if(k[I][i]===t){p=true;}else{v++;}}}if(p){return i-1;}return i;},getModel:function(){return this.oModel;},getDashboardView:function(){return this.oDashboardView;},setDashboardView:function(i){this.oDashboardView=i;return this;},updateSettings:function(i){this.oModel=i.model||this.oModel;this.oConfig=i.config||this.oConfig;this.oRouter=i.router||this.oRouter;this.oDashboardView=i.view||this.oDashboardView;},_getIsAppBox:function(i){if(!sap.ushell.Container){return false;}var j=this.oPageBuilderService,I=!!(j.getCatalogTileTargetURL(i)&&(j.getCatalogTilePreviewTitle(i)||j.getCatalogTilePreviewSubtitle(i)));return I;},_resetGroupsOnFailureHelper:function(M){var t=this;return function(i){m.showLocalizedError(M);n();window.setTimeout(function(){t.bStartLoadRemainSegment=false;t.loadGroupsFromArray(i);});};},_resetGroupsOnFailure:function(M,p){n();m.showLocalizedError(M,p);this.loadPersonalizedGroups();this.oModel.updateBindings(true);},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments);},_bindSegment:function(i,j){var k,p,q,t;for(k=0;k<j.length;k++){q=j[k];t=q.index;p=i[t];if(p){p.isRendered=true;p.tiles=p.tiles.concat(q.tiles);p.links=p.links.concat(q.links);}}return i;},createGroupsModelFrame:function(i,p){var j,k=[],O,q;q=function(t){var v=Q.extend({},t);v.tiles=[];v.pendingLinks=[];v.links=[];return v;};for(j=0;j<i.length;j++){O=i[j];k[j]=q(O);k[j].isRendered=false;k[j].visibilityModes=u.calcVisibilityModes(O,p);}return k;},_splitGroups:function(i,j){var k,t=[],p=0,I=this.oModel.getProperty("/homePageGroupDisplay")==="tabs",q=0,v;var w=500;for(k=0;k<i.length;k++){v=i[k];t.push(v);if(!this.segmentsStore.length){p+=this.PagingManager.getGroupHeight(v,j===k);}else{q+=v.tiles.length+v.links.length;}if(I&&!this.segmentsStore.length&&p>0){t.loadTilesView=true;this.segmentsStore.push(t);t=[];p=0;}if(p>=1||q>=w){this.segmentsStore.push(t);t=[];p=0;q=0;}}if(t.length){this.segmentsStore.push(t);}},_processSegment:function(i){var j=this.segmentsStore.shift();if(!j){return i;}if(this.isBlindLoading()===false){if(this.oModel.getProperty("/homePageGroupDisplay")!=="tabs"||j.loadTilesView){this.getSegmentContentViews(j);}}i=this._bindSegment(i,j);return i;},getSegmentContentViews:function(i){var j,k,p,q;for(j=0;j<i.length;j++){p=i[j];for(k=0;k<p.tiles.length;k++){q=p.tiles[k];if(q.isTileIntentSupported){this.getTileView(q);}}for(k=0;k<p.links.length;k++){q=p.links[k];if(q.isTileIntentSupported){this.getTileView(q,p.index);}}}this.bIsFirstSegmentViewLoaded=true;},getSegmentTabContentViews:function(i,E,p){var j,k,q=p.iSelectedGroup,t;t=this.oModel.getProperty("/groups/"+q);for(j=0;j<t.tiles.length;j++){k=t.tiles[j];if(k.isTileIntentSupported){this.getTileView(k);}}for(j=0;j<t.links.length;j++){k=t.links[j];if(k.isTileIntentSupported){this.getTileView(k,q);}}},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=false;this.bGroupsModelLoadingInProcess=true;this.loadPersonalizedGroups();},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=false;if(this.bIsGroupsModelDirty){this._handleBookmarkModelUpdate();}},handleFirstSegmentLoaded:function(){var i=this.oModel.getProperty("/groups");if(this.aGroupsFrame){Array.prototype.push.apply(i,this.aGroupsFrame);this.aGroupsFrame=null;}this._initializeAnchorNavigationBar();if(!this.bStartLoadRemainSegment){this._processRemainingSegments();}},_initializeAnchorNavigationBar:function(){var A,i=sap.ushell.components.getHomepageManager().getDashboardView();A=i._getAnchorItemTemplate();this.oDashboardView.oAnchorNavigationBar.bindAggregation("groups",{path:"/groups",template:A});},_processRemainingSegments:function(){var U;if(this.segmentsStore.length>0){window.setTimeout(function(){U=this._processSegment(this.oModel.getProperty("/groups"));this.oModel.setProperty("/groups",U);this.bIsFirstSegment=false;this._processRemainingSegments();}.bind(this),0);}else{this._updateModelWithTileView(0,0);u.handleTilesVisibility();sap.ui.getCore().getEventBus().publish("launchpad","dashboardModelContentLoaded");e.emit("updateGroups",Date.now());}},loadGroupsFromArray:function(j){var t=this;Q.sap.flpmeasure.end(0,"Service: Get Data for Dashboard");Q.sap.flpmeasure.start(0,"Process & render the first segment/tiles",4);Q.sap.measure.start("FLP:DashboardManager.loadGroupsFromArray","loadGroupsFromArray","FLP");Q.sap.measure.start("FLP:DashboardManager.getDefaultGroup","getDefaultGroup","FLP");this.oPageBuilderService.getDefaultGroup().done(function(k){Q.sap.measure.end("FLP:DashboardManager.getDefaultGroup");if(j.length===0&&k===undefined){return;}var i=0,p=[],q,v=j.indexOf(k),w,N,z=[],A,E,H,I,J,K=0,L=0,M,O,R=null,U,V,W=[];j.splice(v,1);while(i<j.length){A=j[i];E=t.oPageBuilderService.isGroupLocked(A);if(E){p.push(A);j.splice(i,1);}else{i++;}}w=p.length;if(!t.oModel.getProperty("/disableSortedLockedGroups")){p.sort(function(x,y){var Z=t.oPageBuilderService.getGroupTitle(x).toLowerCase(),$=t.oPageBuilderService.getGroupTitle(y).toLowerCase();return Z<$?-1:1;});}p.sort(function(x,y){var Z=t.oPageBuilderService.isGroupFeatured(x),$=t.oPageBuilderService.isGroupFeatured(y);if(Z===$){return 0;}else if(Z>$){return-1;}return 1;});q=p;q.push(k);q.push.apply(q,j);j=q;H=j.length;J=t.oModel.getProperty("/groups/length");for(i=H;i<J;++i){d.destroyFLPAggregationModel(t.oModel.getProperty("/groups/"+i));}t.oModel.setProperty("/iSelectedGroup",I);if(!t.PagingManager){var X=Q("#dashboardGroups").width();if(!X){X=window.innerWidth;if(X>=1024&&t.oModel.getProperty("/enableNotificationsPreview")){X-=27*16;}}var Y=Q("#sapUshellDashboardPage-cont").height();if(Y<100){Y=window.innerHeight;}t.PagingManager=new P("dashboardPaging",{supportedElements:{tile:{className:"sapUshellTile"},link:{className:"sapUshellLinkTile"}},containerHeight:Y,containerWidth:X});}Q.sap.measure.start("FLP:DashboardManager._getGroupModel","_getGroupModel","FLP");for(i=0;i<H;++i){N=t._getGroupModel(j[i],i===w,i===H-1);N.index=i;if(N.isGroupVisible){K+=N.tiles.length;}z.push(N);}t.bIsScrollModeAccordingKPI=K>t.iMinNumOfTilesForBlindLoading;Q.sap.measure.end("FLP:DashboardManager._getGroupModel");t.aGroupsFrame=t.createGroupsModelFrame(z,t.oModel.getProperty("/personalization"));for(i=0;i<t.aGroupsFrame.length;i++){if(t.aGroupsFrame[i].isGroupVisible&&t.aGroupsFrame[i].visibilityModes[0]){if(R===null){R=i;t.aGroupsFrame[i].isGroupSelected=true;t.oModel.setProperty("/iSelectedGroup",i);}L++;if(L>1){t.aGroupsFrame[R].showGroupHeader=false;break;}}}t._splitGroups(z,R);O=t.segmentsStore[0].length;M=t.aGroupsFrame.splice(0,O);Q.sap.measure.start("FLP:DashboardManager._processSegment","_processSegment","FLP");W=t._processSegment(M);W.indexOfDefaultGroup=w;if(t.oModel.getProperty("/homePageGroupDisplay")==="tabs"){U=t.getDashboardView();V=U.oDashboardGroupsBox;V.getBinding("groups").filter([U.oFilterSelectedGroup]);}Q.sap.measure.end("FLP:DashboardManager._processSegment");t.oModel.setProperty("/groups",W);t.aGroupModel=W;if(t.oDashboardView){e.once("firstSegmentCompleteLoaded").do(function(){u.setPerformanceMark("FLP-TTI-Homepage",{bUseUniqueMark:true});u.setPerformanceMeasure("FLP-TTI-Hompage");}).do(t.handleFirstSegmentLoaded.bind(t));}else{setTimeout(function(){Array.prototype.push.apply(t.aGroupModel,t.aGroupsFrame);t.aGroupsFrame=null;t.bStartLoadRemainSegment=true;t._processRemainingSegments();},0);}if(t.bIsFirstSegmentViewLoaded){e.emit("firstSegmentCompleteLoaded",true);}Q.sap.measure.end("FLP:DashboardManager.loadGroupsFromArray");Q.sap.flpmeasure.end(0,"Process & render the first segment/tiles");}).fail(t._resetGroupsOnFailureHelper("fail_to_get_default_group_msg"));},getPreparedGroupModel:function(){return this.aGroupModel;},_loadGroup:function(i,j){var t=this,k="/groups/"+i,p=t.oModel.getProperty("/groups/indexOfDefaultGroup"),I=t.oModel.getProperty(k).isLastGroup,O,N;d.destroyFLPAggregationModel(t.oModel.getProperty(k));O=this.oModel.getProperty(k+"/groupId");N=this._getGroupModel(j,i===p,I,undefined);if(O){N.groupId=O;}N.index=i;N.isRendered=true;this.oModel.setProperty(k,N);},_getGroupModel:function(j,k,L,p){var q=this.oPageBuilderService,t=(j&&q.getGroupTiles(j))||[],M=[],v=[],i,w,x=this.getModel();w=x.getProperty("/personalization");var I=!!(j&&q.isGroupLocked(j)),y=!!(j&&q.isGroupFeatured(j));for(i=0;i<t.length;++i){var z=t[i],A=q.getTileType(z).toLowerCase();if(A==="tile"||A==="card"){M.push(this._getTileModel(t[i],I,A));}else if(A==="link"){v.push(this._getTileModel(t[i],I,A));}else{Q.sap.log.error("Unknown tile type: '"+A+"'",undefined,"sap.ushell.components.HomepageManager");}}return{title:(k&&m.getLocalizedText("my_group"))||(j&&q.getGroupTitle(j))||(p&&p.title)||"",object:j,groupId:Q.sap.uid(),links:v,pendingLinks:[],tiles:M,isDefaultGroup:!!k,editMode:!j,isGroupLocked:I,isFeatured:y,visibilityModes:[true,true],removable:!j||q.isGroupRemovable(j),sortable:w,isGroupVisible:!j||q.isGroupVisible(j),isEnabled:!k,isLastGroup:L||false,isRendered:!!(p&&p.isRendered),isGroupSelected:false};},_hasPendingLinks:function(M){for(var i=0;i<M.length;i++){if(M[i].content[0]===undefined){return true;}}return false;},_addModelToTileViewUpdateQueue:function(t,i){this.tileViewUpdateQueue.push({uuid:t,view:i});},_updateModelWithTileView:function(i,j){var t=this;if(this.tileViewUpdateTimeoutID){clearTimeout(this.tileViewUpdateTimeoutID);}this.tileViewUpdateTimeoutID=window.setTimeout(function(){t.tileViewUpdateTimeoutID=undefined;t.oSortableDeferred.done(function(){t._updateModelWithTilesViews(i,j);});},50);},_updateGroupModelWithTilesViews:function(t,i,k,p){var v,U,w,L,x=i||0;for(var j=x;j<t.length;j=j+1){v=t[j];for(var q=0;q<this.tileViewUpdateQueue.length;q++){U=this.tileViewUpdateQueue[q];if(v.uuid===U.uuid){k.push(q);if(U.view){if(p){v.content=[U.view];}else{v.content[0].destroy();v.content=[U.view];}this.oDashboardLoadingManager.setTileResolved(v);w=this.oPageBuilderService.getTileSize(v.object);L=((w!==null)&&(w==="1x2"))||false;if(v.long!==L){v.long=L;}}else{v.content[0].setState("Failed");}break;}}}},_updateModelWithTilesViews:function(j,k){var p=this.oModel.getProperty("/groups"),q=j||0,t=[];if(!p||this.tileViewUpdateQueue.length===0){return;}for(var i=q;i<p.length;i=i+1){this._updateGroupModelWithTilesViews(p[i].tiles,k,t);if(p[i].links){this._updateGroupModelWithTilesViews(p[i].links,k,t,true);if(p[i].pendingLinks.length>0){if(!p[i].links){p[i].links=[];}p[i].links=p[i].links.concat(p[i].pendingLinks);p[i].pendingLinks=[];}}}var v=[],w;for(w=0;w<this.tileViewUpdateQueue.length;w++){if(t.indexOf(w)===-1){v.push(this.tileViewUpdateQueue[w]);}}this.tileViewUpdateQueue=v;this.oModel.setProperty("/groups",p);},getModelTileById:function(i,I){var j=this.oModel.getProperty("/groups"),M,k=false;j.every(function(p){p[I].every(function(t){if(t.uuid===i||t.originalTileId===i){M=t;k=true;}return!k;});return!k;});return M;},_addDraggableAttribute:function(v){if(this.isIeHtml5DnD()){v.addEventDelegate({onAfterRendering:function(){this.$().attr("draggable","true");}.bind(v)});}},_attachLinkPressHandlers:function(v){var E=sap.ui.getCore().getEventBus(),t=v.attachPress?v:v.getContent()[0];t.attachPress(function(i){var j=v.getBindingContext().getObject().tileIsBeingMoved;if(!j&&this.getScope&&this.getScope()==="Actions"){switch(i.getParameters().action){case"Press":sap.ushell.components.homepage.ActionMode._openActionsMenu(i,v);break;case"Remove":var k=v.getBindingContext().getObject().uuid;E.publish("launchpad","deleteTile",{tileId:k,items:"links"});break;}}else{E.publish("launchpad","dashboardTileLinkClick");}});},handleDisplayModeChange:function(N){this.oModel.setProperty("/homePageGroupDisplay",N);switch(N){case"scroll":this._handleDisplayModeChangeToScroll();break;case"tabs":this._handleDisplayModeChangeToTabs();break;}},_handleDisplayModeChangeToTabs:function(){var j=this.oModel.getProperty("/iSelectedGroup"),k=this.oModel.getProperty("/groups");if(k.length>0){for(var i=0;i<k.length;i++){this.oModel.setProperty("/groups/"+i+"/isGroupSelected",false);}this.oModel.setProperty("/groups/"+j+"/isGroupSelected",true);}},_handleDisplayModeChangeToScroll:function(){if(this.isBlindLoading()){return;}var k=this.oModel.getProperty("/groups"),p,t,q,L=[],i,j;for(i=0;i<k.length;i++){p=k[i];t=p.tiles||[];for(j=0;j<t.length;j++){q=t[j];if(q.content.length===0){this.getTileView(q,i);}}L=p.links||[];for(j=0;j<L.length;j++){this.getTileView(L[j],i);}}this.oModel.refresh(false);var v=this.oModel.getProperty("/iSelectedGroup");if(v){setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","scrollToGroup",{groupId:k[v].groupId});},100);}},getTileViewsFromArray:function(R){var t=this;if(R.length===0){return;}R.forEach(function(i){t.getTileView(i.oTile,i.iGroup);});this.oModel.refresh(false);if(this.bIsFirstSegmentViewLoaded===false){this.bIsFirstSegmentViewLoaded=true;e.emit("firstSegmentCompleteLoaded",true);}},getTileView:function(t,i){var p=this.oPageBuilderService,j=p.getTileType(t.object);if(this.oDashboardLoadingManager.isTileViewRequestIssued(t)){return;}this.oDashboardLoadingManager.setTileInProgress(t);p.setTileVisible(t.object,false);if(j==="card"){this._loadCardData(t);}else{this._loadTileData(t,i,j);}},_loadCardData:function(i){var j=sap.ui.getCore().byId(i.controlId),p=Q.sap.flpmeasure.startFunc(0,"Loading of data and rendering for all cards",5,"loadCardData",i.object);if(j&&j.setManifest&&this.isBlindLoading()){j.setManifest(i.manifest);}i.content=[i.manifest];this.oDashboardLoadingManager.setTileResolved(i);Q.sap.flpmeasure.endFunc(0,"Loading of data and rendering for all cards",p);},_loadTileData:function(t,i,j){var p=this.oPageBuilderService,k,q=this,M,v,w,U=this._addModelToTileViewUpdateQueue,x,N=false,y=t.uuid,z=false,A=Q.sap.flpmeasure.startFunc(0,"Service + model binding and rendering for all tile-Views",5,"getTileView",t.object);k=p.getTileView(t.object);if(k.state()==="resolved"){z=true;}k.done(function(V){if(V.oController&&V.oController.navigationTargetUrl&&!t.isCustomTile){t.target=V.oController.navigationTargetUrl;}x=V;if(x.getComponentInstance){Q.sap.measure.average("FLP:getComponentInstance","get info for navMode","FLP1");var E=x.getComponentInstance().getComponentData();if(E&&E.properties){t.navigationMode=E.properties.navigationMode;}Q.sap.measure.end("FLP:getComponentInstance");}q.oDashboardLoadingManager.setTileResolved(t);M=V.getMode?V.getMode():"ContentMode";if(q.bLinkPersonalizationSupported&&M==="LineMode"){q._attachLinkPressHandlers(x);q._addDraggableAttribute(x);if(i>=0){v=q.oModel.getProperty("/groups");if(v[i]){t.content=[x];w=q.oModel.getProperty("/groups/"+i+"/links");q.oModel.setProperty("/groups/"+i+"/links",[]);q.oModel.setProperty("/groups/"+i+"/links",w);}}}else if(q.isBlindLoading()){if(t.content&&t.content.length>0){t.content[0].destroy();}t.content=[x];if(i>=0&&!z){q.oModel.refresh(false);}}if(q.isBlindLoading()){var H=q.oPageBuilderService.getTileSize(t.object);var L=H==="1x2";if(t.long!==L){t.long=L;}}else if(M==="LineMode"){t.content=[x];if(N){w=q.oModel.getProperty("/groups/"+i+"/links");q.oModel.setProperty("/groups/"+i+"/links",[]);q.oModel.setProperty("/groups/"+i+"/links",w);}}else if(t.content.length===0){t.content=[x];}else{U.apply(q,[y,x]);q._updateModelWithTileView(0,0);}Q.sap.flpmeasure.endFunc(0,"Service + model binding and rendering for all tile-Views",A);});k.fail(function(){if(q.sTileType==="link"&&this.bLinkPersonalizationSupported){var E=q.oPageBuilderService.getCatalogTilePreviewSubtitle(t);var H=q.oPageBuilderService.getCatalogTilePreviewTitle(t);if(!H&&!E){H=r.i18n.getText("cannotLoadLinkInformation");}x=new G({mode:"LineMode",state:"Failed",header:H,subheader:E});}else{x=new T({state:"Failed"});}t.content=[x];});if(!x){if(p.getTileType(t.object)==="link"){N=true;x=new G({mode:"LineMode"});}else{x=new T();}t.content=[x];}},_getTileModel:function(t,i,j){var k=this.oPageBuilderService,p=Q.sap.uid(),q,v=k.getTileSize(t),L=[],M;this.sTileType=j;if(j==="link"){L=[new G({mode:"LineMode"})];}q={"isCustomTile":!this._getIsAppBox(t),"object":t,"originalTileId":k.getTileId(t),"uuid":p,"tileCatalogId":encodeURIComponent(k.getCatalogTileId(t)),"content":L,"long":v==="1x2","target":k.getTileTarget(t)||"","debugInfo":k.getTileDebugInfo(t),"isTileIntentSupported":k.isTileIntentSupported(t),"rgba":"","isLocked":i,"showActionsIcon":this.oModel.getProperty("/enableTileActionsIcon")||false,"navigationMode":this.navigationMode};if(j==="card"){M=k.getCardManifest(t);q.isCard=true;if(M){q.manifest=M;}}return q;},isIeHtml5DnD:function(){return(D.browser.msie||D.browser.edge)&&(D.system.combi||D.system.tablet);},loadPersonalizedGroups:function(){Q.sap.flpmeasure.start(0,"Service: Get Data for Dashboard",4);Q.sap.measure.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return this.oPageBuilderService.getGroups().done(function(i){Q.sap.measure.end("FLP:DashboardManager.loadPersonalizedGroups");this.loadGroupsFromArray(i);}.bind(this)).fail(function(){m.showLocalizedError("fail_to_load_groups_msg");});}});});
sap.ui.predefine('sap/ushell/components/SharedComponentUtils',["sap/ui/Device","sap/ushell/Config","sap/ushell/UserActivityLog","sap/ushell/components/homepage/ComponentKeysHandler","sap/ushell/renderers/fiori2/AccessKeysHandler","sap/ushell/bootstrap/common/common.load.model","sap/base/Log"],function(D,C,U,a,A,m,L){"use strict";var s={PERS_KEY:"flp.settings.FlpSettings",bFlpSettingsAdded:false,toggleUserActivityLog:function(){C.on("/core/extension/SupportTicket").do(function(c){if(c){U.activate();}else{U.deactivate();}});},initializeAccessKeys:function(){if(D.system.phone){return;}a.init(m.getModel());A.registerAppKeysHandler(a.handleFocusOnMe);},getEffectiveHomepageSetting:function(c,b){var p,d=new jQuery.Deferred(),e=C.last(b)!==false,i=c.split("/").reverse()[0];if(e){p=this._getPersonalization(i);}else{p=jQuery.Deferred().resolve();}p.done(function(v){v=v||C.last(c);if(v!==undefined){C.emit(c,v);}d.resolve(v);});p.fail(function(){var v=C.last(c);d.resolve(v);});return d;},_getPersonalization:function(i){var p=s.getPersonalizer(i,sap.ushell.Container.getRenderer("fiori2"));var P=p.getPersData();P.fail(function(e){L.error("Failed to load "+i+" from the personalization",e,"sap.ushell.components.flp.settings.FlpSettings");});return P;},getPersonalizer:function(i,c){var p=sap.ushell.Container.getService("Personalization");var o=sap.ui.core.Component.getOwnerComponentFor(c);var S={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true};var P={container:this.PERS_KEY,item:i};return p.getPersonalizer(P,S,o);}};return s;});
sap.ui.predefine('sap/ushell/components/StateHelper',[],function(){"use strict";function g(s){var p=[],i;s=s||[];for(i=0;i<s.length;i++){if(s[i]!==undefined){if(s[i]!=="home"&&s[i]!=="app"){throw new Error("sLaunchpadState value is invalid");}p.push(s[i]);}}if(!p.length){p=["app","home"];}return p;}function a(s,d){var m=[];if(s==="app"&&!d){var A=["app","minimal","standalone","embedded","headerless","merged","blank","lean"];m=m.concat(A);}else if(s==="home"&&!d){var h=["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"];m=m.concat(h);}else{m.push(s);}return m;}function b(s,d){var p=d?s:g(s);return p.reduce(function(r,S){var m=a(S,d);if(m){r=r.concat(m);}return r;},[]);}return{getAllStateToUpdate:b,getModelStates:a,getPassStates:g};});
sap.ui.predefine('sap/ushell/components/_HeaderManager/AddHeadEndItemsStrategyFiori3',["sap/base/Log"],function(L){"use strict";function v(E,i){var b=0,c,I;if(!E||!i){return false;}var n=i.some(function(I){var N=!sap.ui.getCore().byId(I);if(N){L.warning("Failed to find control with id '{id}'".replace("{id}",I));}return N;});if(n){return false;}if(i.length===1&&i[0]==="endItemsOverflowBtn"){return true;}for(c=0;c<E.length;c++){I=E[c];if(I!=="endItemsOverflowBtn"){b++;}if(b+i.length>6){jQuery.sap.log.warning("maximum of six items has reached, cannot add more items.");return false;}if(i.indexOf(I)>-1){return false;}}return true;}function a(c,i){var n=c.slice(0);n.sort();n=n.concat(i);var b=n.indexOf("meAreaHeaderButton");if(b!==-1){n.splice(b,1);n.splice(n.length,0,"meAreaHeaderButton");}var d=n.indexOf("NotificationsCountButton");if(d!==-1){n.splice(d,1);n.splice(n.length-1,0,"NotificationsCountButton");}var f=n.indexOf("sf");if(f!==-1){n.splice(f,1);n.splice(0,0,"sf");}return n;}function e(c,V){var r=c;if(v(c,V)){r=a(c,V);}return r;}return{execute:e};});
sap.ui.predefine('sap/ushell/components/_HeaderManager/AddHeadItemsStrategyFiori3',[],function(){"use strict";function a(E,i){return E.indexOf(i)===-1?E.concat(i):E;}function A(E,i){return i.reduce(a,E);}function f(r){return function(i){return r.indexOf(i)===-1;};}function v(E,i){return A(E,i.filter(f(['backBtn','homeBtn']))).length<=3;}function b(c,I){var n=[],C=c.concat(I);if(c.indexOf("backBtn")>-1||I.indexOf("backBtn")>-1){n.push("backBtn");}if(c.indexOf("homeBtn")>-1||I.indexOf("homeBtn")>-1){n.push("homeBtn");}if(n.length<3){for(var i=0;i<C.length;i++){var s=C[i];if(n.indexOf(s)===-1){n.push(s);}if(n.length>=3){break;}}}return n;}function e(c,V){var r=c;if(v(c,V)){r=b(c,V);}return r;}return{execute:e};});
sap.ui.predefine('sap/ushell/components/_HeaderManager/ControlManager',["sap/ushell/EventHub","sap/ui/core/IconPool","sap/ushell/Config","sap/ushell/renderers/fiori2/AccessKeysHandler","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/ui/footerbar/ContactSupportButton","sap/ushell/ui/footerbar/EndUserFeedback","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/utils","sap/ui/core/CustomData","sap/ushell/ui/shell/ShellNavigationMenu"],function(E,I,C,A,r,a,b,c,S,u,d,e){"use strict";var f=[];var D=[];var g={SHELL_NAV_MENU_ONLY:0,ALL_MY_APPS_ONLY:1,SHELL_NAV_MENU:2,ALL_MY_APPS:3};function i(w,H,x){f.push(k(w));f.push(m(H));f.push(q(H,x));f.push(n(x));if(C.last("/core/shell/model/enableNotifications")){f.push(p(x));}if(w.moveEditHomePageActionToShellHeader){f.push(l());}if(w.moveAppFinderActionToShellHeader){f.push(s(w,H));}if(w.moveUserSettingsActionToShellHeader){f.push(j(H));}if(w.moveContactSupportActionToShellHeader){f.push(t());}if(w.moveGiveFeedbackActionToShellHeader){f.push(v());}D.push(E.once("CoreResourcesComplementLoaded").do(function(){_(w,x,H);}.bind(this)));}function h(){f.forEach(function(w){var x=sap.ui.getCore().byId(w);if(x){if(x.destroyContent){x.destroyContent();}x.destroy();}});D.forEach(function(w){w.off();});f=[];D=[];}function _(w,x,y){sap.ui.require(["sap/m/StandardListItem","sap/ushell/ui/shell/NavigationMiniTile"],function(z,N){var M="shellNavigationMenu";var H=function(J,K){var L=K.getProperty("icon")||"sap-icon://circle-task-2",T=K.getProperty("title"),O=K.getProperty("subtitle"),P=T,Q=K.getProperty("intent");if(O){P=P+"\n"+O;}var U=(new z({type:"Active",title:T,description:O,tooltip:P,icon:L,customData:[new d({key:"intent",value:Q})],press:[y.handleNavigationMenuItemPress,y]})).addStyleClass("sapUshellNavigationMenuListItems");return U;};var R=function(J,K){var L=K.getProperty("icon"),T=K.getProperty("title"),O=K.getProperty("subtitle"),P=K.getProperty("intent");return new N({title:T,subtitle:O,icon:L,intent:P,press:function(){var Q=this.getIntent();if(Q&&Q[0]==="#"){y.navigateFromShellApplicationNavigationMenu(Q);}}});};var B=new e(M,{title:"{/application/title}",icon:"{/application/icon}",showTitle:{path:"/application/showNavMenuTitle"},showRelatedApps:w.appState!=="lean",items:{path:"/application/hierarchy",factory:H.bind(this)},miniTiles:{path:"/application/relatedApps",factory:R.bind(this)},visible:{path:"/ShellAppTitleState",formatter:function(J){return J===g.SHELL_NAV_MENU;}}});var F=sap.ui.getCore().byId("shell-header");B.setModel(F.getModel());var G=sap.ui.getCore().byId("shellAppTitle");if(G){G.setNavigationMenu(B);}f.push(M);return M;}.bind(this));}function j(w){var x="userSettingsBtn";var U=sap.ui.getCore().byId(x);var y=function(){jQuery.sap.measure.start("FLP:ElementsModel._attachPressToUserSettings","_attachPressToUserSettings","FLP");var B=sap.ui.getCore().byId(x);if(B){B.attachPress(w.handleUserSettingsPress);}jQuery.sap.measure.end("FLP:ElementsModel._attachPressToUserSettings");};if(!U){var z=new S({id:x,icon:"sap-icon://action-settings",tooltip:"{i18n>userSettings}",text:"{i18n>userSettings}"});z.data("isShellHeader",true);D.push(E.on("CenterViewPointContentRendered").do(y));}return x;}function k(w){var x="homeBtn";var H=new S({id:x,tooltip:"{i18n>homeBtn_tooltip}",ariaLabel:"{i18n>homeBtn_tooltip}",icon:I.getIconURI("home"),target:w.rootIntent?"#"+w.rootIntent:"#"});H.addCustomData(new a({key:"aria-disabled",value:"false",writeToDom:true}));H.addEventDelegate({onsapskipback:function(y){if(A.getAppKeysHandler()){y.preventDefault();A.bFocusOnShell=false;}},onsapskipforward:function(y){if(A.getAppKeysHandler()){y.preventDefault();A.bFocusOnShell=false;}}});return x;}function l(){var w="ActionModeBtn";var T=new S({id:w,icon:"sap-icon://edit",visible:false});T.data("isShellHeader",true);if(C.last("/core/extension/enableHelp")){T.addStyleClass("help-id-openCatalogActionItem");}return w;}function m(w){var B=sap.ui.getCore().getConfiguration().getRTL()?"feeder-arrow":"nav-back";var x=new S({id:"backBtn",tooltip:"{i18n>backBtn_tooltip}",ariaLabel:"{i18n>backBtn_tooltip}",icon:I.getIconURI(B),press:w.pressNavBackButton.bind(w)});return x.getId();}function n(w){var x="meAreaHeaderButton";var M=new S({id:x,icon:"{/userImage/personPlaceHolder}",ariaLabel:"{i18n>MeAreaToggleButtonAria}",tooltip:sap.ushell.Container.getUser().getFullName(),press:function(){E.emit("showMeArea",Date.now());}});M.addEventDelegate({onsapskipforward:function(y){sap.ushell.renderers.fiori2.AccessKeysHandler.bForwardNavigation=true;y.preventDefault();window.document.getElementById("sapUshellHeaderAccessibilityHelper").focus();}});M.setModel(w);return x;}function o(B){B.applySettings({floatingNumber:{parts:["/notificationsCount"],formatter:function(w){var x=this.getDomRef(),y="";if(x){if(w>0){y=r.i18n.getText("NotificationToggleButtonCollapsed",w);}else{y=r.i18n.getText("NotificationToggleButtonCollapsedNoNotifications");}x.setAttribute("aria-label",y);}return w;}}},true,true);}function p(w){var x="NotificationsCountButton";var y="bell";var N=new S({id:x,icon:sap.ui.core.IconPool.getIconURI(y),text:"{i18n>notificationsBtn_title}",visible:true,enabled:false,press:function(){E.emit("showNotifications",Date.now());}});N.setModel(w);N.setModel(r.i18nModel,"i18n");o(N);return x;}function q(w,x){var y=new S({id:"endItemsOverflowBtn",tooltip:"{i18n>shellHeaderOverflowBtn_tooltip}",ariaLabel:"{i18n>shellHeaderOverflowBtn_tooltip}",icon:"sap-icon://overflow",press:[w.pressEndItemsOverflow,w],visible:true});o(y);y.setModel(x);return y.getId();}function s(w,x){var y="openCatalogBtn";var O=new S({id:y,text:"{i18n>open_appFinderBtn}",tooltip:"{i18n>open_appFinderBtn}",icon:"sap-icon://sys-find",visible:!w.disableAppFinder,press:x.handleAppFinderPress});O.data("isShellHeader",true);if(C.last("/core/extension/enableHelp")){O.addStyleClass("help-id-openCatalogActionItem");}return y;}function t(){var B="ContactSupportBtn",w=sap.ui.getCore().byId(B);if(!w){var T=new b("tempContactSupportBtn",{visible:true});var x=T.getIcon();var y=T.getText();var z=new S({id:B,icon:x,tooltip:y,text:y,press:function(){T.firePress();}});z.data("isShellHeader",true);}return B;}function v(){var B="EndUserFeedbackBtn",w=sap.ui.getCore().byId(B);if(!w){var T=new c("EndUserFeedbackHandlerBtn",{});var x=T.getIcon();var y=T.getText();var F=new S({id:B,icon:x,tooltip:y,addAriaHiddenFalse:true,ariaLabel:y,text:y,visible:false});F.data("isShellHeader",true);}return B;}return{init:i,destroy:h,_createOverflowButton:q};});
sap.ui.predefine('sap/ushell/components/_HeaderManager/ExtendApplicationPropertyStrategy',["jquery.sap.global"],function(q){"use strict";function e(c,v){if(!v){v={};}return q.extend(true,{},c,v);}return{execute:e};});
sap.ui.predefine('sap/ushell/components/_HeaderManager/PropertyStrategiesFactory',["./AddHeadItemsStrategyFiori3","./AddHeadEndItemsStrategyFiori3","./ExtendApplicationPropertyStrategy","./RemoveItemsStrategy","./SetHeadPropertyStrategy","sap/ushell/Config"],function(A,a,E,R,S,C){"use strict";return function(p,s){var o;switch(p){case"headItems":if(s==="remove"){o=R;}else{o=A;}break;case"headEndItems":if(s==="remove"){o=R;}else{o=a;}break;case"showLogo":case"headerVisible":case"centralAreaElement":case"title":o=S;break;case"application":o=E;break;case"application/hierarchy":case"application/icon":case"application/relatedApps":case"application/showNavMenuTitle":case"application/title":o=S;break;default:o=null;break;}return o;};});
sap.ui.predefine('sap/ushell/components/_HeaderManager/RemoveItemsStrategy',["jquery.sap.global"],function(q){"use strict";function v(E,i){return i.some(function(I){return(E.indexOf(I)>=0);});}function r(c,i){return c.filter(function(I){return(i.indexOf(I)===-1);});}function e(c,V){var R=c;if(v(c,V)){R=r(c,V);}else{q.sap.log.warning("You cannot remove item: "+V+", the item does not exists.");}return R;}return{execute:e};});
sap.ui.predefine('sap/ushell/components/_HeaderManager/SetHeadPropertyStrategy',[],function(){"use strict";function v(n){return n!==undefined;}function e(c,V){if(v(V)){return V;}return c;}return{execute:e};});
sap.ui.predefine('sap/ushell/components/_HeaderManager/ShellHeader.controller',['sap/ui/thirdparty/jquery','sap/ui/core/mvc/Controller','sap/ui/Device','sap/ui/model/json/JSONModel','sap/ushell/EventHub','sap/ushell/components/applicationIntegration/AppLifeCycle','sap/m/ListType','sap/ushell/ui/shell/OverflowListItem','sap/ushell/Config'],function(q,C,D,J,E,A,L,O,a){"use strict";return C.extend("sap.ushell.components._HeaderManager.ShellHeader",{shellUpdateAggItem:function(i,c){return sap.ui.getCore().byId(c.getObject());},pressNavBackButton:function(){E.emit('showMeArea',false);A.service().navigateBack();},pressEndItemsOverflow:function(e){var p=sap.ui.getCore().byId('headEndItemsOverflow'),m;if(!p){p=sap.ui.xmlfragment("sap.ushell.renderers.fiori2.HeadEndItemsOverflowPopover",this);m=new J({headEndItems:a.last("/core/shellHeader/headEndItems")});p.setModel(m);}if(p.isOpen()){p.close();}else{E.emit("showNotifications",false);p.openBy(e.getSource());}},headEndItemsOverflowItemFactory:function(i,c){var h=sap.ui.getCore().byId(c.getObject()),f=h.getBindingInfo("floatingNumber");var o=new O({id:i+"-"+h.getId(),icon:h.getIcon(),iconInset:true,title:h.getText(),type:L.Active,press:function(){if(h){h.firePress();}var p=sap.ui.getCore().byId("headEndItemsOverflow");if(p.isOpen()){p.close();}}});if(f){var m=h.getModel();o.setModel(m);o.bindProperty("floatingNumber",f);}return o;},destroyHeadEndItemsOverflow:function(e){e.getSource().destroy();},isHeadEndItemInOverflow:function(b){return b!=="ENDITEMSOVERFLOWBTN"&&!this.isHeadEndItemNotInOverflow(b);},isHeadEndItemNotInOverflow:function(b){var o=this.isHeadEndItemOverflow();var s=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;if(b==="ENDITEMSOVERFLOWBTN"){return o;}if(!o){return true;}if(["MEAREAHEADERBUTTON","BACKBTN"].indexOf(b)>-1){return true;}if(s==="Phone"){return false;}if(["SF","FLOATINGCONTAINERBUTTON"].indexOf(b)>-1){return true;}if(s==="Desktop"&&b==="COPILOTBTN"){return true;}return false;},isHeadEndItemOverflow:function(){var n=0,e,b=a.last("/core/shellHeader/headEndItems");if(b.indexOf("endItemsOverflowBtn")===-1){return false;}else{var c=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;var d=3;if(c==="Phone"){d=1;}for(var i=0;i<b.length;i++){e=sap.ui.getCore().byId(b[i]);if(e&&e.getVisible()){n++;}}if(sap.ui.getCore().byId("endItemsOverflowBtn").getVisible()){return n>d+1;}else{return n>d;}}},handleNavigationMenuItemPress:function(e){var d=e.getSource().getCustomData();if(d&&d.length>0){for(var i=0;i<d.length;i++){if(d[i].getKey()==="intent"){var l=d[i].getValue();if(l&&l[0]==="#"){this.navigateFromShellApplicationNavigationMenu(l);return;}}}}},navigateFromShellApplicationNavigationMenu:function(i){if(window.hasher.getHash()!==i.substr(1)){E.emit("centerViewPort",Date.now());window.hasher.setHash(i);}var s=sap.ui.getCore().byId("shellAppTitle");if(s){s.close();}},handleUserSettingsPress:function(){E.emit("openUserSettings",Date.now());},handleAppFinderPress:function(){q.sap.measure.start("FLP:AppFinderLoadingStartToEnd","AppFinderLoadingStartToEnd","FLP");sap.ushell.Container.getServiceAsync("URLParsing").then(function(u){var h;var s="#Shell-home&/appFinder/catalog";var S="Shell";var b="appfinder";if(u){h=u.parseShellHash(window.hasher.getHash());h.action=b;h.semanticObject=S;s="#"+u.constructShellHash(h);}setTimeout(function(){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(c){c.toExternal({target:{shellHash:s}});});},D.system.desktop?0:500);});}});});
sap.ui.predefine('sap/ushell/components/_HomepageManager/DashboardLoadingManager',["sap/ui/base/Object"],function(B){"use strict";var D=B.extend("sap.ushell.components._HomepageManager.DashboardLoadingManager",{metadata:{publicMethods:[]},constructor:function(i,s){var e=sap.ui.getCore().getEventBus();this.currentVisibleTiles=[];this.aRefreshTiles=[];this.oBusyIndicatorTiles={};this.oActiveDynamicTiles={};this.oResolvedTiles={};this.oInProgressTiles={};this.oDashboardManager=s.oDashboardManager;e.subscribe("launchpad","visibleTilesChanged",this._onVisibilityChanged,this);e.subscribe("launchpad","dashboardTileClick",this._addTileToRefreshArray,this);e.subscribe("launchpad","refresTiles",this._refreshTiles,this);e.subscribe("launchpad","setTilesNoVisibility",this._setTilesNoVisibility,this);e.subscribe("launchpad","onHiddenTab",this._setTilesNoVisibility,this);},_onVisibilityChanged:function(c,e,v){this.currentVisibleTiles=v;if(this.oDashboardManager.isBlindLoading()){this.manageTilesView();}this.manageBusyIndicatorTiles();this.manageDynamicTiles();},manageDynamicTiles:function(){var v;jQuery.sap.measure.average("DashboardLoadingManagerActiveDynamicTile","Manage Active Dynamic Tiles","FLP_SHELL");var l=sap.ushell.Container.getService("LaunchPage"),k,V,t,a,n={},c=jQuery.extend(true,{},{},this.oActiveDynamicTiles);for(var i=0;i<this.currentVisibleTiles.length;i++){var o=this.currentVisibleTiles[i];if(!o.bIsExtanded){delete c[o.oTile.uuid];}}for(k in c){t=this.oActiveDynamicTiles[k];a=t.object;l.setTileVisible(a,false);}for(V=0;V<this.currentVisibleTiles.length;V++){v=this.currentVisibleTiles[V];if(!v.bIsExtanded){t=v.oTile;a=t.object;if(this.oActiveDynamicTiles[t.uuid]===undefined&&a){l.setTileVisible(a,true);}n[t.uuid]=t;}}this.oActiveDynamicTiles=n;jQuery.sap.measure.end("DashboardLoadingManagerActiveDynamicTile");},isTileViewRequestIssued:function(t){if(this.oInProgressTiles[t.uuid]==undefined&&this.oResolvedTiles[t.uuid]==undefined){return false;}else{return true;}},manageBusyIndicatorTiles:function(){jQuery.sap.measure.average("DashboardLoadingManagerBusyIndicators","Manage Busy Indicators on Tiles","FLP_SHELL");var v,c,C,I,r=[],b,a=[];for(c in this.oBusyIndicatorTiles){b=true;I=this.oBusyIndicatorTiles[c];if(this.oResolvedTiles[c]===undefined){for(var i=0;i<this.currentVisibleTiles.length;i++){if(this.currentVisibleTiles[i].oTile.uuid===I.oTile.uuid){b=false;break;}}if(b){r.push(I);}}}for(v=0;v<this.currentVisibleTiles.length;v++){C=this.currentVisibleTiles[v];if(this.oBusyIndicatorTiles[C.oTile.uuid]===undefined&&this.oResolvedTiles[C.oTile.uuid]===undefined){a.push(C);}}for(v=0;v<r.length;v++){C=r[v];if(C.oTile.content[0]&&C.oTile.content[0].setState){if(C.oTile.content[0].getState){if(C.oTile.content[0].getState()!=="Failed"){C.oTile.content[0].setState();}}else{C.oTile.content[0].setState();}}delete this.oBusyIndicatorTiles[C.oTile.uuid];}for(v=0;v<a.length;v++){C=a[v];if(C.oTile.content[0]&&C.oTile.content[0].setState){if(C.oTile.content[0].getState){if(C.oTile.content[0].getState()!=="Failed"){C.oTile.content[0].setState("Loading");}}else{C.oTile.content[0].setState("Loading");}}this.oBusyIndicatorTiles[C.oTile.uuid]=C;}jQuery.sap.measure.end("DashboardLoadingManagerBusyIndicators");},setTileInProgress:function(t){this.oInProgressTiles[t.uuid]=t;},setTileResolved:function(t){delete this.oInProgressTiles[t.uuid];this.oResolvedTiles[t.uuid]=t;},_addTileToRefreshArray:function(c,e,d){this.aRefreshTiles.push(d.uuid);},_refreshTiles:function(){var l=sap.ushell.Container.getService("LaunchPage");for(var v=0;v<this.currentVisibleTiles.length;v++){var t=this.currentVisibleTiles[v].oTile;var a=t.object;if(a){for(var r=0;r<this.aRefreshTiles.length;r++){if(t.uuid===this.aRefreshTiles[r]){this.aRefreshTiles.splice(r,1);l.setTileVisible(a,true);l.refreshTile(a);break;}}}}},_setTilesNoVisibility:function(){if(!sap.ushell.Container){return;}var l=sap.ushell.Container.getService("LaunchPage");for(var v=0;v<this.currentVisibleTiles.length;v++){var t=this.currentVisibleTiles[v].oTile;var a=t.object;if(a){l.setTileVisible(a,false);}delete this.oActiveDynamicTiles[t.uuid];}},manageTilesView:function(){var v,c,r=[];for(v=0;v<this.currentVisibleTiles.length;v++){c=this.currentVisibleTiles[v];if(this.oInProgressTiles[c.oTile.uuid]==undefined&&this.oResolvedTiles[c.oTile.uuid]==undefined){r.push(c);}}this.oDashboardManager.getTileViewsFromArray(r);}});return D;});
sap.ui.predefine('sap/ushell/components/_HomepageManager/PagingManager',["sap/ui/base/Object","sap/ui/Device","sap/ushell/Config"],function(B,D,C){"use strict";var T=7;var P=B.extend("sap.ushell.components._HomepageManager.PagingManager",{metadata:{publicMethods:["setElementClass","GetGroupHeight","setContainerSize","getNumberOfAllocatedElements","moveToNextPage","getTileHeight"]},constructor:function(i,s){sap.ushell.components._HomepageManager.getPagingManager=jQuery.sap.getter(this.getInterface());this.currentPageIndex=0;this.containerHeight=s.containerHeight||0;this.containerWidth=s.containerWidth||0;this.supportedElements=s.supportedElements||"";this.tileHeight=0;this.tileSize={"sapUshellTile":{width:100,height:100},"sapUshellLinkTile":{width:40,height:20},"default":{width:40,height:20}};},getTileHeight:function(){return this.tileHeight;},setElementClass:function(c){this.supportedElements=c;},_getTileHeight:function(i){return i?148:176;},_getTileWidth:function(i,I){if(i){return I?304:360;}else{return I?148:176;}},getGroupHeight:function(g,f){if(!g||g.isGroupVisible===false){return 0;}var t=g.tiles,l=g.links,I=D.system.phone||C.last("/core/home/sizeBehavior")==="Small",w=this._getTileWidth(false,I),W=this._getTileWidth(true,I),a=48,b=8,A=this.containerWidth-b;var r=0,R=1,c,d,i;var s=t.some(function(c){return!!c&&c.isTileIntentSupported!==false;});if(!s){if(g.isGroupLocked||g.isDefaultGroup){return 0;}else{return(a+b)/this.containerHeight;}}var h=b;if(!f){h+=a;}if(l&&l.length){h+=44;}for(i=0;i<t.length;i++){if(h>this.containerHeight){break;}c=t[i];if(!c||c.isTileIntentSupported===false){continue;}d=c.long?W:w;if(r>0){r+=T;}r+=d;if(r>A){R+=1;r=d;}}h+=(this._getTileHeight(I)+T)*R;return h/this.containerHeight;},setContainerSize:function(n,a){var t=this.getNumberOfAllocatedElements();this.containerHeight=n;this.containerWidth=a;this._changePageSize(t);},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex;},_changePageSize:function(t){this.currentPageIndex=Math.ceil(t/this._calcElementsPerPage());},moveToNextPage:function(){this.currentPageIndex++;},resetCurrentPageIndex:function(){this.currentPageIndex=0;},getSizeofSupportedElementInUnits:function(t){return this.supportedElements[t].sizeInBaseUnits;},_calcElementMatrix:function(c){var e=jQuery("<div>").addClass(c);jQuery('body').append(e);var a=e.height();var b=e.width();var r;if(a<20||b<40){r=this.tileSize[c]||this.tileSize["default"];}else{r={width:b,height:a};}this.tileHeight=a;e.remove();return r;},_calcElementsPerPage:function(){var s,b,a,m,a,c,e,d;for(s in this.supportedElements){a=this.supportedElements[s];m=this._calcElementMatrix(a.className);a.matrix=m;if(b){b.width=b.width>m.width?m.width:b.width;b.height=b.height>m.height?m.height:b.height;}else{b={width:m.width,height:m.height};}}for(s in this.supportedElements){a=this.supportedElements[s];c=a.matrix;a.sizeInBaseUnits=Math.round(c.width/b.width*c.height/b.height);}e=Math.round(this.containerWidth/b.width);d=Math.round(this.containerHeight/b.height);if(!d||!e||e===Infinity||d===Infinity||e===0||d===0){return 10;}return d*e;}});return P;});
sap.ui.predefine('sap/ushell/components/applicationIntegration/AppLifeCycle',['sap/ushell/components/applicationIntegration/elements/model','sap/ushell/components/applicationIntegration/Storage','sap/ushell/components/container/ApplicationContainer','sap/ushell/ui5service/ShellUIService','sap/ushell/components/applicationIntegration/application/Application','sap/ushell/components/applicationIntegration/relatedServices/RelatedServices','sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements','sap/ushell/components/applicationIntegration/configuration/AppMeta','sap/ushell/services/AppConfiguration','sap/ushell/utils','sap/ushell/resources','sap/ui/Device','sap/ushell/Config','sap/ushell/EventHub','sap/ushell/ui5service/AppIsolationService','sap/ushell/ApplicationType'],function(E,S,A,a,b,R,c,d,e,u,r,D,C,f,g,h){"use strict";function i(){var v,j=["URL"],s,o,k,l,m=false,n={},p={home:{embedded:"embedded-home",headerless:"headerless-home",merged:"blank-home",blank:"blank-home"},app:{minimal:"minimal",app:"app",standalone:"standalone",embedded:"embedded",headerless:"headerless",merged:"merged",home:"home",blank:"blank",lean:"lean"}},q,G=[],t={};this.shellElements=function(){return c;};this.service=function(){return R;};this.isCurrentApp=function(w){return(n.appId===w);};this.isAppWithSimilarShellHashInCache=function(w,F){var x=S.get(w);if(x){if(x.shellHash===F){return true;}else{return false;}}else{return false;}};this.isAppInCache=function(w){return!!S.get(w);};this.normalizeAppId=function(w){var x="-component",y=w.endsWith(x);if(y){return w.substring(0,w.length-x.length);}else{return w;}};this.onComponentCreated=function(w,x,y){var z=y.component,B=this.normalizeAppId(z.getId());if(this.isAppInCache(B)){S.get(B).app=z;this.active(B);}else{n.app=z;if(z.active){z.active();}}};this.onGetMe=function(w,x,y){y.AppLifeCycle=this;};this.store=function(w){var x=S.get(w);if(x){b.store(x.app);R.store(x.service);d.store(x.meta);}};this.destroy=function(w,F){var x=S.get(w);this.removeControl(w);if(x){x.container.destroy();S.remove(w);}else{b.destroy(F);c.destroy(F);d.destroy(F);}};this.restore=function(w){var x=S.get(w);if(x){b.restore(x.app);R.restore(x.service);d.restore(x.meta);}};this.active=function(w){var x=S.get(w);if(x){b.active(x.app);}};this.onAfterNavigate=function(F,w,T){var I;if(F&&w){if(S.get(F)){this.store(F);}else if(w.getApplicationType&&this.applicationIsStatefulType(w.getApplicationType())){if(T.indexOf("Shell-appfinder-component")>0||T.indexOf("Shell-home-component")>0){w.postMessageRequest("sap.gui.triggerCloseSessionImmediately");}}else{I=j.indexOf(w.getApplicationType)>=0;if(this.isAppOfTypeCached(F,I)===false){this.destroy(F,w);}}if(F.indexOf("Shell-appfinder-component")>0){sap.ui.getCore().getEventBus().publish("sap.ushell","appFinderAfterNavigate");}}if(T){if(S.get(T)){this.restore(T);}else{}}};this.storeApp=function(w,x,T,F){if(!this.isAppInCache(w)){S.set(w,{service:R.create(),shellHash:F,appId:w,stt:'loading',appRelatedElements:c.getAppRelatedElement(),container:x,meta:e.getMetadata(T),app:undefined});return true;}return false;};this.resoterApp=function(w){if(this.isAppInCache(w)){n=S.get(w);}};this.isAppOfTypeCached=function(w,I){if(!m&&w.indexOf(s)!==-1){return true;}if(!m&&w.indexOf("Shell-appfinder")!==-1){return true;}if(jQuery.sap.getUriParameters().get("sap-keep-alive")=="true"&&I){return true;}return false;};i.prototype._getURLParsing=function(){if(!this._oURLParsing){this._oURLParsing=sap.ushell.Container.getService("URLParsing");}return this._oURLParsing;};this.openApp=function(w,T,x,F){var y,I=j.indexOf(T.applicationType)>=0;var z="application"+w;if(this.isAppOfTypeCached(z,I)||this.isCachedEnabledAsAppParameter(x,T)){if(!this.isAppInCache(z)){y=this.createApplicationContainer(w,T);this.storeApp(z,y,T,F);}this.resoterApp(z);}else if(this.applicationIsStatefulType(T.applicationType)){y=this.getStatefulContainer(T.applicationType);if(!y){y=this.createApplicationContainer(w,T);this.setStatefulContainer(T.applicationType,y);y.setIsStateful(true);}n={appId:z,stt:'loading',container:y,meta:e.getMetadata(T),app:undefined};}else{y=this.createApplicationContainer(w,T);n={appId:z,stt:'loading',container:y,meta:e.getMetadata(T),app:undefined};}};this.getAppMeta=function(){return d;};this.init=function(w,I,x,y,z,B,F){o=new a({scopeObject:z.ownerComponent,scopeType:"component"});l=new g({scopeObject:z.ownerComponent,scopeType:"component"});k=w;v=I;s=x;d.init(s);m=y;S.init(B,function(H){var J=H.value;this.destroy(J.appId,J.container);}.bind(this));sap.ui.getCore().getEventBus().subscribe("sap.ushell","appComponentLoaded",this.onComponentCreated,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","getAppLifeCycle",this.onGetMe,this);c.init(this.getElementsModel(),F);};this.addControl=function(w){v.addCenterViewPort(w);};this.removeControl=function(I){v.removeCenterViewPort(I,true);};this.removeApplication=function(I){var w=this.getControl(I);if(w){this.removeControl(w.getId());w.destroy();}};this.getControl=function(I){return v&&(v.getViewPortControl('centerViewPort',"application-"+I)||v.getViewPortControl('centerViewPort',"applicationShellPage-"+I));};this.getViewPortContainer=function(){return v;};this.navTo=function(I){v.navTo('centerViewPort',I,'show');};this.getCurrentApplication=function(){return n;};this.setApplicationFullWidth=function(I){var w=this.getCurrentApplication();if(w.container){w.container.toggleStyleClass("sapUShellApplicationContainerLimitedWidth",!I);}};this.createComponent=function(w,P){this.shellElements().setDangling(true);return b.createComponent(w,P);};this.getAppContainer=function(w,x,I,y,F){x.shellUIService=o.getInterface();x.appIsolationService=l.getInterface();x.targetNavigationMode=I?"explace":"inplace";this.openApp(w,x,y,F);if(G.length>0){n.container.registerShellCommunicationHandler(G);}if(t["UI5APP"]){n.container.setIframeHandlers(t["UI5APP"]);}return n.container;};this.getShellUIService=function(){return o;};this.getAppIsolationService=function(){return l;};this.initShellUIService=function(w){o._attachHierarchyChanged(d.onHierarchyChange.bind(this));o._attachTitleChanged(d.onTitleChange.bind(this));o._attachRelatedAppsChanged(d.onRelatedAppsChange.bind(this));o._attachBackNavigationChanged(w.fnOnBackNavigationChange.bind(this));};this.parseStatefulContainerConfiguration=function(w){var x={};if(w){var y={"GUI":true};Object.keys(w).filter(function(z){return true===w[z]&&y[z];}).map(function(U){var z=U;if(z==="GUI"){z="TR";}return z;}).forEach(function(z){x[z]=null;});}q=x;};this.setStatefulApplicationContainer=function(w){q=w;};this.getStatefulApplicationContainer=function(){return q;};this.applicationIsStatefulType=function(w){return q.hasOwnProperty(w);};this.getStatefulContainer=function(w){return q[w];};this.setStatefulContainer=function(w,x){q[w]=x;};this.statefulContainerForTypeExists=function(w){return!!this.getStatefulContainer(w);};this.getAllApplicationContainers=function(){return Object.keys(q).map(function(K){return q[K];}).filter(function(w){return!!w;});};this.getElementsModel=function(){return E;};this.activeContainer=function(w){var x=this.getAllApplicationContainers();x.forEach(function(y){jQuery.sap.log.info("Deactivating container "+y.getId());y.setActive(false);});if(w){jQuery.sap.log.info("Activating container "+w.getId());w.setActive(true);}};this.reuseApplicationContainer=function(w,x,y){var z=this;return w.setNewApplicationContext(x,y).then(function(){z.navTo(w.getId());w.toggleStyleClass("hidden",false);jQuery.sap.log.info("New application context opened successfully in an existing transaction UI session.");},function(B){jQuery.sap.log.error(B&&B.message||B);});};this.createApplicationContainer=function(w,x){return b.createApplicationContainer(w,x);};this.publishNavigationStateEvents=function(w,x,O){var y,I=w.getId?w.getId():"",z=this;var B=e.getMetadata(),F=B.icon,T=B.title;w.addEventDelegate({onAfterRendering:O});y=w.exit;w.exit=function(){if(y){y.apply(this,arguments);}z.getAppMeta()._applyContentDensityByPriority();setTimeout(function(){var H=jQuery.extend(true,{},x);delete H.componentHandle;H["appId"]=I;H["usageIcon"]=F;H["usageTitle"]=T;sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",H);jQuery.sap.log.info('app was closed');},0);var P=z._publicEventDataFromResolutionResult(x);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appClosed",P);};};this._publicEventDataFromResolutionResult=function(w){var P={};if(!w){return w;}["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(x){P[x]=w[x];});Object.freeze(P);return P;};this.isCachedEnabledAsAppParameter=function(w,T){if(w&&w.params&&w.params["sap-keep-alive"]){if(w.params["sap-keep-alive"]=="true"){return true;}}if(T&&T.url){if(jQuery.sap.getUriParameters(T.url).get("sap-keep-alive")=="true"){return true;}}return false;};this.getInMemoryInstance=function(I,F){var w="application-"+I,x=S.get(w);if(x){if(x.shellHash===F){return{isInstanceSupported:true,appId:x.appId,container:x.container};}else{return{isInstanceSupported:false,appId:x.appId,container:x.container};}}return{isInstanceSupported:false,appId:undefined,container:undefined};};this.handleControl=function(I,w,x,T,W,F){var y=this.getControl(I),z=this.statefulContainerForTypeExists(T.applicationType),M=e.getMetadata(T),B=j.indexOf(T.applicationType)>=0,H="application-"+I,J=this.isAppOfTypeCached(H,B)||this.isCachedEnabledAsAppParameter(x,T),K=T.applicationType,L;if(T.applicationType==="URL"&&T.additionalInformation&&T.additionalInformation.startsWith("SAPUI5.Component=")){K="SAPUI5";}L=h.getDefaultFullWidthSetting(K);if(!z&&y&&!J){this.destroy(y.getId(),y);y=W(I,M,x,T,w,T.fullWidth||M.fullWidth||L,F);}else if(!y){y=W(I,M,x,T,w,T.fullWidth||M.fullWidth||L,F);}if(!z){this.resoterApp(y.getId());this.navTo(y.getId());}v.switchState("Center");u.setPerformanceMark("FLP -- centerViewPort");this.activeContainer(y);if(z){this.reuseApplicationContainer(y,T.applicationType,T.url);}};this.switchViewState=function(w,x,y){var z=w,B;if(p[w]&&p[w][k]){z=p[w][k];}var I=C.last("/core/shell/model/currentState/stateName")==="home";if(!I&&(!n.appId||!S.get(n.appId))){E.destroyManageQueue();}B=S.get("application"+y);if(B){c.restore(B);}else{c.assignNew(w);}E.switchState(z,x,y);this.shellElements().setDangling(false);this.shellElements().processDangling();if(w==="searchResults"){this.getElementsModel().setProperty("/lastSearchScreen",'');if(!window.hasher.getHash().indexOf("Action-search")===0){var F=sap.ui.getCore().getModel("searchModel");window.hasher.setHash("Action-search&/searchTerm="+F.getProperty("/uiFilter/searchTerms")+"&dataSource="+JSON.stringify(F.getProperty("/uiFilter/dataSource").getJson()));}}};this.registerShellCommunicationHandler=function(w){b.registerShellCommunicationHandler(w);};this.registerIframeCommunicationHandler=function(H,T){t[T]=H;};this.postMessageToIframeApp=function(w,I,M,W){var x,y=b.getActiveAppContainer(),z=[];if(y&&b.isAppTypeSupported(y,w,I)){z.push(b.postMessageToIframeApp(y,w,I,M,W));}if(!b.isActiveOnly(w,I)){S.forEach(function(F){if(F&&F.value&&F.value.container){if(b.isAppTypeSupported(F.value.container,w,I)){z.push(b.postMessageToIframeApp(F.value.container,w,I,M,W));}}});}x=b.getResponseHandler(w,I);var B=Promise.all(z);if(x){x(B);}return B;};}return new i();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/Storage',[],function(){"use strict";function S(){var c,e;function L(l){this.size=0;(typeof l=="number")?this.limit=l:this.limit=10;this.map={};this.head=null;this.tail=null;}L.prototype.LRUnode=function(k,v){if(typeof k!="undefined"&&k!==null){this.key=k;}if(typeof v!="undefined"&&v!==null){this.value=v;}this.prev=null;this.next=null;};L.prototype.setHead=function(n){n.next=this.head;n.prev=null;if(this.head!==null){this.head.prev=n;}this.head=n;if(this.tail===null){this.tail=n;}this.size++;this.map[n.key]=n;};L.prototype.set=function(k,v){var n=new L.prototype.LRUnode(k,v);if(this.map[k]){this.map[k].value=n.value;this.remove(n.key);}else{if(this.size>=this.limit){if(e){e(this.map[this.tail.key]);}delete this.map[this.tail.key];this.size--;this.tail=this.tail.prev;this.tail.next=null;}}this.setHead(n);};L.prototype.get=function(k){if(this.map[k]){var v=this.map[k].value;var n=new L.prototype.LRUnode(k,v);this.remove(k);this.setHead(n);return v;}else{return null;}};L.prototype.remove=function(k){var n=this.map[k];if(n.prev!==null){n.prev.next=n.next;}else{this.head=n.next;}if(n.next!==null){n.next.prev=n.prev;}else{this.tail=n.prev;}delete this.map[k];this.size--;};L.prototype.removeAll=function(l){this.size=0;this.map={};this.head=null;this.tail=null;if(typeof l=="number"){this.limit=l;}};L.prototype.forEach=function(a){var n=this.head,i=0;while(n){a.apply(this,[n,i,this]);i++;n=n.next;}};L.prototype.toJSON=function(){var j=[],n=this.head;while(n){j.push({key:n.key,value:n.value});n=n.next;}return j;};L.prototype.toString=function(){var s='',n=this.head;while(n){s+=String(n.key)+':'+n.value;n=n.next;if(n){s+='\n';}}return s;};this.init=function(l,i){c=new L(l);e=i;};this.get=function(k){return c.get(k);};this.set=function(k,v){c.set(k,v);};this.remove=function(k){c.remove(k);};this.forEach=function(a){c.forEach(a);};}return new S();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/application/Application',["sap/ushell/components/container/ApplicationContainer","sap/ushell/components/container/PostMessageAPI","sap/ushell/utils"],function(A,P,u){"use strict";var a;function b(){this._createWaitForRendererCreatedPromise=function(){var p,r;r=sap.ushell.Container.getRenderer();if(r){jQuery.sap.log.debug("Shell controller._createWaitForRendererCreatedPromise: shell renderer already created, return empty array.");return[];}else{p=new Promise(function(c,d){var o;o=function(){jQuery.sap.log.info("Shell controller: resolving component waitFor promise after shell renderer created event fired.");c();sap.ushell.Container.detachRendererCreatedEvent(o);};r=sap.ushell.Container.getRenderer();if(r){jQuery.sap.log.debug("Shell controller: resolving component waitFor promise immediately (shell renderer already created");c();}else{sap.ushell.Container.attachRendererCreatedEvent(o);}});return[p];}};this.createComponent=function(r,p){return sap.ushell.Container.getService("Ui5ComponentLoader").createComponent(r,p,this._createWaitForRendererCreatedPromise());};this.createApplicationContainer=function(s,r){a=new A("application"+s,r);return a;};this.active=function(o){if(o){if(o.active){o.active();}}};this.restore=function(o){if(o){if(o.restore){o.restore();}if(o.setInitialConfiguration){o.setInitialConfiguration();}if(o.getRouter&&o.getRouter()&&o.getRouter().initialize){o.getRouter().initialize();}a=o;}};this.store=function(o){if(o){if(o.suspend){o.suspend();}if(o.getRouter&&o.getRouter()){o.getRouter().stop();}}};this.destroy=function(o){if(o&&o.destroy){o.destroy();}};this.getActiveAppContainer=function(){return a;};}b.prototype.getResponseHandler=function(s,i){return P.getResponseHandler(s,i);};b.prototype.isActiveOnly=function(s,i){return P.isActiveOnly(s,i);};b.prototype.isAppTypeSupported=function(c,s,i){return P.isAppTypeSupported(c,s,i);};b.prototype.postMessageToIframeApp=function(c,s,i,m,w){var S=s+"."+i,M=c.createPostMessageRequest(S,m);return c.postMessageToCurrentIframe(M,w);};b.prototype.registerShellCommunicationHandler=function(c){P.registerShellCommunicationHandler(c);};b.prototype.addShellCommunicationHandler=function(k,c){P.addShellCommunicationHandler(k,c);};b.prototype._getPostMesageInterface=function(s,i){return P._getPostMesageInterface(s,i);};return new b();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/configuration/AppMeta',['sap/ushell/services/AppConfiguration','sap/ushell/components/applicationIntegration/elements/model','sap/ui/Device','sap/ushell/Config','sap/ushell/utils','sap/ushell/resources','sap/ushell/EventHub','sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements'],function(A,E,D,C,u,r,a,R){"use strict";function b(){var i,t=this,c,s,d;this.getIsTitleChanged=function(){return i;};this.getIsRelatedAppsChanged=function(){return d;};this.getHierarchyDefaultValue=function(){var h=[];var e=C.last("/core/shell/model/currentState/stateName");if(e&&((e==="app"||e==="embedded"))){h=[{icon:"sap-icon://home",title:r.i18n.getText("actionHomePage"),intent:s?"#"+s:"#"}];}return h;};this.init=function(I){s=I;};this.getIsHierarchyChanged=function(){return c;};this.onHierarchyChange=function(e){c=true;var h=e.getParameters().data,H,f=[],g=C.last("/core/shell/model/currentState/stateName");if(!h){h=[];}H=t.getHierarchyDefaultValue();h.forEach(function(I,j){f[j]=jQuery.extend({},I);});f=f.concat(H);if(g==="home"){E.updateStateProperty("application/hierarchy",f,false,["home"]);}E.updateStateProperty("application/hierarchy",f,true);};this.onRelatedAppsChange=function(e){d=true;var o=e.getParameters().data,f=C.last("/core/shell/model/currentState/stateName");if(!o){o=[];}if(f==="home"){E.updateStateProperty("application/relatedApps",o,false,["home"]);}E.updateStateProperty("application/relatedApps",o,true);};this.resetShellUIServiceHandlers=function(){d=false;c=false;i=false;};this.onTitleChange=function(e){i=true;var T=e.getParameters().data;if(!T){T=this.getAppMeta().getTitleDefaultValue();}var f=C.last("/core/shell/model/currentState/stateName");if(f==="home"){E.updateStateProperty("application/title",T,false,["home"]);}E.updateStateProperty("application/title",T,true);R.genericSetItem("application/title",T);window.document.title=T;u.setPerformanceMark("FLP -- title change");a.emit("TitleChanged",T);};this._getDefaultFavIcon=function(p){var f=p.get('sapUiShellFavicon');if(f){var m=/url[\s]*\('?"?([^\'")]*)'?"?\)/.exec(f);if(m){f=m[1];}else if(f==="''"||f==="none"){f=null;}}if(!f){var M=jQuery.sap.getModulePath("sap.ushell");return M+'/themes/base/img/launchpad_favicon.ico';}return f;};this.getFavIconHref=function(){return jQuery('link').filter('[rel="shortcut icon"]').attr('href')||'';};this.getAppIcon=function(){var I="sap-icon://folder",e=A.getMetadata();if(e&&e.icon){I=e.icon;}return I;};this.setAppIcons=function(m){sap.ui.require(["sap/ui/core/theming/Parameters"],function(P){jQuery.sap.measure.start("FLP:ShellController.setAppIcons","setAppIcons","FLP");var M=jQuery.sap.getModulePath("sap.ushell"),l=(m&&m.homeScreenIconPhone)||(M+'/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png'),L=(m&&m["homeScreenIconPhone@2"])||(M+'/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png'),o=(m&&m.homeScreenIconTablet)||(M+'/themes/base/img/launchicons/72_iPad_Desktop_Launch.png'),e=(m&&m["homeScreenIconTablet@2"])||(M+'/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png'),f=(m&&m.favIcon)||(this._getDefaultFavIcon(P)),g=this.getFavIconHref();if(D.os.ios){jQuery.sap.setIcons({'phone':l,'phone@2':L,'tablet':o,'tablet@2':e,'favicon':f,'precomposed':false});}else if(g!==f){jQuery.sap.setIcons({'phone':'','phone@2':'','tablet':'','tablet@2':'','favicon':f,'precomposed':true});}jQuery.sap.measure.end("FLP:ShellController.setAppIcons");}.bind(this));};this._applyContentDensityByPriority=function(e){var f;if(e===undefined){if(D.system.combi){var g=sap.ushell.Container.getService("UserInfo"),U=g.getUser(),h="autoDetect";if(U){h=U.getContentDensity();}switch(h){case"cozy":e=false;break;case"compact":e=true;break;default:f=A.getMetadata();if(f.compactContentDensity&&!f.cozyContentDensity){e=true;}else{e=false;}}}else{f=A.getMetadata();if(f.compactContentDensity&&!f.cozyContentDensity){e=true;}else if(!f.compactContentDensity&&f.cozyContentDensity){e=false;}else{e=this._isCompactContentDensityByDevice();}}}this._applyContentDensityClass(e);};this._applyContentDensityClass=function(e){var I=this._isCompactContentDensityByDevice();return new Promise(function(f,g){function h(j){jQuery('body').toggleClass('sapUiSizeCompact',j).toggleClass('sapUiSizeCozy',!j);f();}if(e===undefined){sap.ushell.Container.getServiceAsync("UserInfo").then(function(j){var U=j.getUser?j.getUser():undefined;h(U&&U.getContentDensity()==='cozy'?false:I);});}else{h(!!e);}});};this._isCompactContentDensityByDevice=function(){return!D.support.touch||D.system.combi;};this.getTitleDefaultValue=function(){var T="",e=A.getMetadata();if(e&&e.title){T=e.title;}return T;};this.create=function(){};this.restore=function(I){this._applyContentDensityByPriority();this.setAppIcons(I);};this.store=function(I){};this.destroy=function(I){};}return new b();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/elements/model',["sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/components/HeaderManager","sap/ushell/components/StateHelper"],function(E,C,u,H,S){"use strict";var b;var c;function a(){return{"home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn"]},"app":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"minimal":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"standalone":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded-home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"lean":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]}};}function d(){return{"blank":{"stateName":"blank","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"blank-home":{"stateName":"blank-home","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"home":{"stateName":"home","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"search":"","paneContent":[],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[]},"app":{"stateName":"app","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"search":"","actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[]},"minimal":{"stateName":"minimal","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"standalone":{"stateName":"standalone","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"embedded":{"stateName":"embedded","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"embedded-home":{"stateName":"embedded-home","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"headerless":{"stateName":"headerless","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"merged":{"stateName":"merged","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"headerless-home":{"stateName":"headerless-home","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"merged-home":{"stateName":"merged-home","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"search":""},"lean":{"stateName":"lean","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":false,"paneContent":[],"search":"","actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[]},"lean-home":{"stateName":"lean-home","showCurtain":false,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":false,"paneContent":[],"search":"","actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[]}};}function r(O,k){return Object.keys(O).reduce(function(o,K){if(!k[K]){o[K]=O[K];}return o;},{});}function v(i,j){return j!==undefined;}function n(){return true;}function g(o,m){var p=m.split("/");var M=o;p.shift();p.forEach(function(P){if(!M){return;}M=M[P];});return M;}function e(m,V,o){var p=m.split("/");var M=o;p.shift();var P=p.pop();p.forEach(function(s){M=M[s];});M[P]=V;}function f(){var o;var s;var k;var A;var m;var I;var l;var p;var t;var q;this.createDefaultTriggers=function(i){var R=function(z,B,D){if(D.sProperty==="actions"){var F=g(D.oModel,D.path);if(F&&F.length===0&&D.aIds&&D.aIds.length>0){this._renderShellState();}}}.bind(this);var j=function(z){function B(O,N){var U=sap.ushell.Container.getService("URLParsing"),F=U.getHash(O),G=U.getHash(N),J=U.parseShellHash(F).appSpecificRoute,K=U.parseShellHash(G).appSpecificRoute;return J!==K;}var D=B(z.oldURL,z.newURL);if(D){this.addHeaderItem(["backBtn"],true);}}.bind(this);this.createTriggersOnBaseStates([{sName:'onAddFirstAction',fnRegister:function(){sap.ui.getCore().getEventBus().subscribe("launchpad","updateShell",R,this);},fnUnRegister:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","updateShell",R,this);}}],["blank","blank-home"],i);var x=this;var y;this.createTriggersOnBaseStates([{sName:'onAddFirstAction',fnRegister:function(){window.addEventListener("hashchange",j);var N=0;y=E.on("AppRendered").do(function(){N++;if(N>=2){x.addHeaderItem(["backBtn"],true);}});},fnUnRegister:function(){window.removeEventListener("hashchange",j);if(y){y.off();}}}],["lean","lean-home"],i);};this.init=function(i,j){b=d();c=a();s=C.last("/core/shell/model");o={};m={};I=false;p=false;t=[];q=true;A=j;l=undefined;if(i){jQuery.sap.measure.start("FLP:ElementsModel.init","moveShellHeaderEndItems","FLP");if(i.moveEditHomePageActionToShellHeader){this._removeActionFromMeArea("ActionModeBtn");}if(i.moveContactSupportActionToShellHeader){this._removeCustomDataActionBtnFromMeArea("ContactSupportBtn");}if(i.moveGiveFeedbackActionToShellHeader){this._removeCustomDataActionBtnFromMeArea("EndUserFeedbackBtn");}if(i.moveAppFinderActionToShellHeader){this._removeActionFromMeArea("openCatalogBtn");}if(i.moveUserSettingsActionToShellHeader){this._removeActionFromMeArea("userSettingsBtn");}jQuery.sap.measure.end("FLP:ElementsModel.init");}var x=i&&i.appState?i.appState:"home";this.createDefaultTriggers(x);this.switchState(x);};this.destroy=function(){s=undefined;o=undefined;A=undefined;m=undefined;I=undefined;q=undefined;p=undefined;l=undefined;b=undefined;c=undefined;};this.getModel=function(){var R=sap.ushell.Container.getRenderer("fiori2");if(!R){return undefined;}return R._oShellView.getModel();};this._removeCustomDataActionBtnFromMeArea=function(i){for(var j in c){var x=c[j];var y=x.actions;var z=y.indexOf(i);if(z!==-1){c[j].actions.splice(z,1);}}};this._removeActionFromMeArea=function(B){var i;for(i in b){var j=b[i];if(i==="blank"||i==="blank-home"){continue;}if(B==="ActionModeBtn"&&i==="app"){continue;}var x=j.actions;var y=x.indexOf(B);if(y!==-1){b[i].actions.splice(y,1);}}};this.destroyManageQueue=function(){this._destroyManageQueue(["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"]);};this.switchState=function(i){var j=u.clone(b[i]);var x=r(j,{aTriggers:true});C.emit("/core/shell/model/currentState",x);k=A.customShellState;l=undefined;this._renderShellState();return j;};this.setLeftPaneVisibility=function(V,i,j){this.updateStateProperty("showPane",V,i,j);};this.setHeaderHiding=function(){jQuery.sap.log.warning("Application Life Cycle model: headerHiding property is deprecated and has no effect");};this._createHeaderEventPayload=function(P,V,i,j,D,x){var y={propertyName:P,value:V,aStates:j,bCurrentState:i,action:x,bDoNotPropagate:D};return y;};this.setHeaderVisibility=function(V,i,j){var P=this._createHeaderEventPayload("headerVisible",V,i,j,false);H.updateStates(P);};this.showLogo=function(i,j){this.updateShowLogo(true,i,j,false);};this.updateShowLogo=function(V,i,j,D){var P=this._createHeaderEventPayload("showLogo",V,i,j,D);H.updateStates(P);};this.addHeaderItem=function(i,j,x){if(i.length){var P=this._createHeaderEventPayload("headItems",i,j,x,false);H.updateStates(P);}};this.removeHeaderItem=function(i,j,x){var P=this._createHeaderEventPayload("headItems",i,j,x,false,"remove");H.updateStates(P);};this.addHeaderEndItem=function(i,j,x,D){if(i.length){var P=this._createHeaderEventPayload("headEndItems",i,j,x,D);H.updateStates(P);}};this.removeHeaderEndItem=function(i,j,x){var P=this._createHeaderEventPayload("headEndItems",i,j,x,false,"remove");H.updateStates(P);};this.addSubHeader=function(i,j,x){if(i.length){this._addShellItem("subHeader",i,j,x);}};this.removeSubHeader=function(i,j,x){this._removeShellItem("subHeader",i,j,x);};this.addActionButton=function(i,j,x,y){if(y){this._addActionButtonAtStart("actions",i,j,x);}else{this._addActionButton("actions",i,j,x);}};this.removeActionButton=function(i,j,x){this._removeShellItem("actions",i,j,x);};this.addToolAreaItem=function(i,j,x){if(i.length){this._addToolAreaItem("toolAreaItems",i,j,x);}};this.removeToolAreaItem=function(i,j,x){this._removeShellItem("toolAreaItems",i,j,x);};this.addLeftPaneContent=function(i,j,x){if(i.length){this._addShellItem("paneContent",i,j,x);}};this.removeLeftPaneContent=function(i,j,x){this._removeShellItem("paneContent",i,j,x);};this.addRightFloatingContainerItem=function(i,j,x){if(i.length){this._addRightFloatingContainerItem("RightFloatingContainerItems",i,j,x);}};this.removeRightFloatingContainerItem=function(i,j,x){this._removeShellItem("RightFloatingContainerItems",i,j,x);};this.showSettingsButton=function(i,j){this.addActionButton(["userSettingsBtn"],i,j,false);};this.showSignOutButton=function(i,j){this.addActionButton(["logoutBtn"],i,j,false);};this.showRightFloatingContainer=function(i){this._showRightFloatingContainer(i);};this.addFloatingActionButton=function(i,j,x){if(i.length){this._addShellItem("floatingActions",i,j,x);}};this.removeFloatingActionButton=function(i,j,x){this._removeShellItem("floatingActions",i,j,x);};this.updateStateProperty=function(P,V,i,j,D){if(P.startsWith("application")){var x=this._createHeaderEventPayload(P,V,i,j,false);H.updateStates(x);return;}this._setShellItem(P,V,i,j,v,e,D);};this._handleTriggers=function(N){var T,i,j=[],x={};q=false;while(t.length>0){T=t.pop();if(N[T.sName]){j.push(T);x[T.sName]=T;}else{T.fnUnRegister(this);}}for(var y in N){if(N.hasOwnProperty(y)){if(!x[y]){i=N[y];i.fnRegister(this);j.push(i);}}}t=j;q=true;};this._registerTriggers=function(T){q=false;T.forEach(function(i){i.fnRegister(this);t.push(i);});q=true;};function w(T,i){var j=[];if(!i.aTriggers){i.aTriggers=[];}T.forEach(function(x){var F={sName:x.sName,fnRegister:x.fnRegister,fnUnRegister:x.fnUnRegister};i.aTriggers.push(F);j.push(F);});return j;}this.createTriggersOnState=function(T,i){var j=w(T,b);if(!I){this._registerTriggers(j);}};this.createTriggersOnBaseStates=function(T,B,i){var j=[];B.forEach(function(y){var z=b[y];j=w(T,z);});var x=B.indexOf(i)>=0;if(x&&!I){this._registerTriggers(j);}};this.createTriggers=function(T,i,B){var j=s.currentState;if(i===true){this.createTriggersOnState(T,j);return;}this.createTriggersOnBaseStates(T,B,j.stateName);};this.showShellItem=function(P,j,V){var x=S.getModelStates(j),M="/currentState"+P,B;for(var i=0;i<x.length;i++){B=b[x[i]].stateName;b[B][P.split("/")[1]]=V;}if(s.currentState.stateName===j){e(M,V,s);}};this.addCustomItems=function(i,j,x,y){if(this._isValidStateEntry(i)){this._isValidStateEntry(i).fnAdd(j,x,y);}else{throw new Error("Invalid state entry:"+i);}};this.removeCustomItems=function(i,j,x,y){if(this._isValidStateEntry(i)){this._isValidStateEntry(i).fnRemove(j,x,y);}else{throw new Error("Invalid state entry:"+i);}};this.applyExtendedShellState=function(i){l=i;this._renderShellState();};this.addEntryInShellStates=function(i,j,x,R,y){var z,B;if(!o[i]){o[i]={fnAdd:x,fnHide:R};var D=this._getStatesList();for(z=0;z<D.length;z++){B=D[z];b[B][i]=y[B];}this["remove"+j]=R;this["add"+j]=x;}else{throw new Error("State entry already exsists:"+i);}};this.addElementToManagedQueue=function(i){var j=C.last("/core/shell/model/currentState/stateName"),B,x=i.getId();if(!A){A={extendedShellStates:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}B=A.extendedShellStates;if(!B[j]){B[j]={managedObjects:[],customState:undefined};}B[j].managedObjects.push(x);var M=m[x];if(M){M.nRefCount++;}else{M={oItem:i,nRefCount:1};m[x]=M;}};this.updateNeededTriggersMap=function(i,T){var j;if(!T){return;}for(j=0;j<T.length;j++){i[T[j].sName]=T[j];}};this._renderShellState=function(){var B=C.last("/core/shell/model/currentState/stateName"),i,j,x=u.clone(b[B]),y=A,z,N={};if(I){return;}if(y&&y.customShellState){z=y.customShellState.currentState;}var D={"currentState":u.clone(x)};s=D;I=true;if(l&&y.extendedShellStates&&y.extendedShellStates[l]){i=y.extendedShellStates[l].customState;j=i.currentState;this._addCustomShellStates(j);}if(z){this._addCustomShellStates(z);}s=C.last("/core/shell/model");if(x&&x.aTriggers){this.updateNeededTriggersMap(N,x.aTriggers);}if(j&&j.aTriggers){this.updateNeededTriggersMap(N,j.aTriggers);}if(z&&z.aTriggers){this.updateNeededTriggersMap(N,z.aTriggers);}if(q){this._handleTriggers(N);}delete D.currentState.aTriggers;var F=r(D.currentState,{aTriggers:true});H.recalculateState(B,l);C.emit("/core/shell/model/currentState",F);I=false;};this._addCustomShellStates=function(T){this.addToolAreaItem(T.toolAreaItems,true);this.addSubHeader(T.subHeader,true);this.addRightFloatingContainerItem(T.RightFloatingContainerItems,true);this.addActionButton(T.actions,true,undefined,false);this.addLeftPaneContent(T.paneContent,true);this.addFloatingActionButton(T.floatingActions,true);this.showRightFloatingContainer(T.showRightFloatingContainer);};this._createCustomShellState=function(i){var j={"currentState":{"stateName":i,"headEndItems":[],"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}};var x=c[i];if(x){jQuery.extend(j.currentState,x);}return j;};this._showRightFloatingContainer=function(i){this._setShellItem("showRightFloatingContainer",i,true,[],v,e);};this._addActionButtonAtStart=function(P,i,j,x){function U(y,z,B){var D=g(B,y),F=[],O=z.indexOf("openCatalogBtn");if(O>-1){z.splice(O,1);F.push("openCatalogBtn");}else if(D[0]==="openCatalogBtn"){D.splice(0,1);F.push("openCatalogBtn");}F=F.concat(z).concat(D);e(y,F,B);}this._setShellItem(P,i,j,x,n,U);};this._addActionButton=function(P,j,x,y){function U(z,B,D){var F=g(D,z);var L=F.indexOf("logoutBtn");if(L>-1){F.splice.apply(F,[L,0].concat(B));}else{F=F.concat(B);}var G=u.removeDuplicatedActions(F);function J(F){var K=[];var O=["recentActivitiesBtn","frequentActivitiesBtn","openCatalogBtn","userSettingsBtn","ActionModeBtn","ContactSupportBtn","EndUserFeedbackBtn"];for(var i=0;i<O.length;i++){var M=F.indexOf(O[i]);if(M>-1){K.push(F.splice(M,1)[0]);}}K=K.concat(F);return K;}var N=J(G);e(z,N,D);}this._setShellItem(P,j,x,y,n,U);};this.setFloatingContainerContent=function(P,i,j,x){function V(y,i,z){return i.length===1;}function U(y,i,z){e(y,i,z);}this._setShellItem(P,i,j,x,V,U);};this._addShellItem=function(P,i,j,x){function V(y,i,z){if(y.length>0){jQuery.sap.log.warning("You can only add one item. Replacing existing item: "+y[0]+" in state: "+z+", with the new item: "+i[0]+".");}return true;}function U(y,z,B){e(y,i.slice(0),B);}this._setShellItem(P,i,j,x,V,U);};this._addRightFloatingContainerItem=function(P,i,j,x){function U(y,z,B){var D=g(B,y);D=D.concat(z);e(y,D,B);}this._setShellItem(P,i,j,x,n,U);};this._addToolAreaItem=function(P,i,j,x){function U(B,i,D){var F=g(D,B);F.push(i);e(B,F,D);}var y,z=S.getPassStates(x);for(y=0;y<z.length;y++){this.showShellItem("/toolAreaVisible",z[y],true);}this._setShellItem(P,i,j,x,n,U);};this._removeShellItem=function(P,i,j,x){function V(y,z){var B,i,D;for(D=0;D<z.length;D++){i=z[D];B=y.indexOf(i);if(B<0){jQuery.sap.log.warning("You cannot remove Item: "+i+", the headItem does not exists.");return false;}}return true;}function U(y,z,B){var D=g(B,y),F,i,G;for(G=0;G<z.length;G++){i=z[G];F=D.indexOf(i);if(F>-1){D.splice(F,1);}}e(y,D,B);}this._setShellItem(P,i,j,x,V,U);};this._setShellItem=function(P,O,x,y,V,U,D){var z,B;var F=Array.isArray(O)?O.slice(0):O;if(x===true){z="/currentState/"+P;B=g(s,z);if(V(B,F,"currentState")===false){return;}if(!p&&!I){U(z,F,k);sap.ui.getCore().getEventBus().publish('launchpad','updateShell',{oModel:s,path:z,aIds:F,sProperty:P});this._renderShellState();}else{U(z,F,s);}}else{var G=D?y:S.getPassStates(y),i,J=s.currentState.stateName;for(i=0;i<G.length;i++){var K=G[i],j;B=g(b[K],"/"+P);if(V(B,F,K)===false){continue;}var M=S.getModelStates(K,D);for(j=0;j<M.length;j++){z="/"+M[j]+"/"+P;U(z,F,b);if(J===M[j]){if(!I){this._renderShellState();}}}}}};this._getStatesList=function(){return Object.keys(b);};this._destroyManageQueue=function(i){var j,x,M,B,y,z;B=A.extendedShellStates;for(y in B){if(B.hasOwnProperty(y)){z=B[y].managedObjects;for(j=0;j<z.length;j++){x=z[j];M=m[x];M.nRefCount--;if(M.nRefCount===0){M.oItem.destroy();m[x]=null;}}delete B[y];}}};this._isValidStateEntry=function(N){return!!o[N];};this.getModelToUpdate=function(){return s;};this.setModelToUpdate=function(M,i){p=i;s=M;};this._getManagedElements=function(){return m;};this.extendStates=function(i){var j;for(j in i){if(i.hasOwnProperty(j)){u.updateProperties(b[j],i[j]);}}};this.getBaseStateMember=function(i,B){return b[i][B];};this.getCustomStateDeltaMember=function(i,j){return c[i][j];};this.getAllStatesInDelta=function(){return Object.keys(c);};}var h=new f();return h;},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/relatedServices/RelatedServices',[],function(){"use strict";function R(){var b;var s={};this._historyBackNavigation=function(){window.history.back();};this.navigateBack=function(){if(b){b();}else{this._historyBackNavigation();}};this.setNavigateBack=function(i){b=i;s.backNavigationHander=b;};this.resetNavigateBack=function(){b=this._historyBackNavigation;s.backNavigationHander=b;};this.create=function(){b=this._historyBackNavigation;s={backNavigationHander:b};return s;};this.restore=function(i){if(i){s=i;b=s.backNavigationHander;}};this.store=function(S){s={backNavigationHander:this._historyBackNavigation};};this.destroy=function(S){};}return new R();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements',[],function(){"use strict";function R(){var d=[],E,a,c={},s,i=false,C={},A,t=[],b={"home":{"actions":[]},"app":{"actions":["aboutBtn"]},"minimal":{"actions":["aboutBtn"]},"standalone":{"actions":["aboutBtn"]},"embedded":{"actions":["aboutBtn"]},"embedded-home":{"actions":["aboutBtn"]},"lean":{"actions":["aboutBtn"]}},o={home:{NWBC:{headerless:"headerless",default:"minimal"},TR:{headerless:"minimal",default:"minimal"},default:{default:"home"}},app:{NWBC:{headerless:"headerless",default:"minimal"},TR:{headerless:"minimal",default:"minimal"},default:{default:"app"}}};this.init=function(e,f){E=e;if(f&&f.length>0){Object.keys(b).forEach(function(S){b[S].actions=f.concat(b[S].actions);});}};this.processDangling=function(){var D,e;for(D=0;D<d.length;D++){e=d.pop();e.func.apply(this,e.args);}};this.setDangling=function(I){i=I;};this.calculateElementsState=function(n,e,f,g){var N=o[n]?o[n]:o.default,h=N[g?undefined:e]?N[e]:N.default,j=h[f]?h[f]:h.default;return j;};this.createCustomShellState=function(S){var e={"currentState":{"stateName":S,"headEndItems":[],"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}},f=b[S];if(f){jQuery.extend(e.currentState,f);}return e;};this.createExtendedShellState=function(S,f){var B,e=this.createCustomShellState(S);B=a.extendedShellStates;if(B[S]){return false;}s=e;f();if(B[S]){B[S].customState=e;}else{B[S]={managedObjects:[],customState:e};}s=a.customShellState;return true;};this.assignNew=function(S){c=this.createCustomShellState(S);a.customShellState=c;a.aTriggers=[];a.extendedShellStates={};a.oCheckPoints={};this._updateModel();s=a.customShellState;};this._genericSetItem=function(e,v){var f=e.split("/");var l=f.pop();var L=f.reduce(function(g,m){return g[m];},s.currentState);L[l]=v;E._renderShellState();};this._genericAddItems=function(e,I,f){var g=s.currentState[e];if(f){s.currentState[e]=I.concat(g);}else{s.currentState[e]=g.concat(I);}E._renderShellState();};this.genericSetItem=function(e,v){if(i){d.push({func:this._genericSetItem,args:arguments});}else{this._genericSetItem(e,v);}};this.genericAddItems=function(e,I,f){if(i){d.push({func:this.genericAddItems,args:arguments});}else{this._genericAddItems(e,I,f);}};this.setShellModelForApplications=function(e,v){var l=["paneContent","headItems","RightFloatingContainerItems","toolAreaItems","floatingActions","showRightFloatingContainer","headEndItems","headerVisible","subHeader","actions"];if(l.indexOf(e)>-1){this.genericSetItem(e,v);}else{jQuery.sap.log.error("Not a valid attribute:"+e);}};this.addShellModelForApplications=function(e,I,f){var l=["paneContent","headItems","RightFloatingContainerItems","toolAreaItems","floatingActions","showRightFloatingContainer","headEndItems","headerVisible","subHeader","actions"];if(l.indexOf(e)>-1){this.genericAddItems(e,I,f);}else{jQuery.sap.log.error("Not a valid attribute:"+e);}};this.setStateModelToUpdate=function(I){s=I;};this.getStateModelToUpdate=function(){return s;};this.model=function(){if(!a){this.create();}A={customShellState:a.customShellState,aTriggers:a.aTriggers,extendedShellStates:a.extendedShellStates,oCheckPoints:a.oCheckPoints};return A;};this._updateModel=function(){if(A){A.customShellState=a.customShellState;A.aTriggers=a.aTriggers;A.extendedShellStates=a.extendedShellStates;A.oCheckPoints=a.oCheckPoints;}};this.getAppRelatedElement=function(){return{customShellState:a.customShellState,aTriggers:a.aTriggers,extendedShellStates:a.extendedShellStates,oCheckPoints:a.oCheckPoints};};this.create=function(){a={extendedShellStates:{},oCheckPoints:C,aTriggers:t,customShellState:{"currentState":{"stateName":"app","headEndItems":[],"paneContent":[],"headItems":[],"actions":["aboutBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}}};s=a.customShellState;this._updateModel();return a;};this.restore=function(S){if(S&&S.appRelatedElements){var e=S.appRelatedElements;a.aTriggers=e.aTriggers;a.extendedShellStates=e.extendedShellStates;a.oCheckPoints=e.oCheckPoints;a.customShellState=e.customShellState;}this._updateModel();s=a.customShellState;};this.store=function(m){};this.clean=function(){a=undefined;};this.destroy=function(m){};}return new R();},true);
sap.ui.predefine('sap/ushell/components/container/ApplicationContainer',["sap/ui/Device","sap/ushell/utils","sap/ushell/library","sap/m/MessagePopover","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/Control","sap/ui/thirdparty/URI","sap/ushell/EventHub","sap/ushell/components/container/PostMessageAPI"],function(D,u,a,M,C,b,c,U,E,P){"use strict";var p="sap.ushell.components.container.",s=p+"ApplicationContainer",d="sap.ushell.Container.dirtyState.",l,S,r;function f(T){var e=sap.ushell.Container.getService("CrossApplicationNavigation");e.isUrlSupported(T.url).done(function(){T.promise.resolve({"allowed":true,"id":T.id});}).fail(function(){T.promise.resolve({"allowed":false,"id":T.id});});}function i(e){var N={"asyncURLHandler":L.prototype._adaptIsUrlSupportedResultForMessagePopover};if(M&&M.setDefaultHandlers){M.setDefaultHandlers(N);}E.emit("StepDone",e.stepName);}E.once("initMessagePopover").do(i);l=new u.Map();function g(e){return l.get(e.getId());}function h(){return S;}function j(e){var N=jQuery.sap.getUriParameters(e).mParams,O=N["sap-xapp-state"],R;delete N["sap-xapp-state"];R={startupParameters:N};if(O){R["sap-xapp-state"]=O;}return R;}function k(e,N){if(!r){r=jQuery.sap.resources({url:jQuery.sap.getModulePath(p)+"/resources/resources.properties",language:sap.ui.getCore().getConfiguration().getLanguage()});}return r.getText(e,N);}function m(){return new sap.ui.core.Icon({size:"2rem",src:"sap-icon://error",tooltip:L.prototype._getTranslatedText("an_error_has_occured")});}function n(e){var N=e.getAggregation("child"),O;if(N instanceof b){O=N.getComponentInstance().getMetadata().getName().replace(/\.Component$/,"");jQuery.sap.log.debug("unloading component "+O,null,s);}e.destroyAggregation("child");}function o(e,N,O){var Q,R,T,V,W,X,Y,Z={},$,_;T=N.indexOf("?");if(T>=0){X=L.prototype._getParameterMap(N);Z=X.startupParameters;N=N.slice(0,T);}if(N.slice(-1)!=='/'){N+='/';}if(/\.view\.(\w+)$/i.test(O)){W=/^SAPUI5=(?:([^\/]+)\/)?([^\/]+)\.view\.(\w+)$/i.exec(O);if(!W){jQuery.sap.log.error("Invalid SAPUI5 URL",O,s);return L.prototype._createErrorControl();}Y=W[1];$=W[2];_=W[3].toUpperCase();if(Y){$=Y+"."+$;}else{V=$.lastIndexOf(".");if(V<1){jQuery.sap.log.error("Missing namespace",O,s);return L.prototype._createErrorControl();}Y=$.slice(0,V);}}else{Y=O.replace(/^SAPUI5=/,"");}jQuery.sap.registerModulePath(Y,N+Y.replace(/\./g,'/'));L.prototype._destroyChild(e);if($){if(e.getApplicationConfiguration()){Z.config=e.getApplicationConfiguration();}R=sap.ui.view({id:e.getId()+"-content",type:_,viewData:Z||{},viewName:$});e.fireEvent("applicationConfiguration");}else{jQuery.sap.log.debug("loading component "+Y,null,s);var a1=X?{startupParameters:X.startupParameters}:{startupParameters:{}};if(X&&X["sap-xapp-state"]){a1["sap-xapp-state"]=X["sap-xapp-state"];}if(e.getApplicationConfiguration()){a1.config=e.getApplicationConfiguration();}Q=sap.ui.component({id:e.getId()+"-component",componentData:a1,name:Y});e.fireEvent("applicationConfiguration",{"configuration":Q.getMetadata().getConfig()});R=new b({id:e.getId()+"-content",component:Q});}R.setWidth(e.getWidth());R.setHeight(e.getHeight());R.addStyleClass("sapUShellApplicationContainer");e.setAggregation("child",R,true);return R;}function q(e,N){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell",e,N);},0);}function t(e,N,O){var Q,R,T,V,W={startupParameters:{}},X,Y=e.getComponentHandle(),Z=sap.ushell.Container.getService("PluginManager"),$,_;u.addTime("createUi5Component");Q=N.indexOf("?");if(Q>=0){V=L.prototype._getParameterMap(N);W={startupParameters:V.startupParameters};if(V["sap-xapp-state"]){W["sap-xapp-state"]=V["sap-xapp-state"];}N=N.slice(0,Q);}if(e.getApplicationConfiguration()){W.config=e.getApplicationConfiguration();}if(N.slice(-1)!=='/'){N+='/';}L.prototype._destroyChild(e);X={id:e.getId()+"-component",name:O,componentData:W};jQuery.sap.log.debug("Creating component instance for "+O,JSON.stringify(X),s);sap.ui.getCore().getEventBus().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:O});if(Y){R=Y.getInstance(X);}else{jQuery.sap.registerModulePath(O,N);jQuery.sap.log.error("No component handle available for '"+O+"'; fallback to component.load()",null,s);R=sap.ui.component({id:e.getId()+"-component",name:O,componentData:W});}e.fireEvent("applicationConfiguration",{"configuration":R.getMetadata().getConfig()});T=new b({id:e.getId()+"-content",component:R});T.setHeight(e.getHeight());T.setWidth(e.getWidth());T.addStyleClass("sapUShellApplicationContainer");e._disableRouterEventHandler=L.prototype._disableRouter.bind(this,R);sap.ui.getCore().getEventBus().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",e._disableRouterEventHandler);e.setAggregation("child",T,true);if(Z){$=Z.getPluginLoadingPromise("RendererExtensions");_=$&&$.state();if(_==="pending"){$.done(function(){L.prototype._publishExternalEvent("appComponentLoaded",{component:R});}).fail(function(){L.prototype._publishExternalEvent("appComponentLoaded",{component:R});});}if(_==="resolved"||_==="rejected"){L.prototype._publishExternalEvent("appComponentLoaded",{component:R});}}else{L.prototype._publishExternalEvent("appComponentLoaded",{component:R});}return T;}function v(e){var N;if((e instanceof C)&&(typeof e.getRouter==="function")){N=e.getRouter();if(N&&(typeof N.stop==="function")){jQuery.sap.log.info("router stopped for instance "+e.getId());N.stop();}}}function w(e){var N=document.createElement("a"),O=jQuery.sap.getUriParameters(e).get("sap-client"),Q;N.href=e;Q=N.protocol+"//"+N.host;return new sap.ushell.System({alias:O?Q+"?sap-client="+O:Q,baseUrl:Q,client:O||undefined,platform:"abap"});}function x(e,N){var T=false,O=e.getDomRef(),Q,R;if(O){Q=U(O.src||window.location&&window.location.href||'');R=Q.protocol()+"://"+Q.host();T=(N.source===O.contentWindow)||(N.origin===R);}return T;}function y(e,N,O){var R=JSON.stringify({type:"request",service:N,request_id:jQuery.sap.uid(),body:{}});jQuery.sap.log.debug("Sending post message request to origin ' "+O+"': "+R,null,"sap.ushell.components.container.ApplicationContainer");e.postMessage(R,O);}function z(){var e=this.getDomRef();if(!e||e.tagName!=="IFRAME"){return null;}return e;}function A(N,O,Q){var R=jQuery.sap.getObject("sap-ushell-config.services.PostMessage.config",0),T=Q&&Q.service,V,W,X,Y,Z=false;jQuery.sap.log.debug("Received post message request from origin '"+O.origin+"': "+JSON.stringify(Q),null,"sap.ushell.components.container.ApplicationContainer");if(Q.type!=="request"||!T){return;}for(var $ in S){if(S.hasOwnProperty($)){if(T.indexOf($)!==-1){W=S[$];X=$;Z=true;break;}}}if(Z===false){return;}V=T.split(".")[3];if(R&&R.enabled===false){jQuery.sap.log.warning("Received message for "+V+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,"sap.ushell.components.container.ApplicationContainer");return;}if(!L.prototype._isTrustedPostMessageSource(N,O)){jQuery.sap.log.warning("Received message from untrusted origin '"+O.origin+"': "+JSON.stringify(O.data),null,"sap.ushell.components.container.ApplicationContainer");return;}function _(e,g1){var h1=JSON.stringify({type:"response",service:Q.service,request_id:Q.request_id,status:e,body:g1});jQuery.sap.log.debug("Sending post message response to origin ' "+O.origin+"': "+h1,null,"sap.ushell.components.container.ApplicationContainer");if(typeof O.source!=="object"||O.source===null){jQuery.sap.log.debug("Cannot send response message to origin ' "+O.origin,"`source` member of request message is not an object","sap.ushell.components.container.ApplicationContainer");return;}O.source.postMessage(h1,O.origin);}function a1(O,Q){var e=new jQuery.Deferred(),g1;if(Q.body&&Q.body.callbackMessage&&Q.body.callbackMessage.service){g1=L.prototype._backButtonPressedCallback.bind(null,O.source,Q.body.callbackMessage.service,O.origin);}e.resolve(N.getShellUIService().setBackNavigation(g1));return e.promise();}function b1(g1,h1){var i1,j1,k1,l1=[g1.id];if(arguments.length>1){l1.unshift(h1);}try{k1=JSON.stringify(g1);}catch(e){jQuery.sap.log.error("Cannot stringify and store expanded system data: "+e);}if(k1){j1=u.getLocalStorage();i1=u.generateLocalStorageKey("sap-system-data",l1);j1.setItem(i1,k1);}}function c1(){var e=sap.ushell.Container.getLogonSystem();var g1=e.getName();var h1=e.getClient();return"sid("+g1+"."+h1+")";}function d1(e){return c1().toLowerCase()===e.toLowerCase();}var e1={matchesLocalSid:d1,getLocalSystemInSidForma:c1,storeSapSystemData:b1,executeSetBackNavigationService:a1,sendResponseMessage:_,oMessage:O,oMessageData:Q,oContainer:N};try{Y=W.oServiceCalls[Q.service.replace(X+".","")];if(Y&&Y.executeServiceCallFn){Y.executeServiceCallFn(e1).done(function(e){_("success",{result:e});}).fail(function(e){_("error",{message:e});});}else{_("error",{message:"Unknown service name: '"+Q.service+"'"});}}catch(f1){_("error",{message:f1.message});}}function B(N,O){var Q=N.getUi5ComponentName&&N.getUi5ComponentName(),R=O.data;if(typeof R==="string"){try{R=JSON.parse(O.data);}catch(e){jQuery.sap.log.debug("Message received from origin '"+O.origin+"' cannot be parsed: "+e,R,"sap.ushell.components.container.ApplicationContainer");return;}}if(typeof Q==="string"){jQuery.sap.log.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(R)+"' on container of UI5 application '"+Q+"'","Only non UI5 application containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return;}if(!N.getActive()){jQuery.sap.log.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(R)+"' on inactive container '"+N.getId()+"'","Only active containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return;}if(R.action==="pro54_setGlobalDirty"&&localStorage.getItem(N.globalDirtyStorageKey)===sap.ushell.Container.DirtyState.PENDING){if(!L.prototype._isTrustedPostMessageSource(N,O)){jQuery.sap.log.warning("Received message from untrusted origin: "+O.origin,R,"sap.ushell.components.container.ApplicationContainer");return;}jQuery.sap.log.debug("getGlobalDirty() pro54_setGlobalDirty SetItem key:"+N.globalDirtyStorageKey+" value: "+R.parameters.globalDirty,null,"sap.ushell.components.container.ApplicationContainer");u.localStorageSetItem(N.globalDirtyStorageKey,R.parameters.globalDirty,true);}else{L.prototype._handleServiceMessageEvent(N,O,R);}}function F(e,N){var O=e._getIFrame(),Q=e.getApplicationType();if(u.isApplicationTypeEmbeddedInIframe(e.getApplicationType(Q))&&O){O.contentWindow.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),"*");N.preventDefault();}}function G(R,e,N){R.write("<div").writeControlData(e).writeAccessibilityState(e).addClass("sapUShellApplicationContainer").writeClasses(e).addStyle("height",e.getHeight()).addStyle("width",e.getWidth()).writeStyles().write(">").renderControl(N);R.write("</div>");}function H(e,N,T,R){var O,Q=function(){var Y=u.getParameterValueBoolean("sap-accessibility");if(Y!==undefined){return Y;}return sap.ushell.Container.getUser().getAccessibilityMode();},V=function(){var Y=false,Z=jQuery.sap.getUriParameters(e)||{mParams:{}};Y=sap.ui.getCore().getConfiguration().getStatistics()&&!Z.mParams.hasOwnProperty("sap-statistics");return Y;},W=function(){var Y=window.hasher&&window.hasher.getHash(),X="",Z;if(Y&&Y.length>0&&Y.indexOf("sap-iapp-state=")>0){Z=/(?:sap-iapp-state=)([^&/]+)/.exec(Y);if(Z&&Z.length===2){X=Z[1];}}return X;};e+=e.indexOf("?")>=0?"&":"?";e+="sap-ie=edge";O=sap.ushell.Container.getUser().getTheme(sap.ushell.User.prototype.constants.themeFormat.NWBC);if(O){e+=e.indexOf("?")>=0?"&":"?";e+="sap-theme="+encodeURIComponent(O);}if(T){e+=e.indexOf("?")>=0?"&":"?";e+="sap-target-navmode="+encodeURIComponent(T);}if(Q()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-accessibility=X";}if(V()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-statistics=true";}if(R){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=1";}var X=W();if(X&&X.length>0){e+=e.indexOf("?")>=0?"&":"?";e+="sap-iapp-state="+X;}return u.appendSapShellParam(e,N);}function I(R,e,N,O){var Q=e.getAggregation("child");if(!Q||e._bRecreateChild){Q=L.prototype._createUi5Component(e,N,O);e._bRecreateChild=false;}L.prototype._renderControlInDiv(R,e,Q);}function J(e,N,V){var O=e.getProperty(N);if(jQuery.sap.equal(O,V)){return;}e.setProperty(N,V);e._bRecreateChild=true;}function K(R,e,N,O,Q){var T;localStorage.removeItem(e.globalDirtyStorageKey);if(Q&&Q.indexOf("SAPUI5.Component=")===0&&N===sap.ushell.components.container.ApplicationType.URL){I(R,e,O,Q.replace(/^SAPUI5\.Component=/,""));return;}if(Q&&Q.indexOf("SAPUI5=")===0&&N===sap.ushell.components.container.ApplicationType.URL){L.prototype._renderControlInDiv(R,e,L.prototype._createUi5View(e,O,Q));return;}jQuery.sap.log.debug("Not resolved as \"SAPUI5.Component=\" or \"SAPUI5=\" , "+"will attempt to load into iframe "+Q);if(!e.getActive()){jQuery.sap.log.debug("Skipping rendering container iframe","Container '"+e.getId()+"' is inactive");return;}try{O=e.getFrameSource(N,O,Q);}catch(V){jQuery.sap.log.error(V.message||V,null,s);e.fireEvent("applicationConfiguration");R.renderControl(L.prototype._createErrorControl());return;}if(sap.ushell.Container){T=L.prototype._getLogoutHandler(e);if(!T){if(u.isApplicationTypeEmbeddedInIframe(N)){T=L.prototype._logout.bind(null,e);l.put(e.getId(),T);sap.ushell.Container.attachLogoutEvent(T);sap.ushell.Container.addRemoteSystem(L.prototype._createSystemForUrl(O));}}else if(!u.isApplicationTypeEmbeddedInIframe(N)){sap.ushell.Container.detachLogoutEvent(T);l.remove(e.getId());}}if(u.isApplicationTypeEmbeddedInIframe(N)){var W=e.getTargetNavigationMode();O=L.prototype._adjustNwbcUrl(O,N,W,e.getIsStateful());u.localStorageSetItem(e.globalDirtyStorageKey,sap.ushell.Container.DirtyState.INITIAL);}if(jQuery.sap.getUriParameters().get("sap-isolation-enabled")==="true"){var X=O.indexOf("#");if(X>=0){var Y=O.substr(0,X);O=Y+"#"+window.hasher.getHash();}else{O+="#"+window.hasher.getHash();}}e.fireEvent("applicationConfiguration");R.write("<iframe").writeControlData(e).writeAccessibilityState(e).writeAttributeEscaped("src",O).addClass("sapUShellApplicationContainer").writeClasses(e).addStyle("height",e.getHeight()).addStyle("width",e.getWidth()).writeStyles().write("></iframe>");}var L=c.extend(s,{metadata:{properties:{additionalInformation:{defaultValue:"",type:"string"},application:{type:"object"},applicationConfiguration:{type:"object"},applicationType:{defaultValue:"URL",type:p+"ApplicationType"},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},navigationMode:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},text:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},visible:{defaultValue:true,type:"boolean"},active:{defaultValue:true,type:"boolean"},"sap-system":{defaultValue:undefined,type:"string"},applicationDependencies:{type:"object"},componentHandle:{type:"object"},ui5ComponentName:{type:"string"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},shellUIService:{type:"object"},appIsolationService:{type:"object"},reservedParameters:{type:"object"},coreResourcesFullyLoaded:{type:"boolean"},isStateful:{defaultValue:false,type:"boolean"},iframeHandlers:{defaultValue:"",type:"string"}},events:{"applicationConfiguration":{}},aggregations:{child:{multiple:false,type:"sap.ui.core.Control",visibility:"hidden"}},library:"sap.ushell",designtime:"sap/ushell/designtime/ApplicationContainer.designtime"},exit:function(){var e,N=this;if(sap.ushell.Container){e=L.prototype._getLogoutHandler(N);if(e){sap.ushell.Container.detachLogoutEvent(e);l.remove(N.getId());}}localStorage.removeItem(N.globalDirtyStorageKey);if(N._unloadEventListener){removeEventListener("unload",N._unloadEventListener);}if(N._disableRouterEventHandler){sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",N._disableRouterEventHandler);}if(N._storageEventListener){removeEventListener("storage",N._storageEventListener);}if(N._messageEventListener){removeEventListener("message",N._messageEventListener);}L.prototype._destroyChild(N);if(c.exit){c.exit.apply(N);}},assignCommunicationHandlers:function(e){S=e;},init:function(){var e=this;e.globalDirtyStorageKey=d+jQuery.sap.uid();this.assignCommunicationHandlers(P.getAPIs());e._unloadEventListener=e.exit.bind(e);addEventListener("unload",e._unloadEventListener);e._storageEventListener=function(N){var O=e.getApplicationType();if(N.key===e.globalDirtyStorageKey&&N.newValue===sap.ushell.Container.DirtyState.PENDING&&u.isApplicationTypeEmbeddedInIframe(O)){var Q=e._getIFrame();if(Q){jQuery.sap.log.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.components.container.ApplicationContainer");Q.contentWindow.postMessage(JSON.stringify({action:"pro54_getGlobalDirty"}),'*');}}};addEventListener('storage',e._storageEventListener);e._messageEventListener=L.prototype._handleMessageEvent.bind(null,e);addEventListener('message',e._messageEventListener);},onAfterRendering:function(e){if(this.getIsStateful()){this.rerender=function(){};}if(D.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto");}},renderer:function(R,e){var N=e.getApplication(),O=e.launchpadData,Q;if(!e.getVisible()){L.prototype._renderControlInDiv(R,e);return;}if(e.error){delete e.error;L.prototype._renderControlInDiv(R,e,L.prototype._createErrorControl());}else if(!N){L.prototype._render(R,e,e.getApplicationType(),e.getUrl(),e.getAdditionalInformation());}else if(!N.isResolvable()){L.prototype._render(R,e,N.getType(),N.getUrl(),"");}else if(O){L.prototype._render(R,e,O.applicationType,O.Absolute.url.replace(/\?$/,""),O.applicationData);}else{jQuery.sap.log.debug("Resolving "+N.getUrl(),null,s);N.resolve(function(T){jQuery.sap.log.debug("Resolved "+N.getUrl(),JSON.stringify(T),s);e.launchpadData=T;L.prototype._destroyChild(e);},function(T){var V=N.getMenu().getDefaultErrorHandler();if(V){V(T);}L.prototype._destroyChild(e);e.error=T;});Q=new sap.m.Text({text:L.prototype._getTranslatedText("loading",[N.getText()])});L.prototype._destroyChild(e);e.setAggregation("child",Q);L.prototype._renderControlInDiv(R,e,Q);}}});L.prototype.getFrameSource=function(e,N,O){if(!Object.prototype.hasOwnProperty.call(sap.ushell.components.container.ApplicationType,e)){throw new Error("Illegal application type: "+e);}return N;};L.prototype.setUrl=function(V){J(this,"url",V);};L.prototype.setAdditionalInformation=function(V){J(this,"additionalInformation",V);};L.prototype.setApplicationType=function(V){J(this,"applicationType",V);};L.prototype.createPostMessageRequest=function(e,N){var R=Date.now().toString();return{"type":"request","request_id":R,"service":e,"body":N};};L.prototype.setNewTRApplicationContext=function(e){var N=this._getIFrame();if(!N){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}e=u.appendSapShellParam(e);var R=this.createPostMessageRequest("sap.its.startService",{"url":e});return this.postMessageToIframe(R,N,true).catch(function(O){return Promise.reject({eventData:O,message:"Failed to change application context."});});};L.prototype.postMessageToIframe=function(N,O,W){var Q=this;var R=N.request_id;return new Promise(function(T,V){function X(Z){var $;try{$=JSON.parse(Z.data);if(R!==$.request_id){return;}if("success"===$.status){T($);}else{V($);}window.removeEventListener("message",X);}catch(e){T();jQuery.sap.log.warning("Obtained bad response from framework in response to message "+N.request_id);jQuery.sap.log.debug("Underlying framework returned invalid response data: '"+Z.data+"'");}}var Y=JSON.stringify(N);jQuery.sap.log.debug("Sending postMessage "+Y+" to application container '"+Q.getId()+"'");if(W){window.addEventListener("message",X,false);O.contentWindow.postMessage(Y,"*");}else{O.contentWindow.postMessage(Y,"*");T();}});};L.prototype.postMessageToCurrentIframe=function(e,W){if(W===undefined){W=false;}var N=this._getIFrame();if(!N){if(W){return Promise.reject({message:"Expected opened iframe not found."});}else{return;}}return this.postMessageToIframe(e,N,W);};L.prototype.setNewApplicationContext=function(e,N){var O=this;var Q=this["setNew"+e+"ApplicationContext"];if(!Q){return Promise.reject({message:"Unsupported application type"});}var R=this._getIFrame();if(!R){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}var T=this.createPostMessageRequest("sap.gui.triggerCloseSessionImmediately",{});return this.postMessageToIframe(T,R,true).then(function(){return Q.call(O,N);},function(V){return Promise.reject({eventData:V,message:"Failed to change application context."});});};L.prototype.onApplicationOpened=function(N){var e=this.getIsStateful();if(!e){return Promise.resolve();}var O=this.getApplicationType();if(O==="TR"&&N!=="TR"){var Q=this._getIFrame();if(!Q){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}var R=this.createPostMessageRequest("sap.gui.triggerCloseSession",{});return this.postMessageToIframe(R,Q,false).catch(function(T){return Promise.reject({eventData:T,message:"Failed to change application context."});});}return Promise.resolve();};L.prototype.postMessageRequest=function(e){var N=this._getIFrame();if(!N){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}var R=this.createPostMessageRequest(e,{});return this.postMessageToIframe(R,N,false).catch(function(O){return Promise.reject({eventData:O,message:"Failed to post message."});});};L.prototype._getCommunicationHandlers=h;L.prototype._adaptIsUrlSupportedResultForMessagePopover=f;L.prototype._getLogoutHandler=g;L.prototype._getParameterMap=j;L.prototype._getTranslatedText=k;L.prototype._createErrorControl=m;L.prototype._destroyChild=n;L.prototype._createUi5View=o;L.prototype._publishExternalEvent=q;L.prototype._createUi5Component=t;L.prototype._disableRouter=v;L.prototype._createSystemForUrl=w;L.prototype._isTrustedPostMessageSource=x;L.prototype._handleServiceMessageEvent=A;L.prototype._handleMessageEvent=B;L.prototype._logout=F;L.prototype._renderControlInDiv=G;L.prototype._adjustNwbcUrl=H;L.prototype._render=K;L.prototype._backButtonPressedCallback=y;L.prototype._getIFrame=z;return L;},true);
sap.ui.predefine('sap/ushell/components/container/PostMessageAPI',["sap/ushell/utils","sap/ui/core/Popup","sap/ui/core/library"],function(u,P,c){"use strict";var d=new sap.ui.core.UIComponent(),p=undefined;var a={"sap.ushell.services.CrossApplicationNavigation":{oServiceCalls:{"hrefForExternal":{executeServiceCallFn:function(S){return new jQuery.Deferred().resolve(sap.ushell.Container.getService("CrossApplicationNavigation").hrefForExternal(S.oMessageData.body.oArgs)).promise();}},"getSemanticObjectLinks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").getSemanticObjectLinks(S.oMessageData.body.sSemanticObject,S.oMessageData.body.mParameters,S.oMessageData.body.bIgnoreFormFactors,undefined,undefined,S.oMessageData.body.bCompactIntents);}},"isIntentSupported":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported(S.oMessageData.body.aIntents);}},"isNavigationSupported":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").isNavigationSupported(S.oMessageData.body.aIntents);}},"backToPreviousApp":{executeServiceCallFn:function(S){sap.ushell.Container.getService("CrossApplicationNavigation").backToPreviousApp();return new jQuery.Deferred().resolve().promise();}},"historyBack":{executeServiceCallFn:function(S){sap.ushell.Container.getService("CrossApplicationNavigation").historyBack(S.oMessageData.body.iSteps);return new jQuery.Deferred().resolve().promise();}},"getAppStateData":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").getAppStateData(S.oMessageData.body.sAppStateKey);}},"toExternal":{executeServiceCallFn:function(S){var A=u.clone(S.oMessageData.body.oArgs);u.storeSapSystemToLocalStorage(A);return new jQuery.Deferred().resolve(sap.ushell.Container.getService("CrossApplicationNavigation").toExternal(A)).promise();}}}},"sap.ushell.ui5service.ShellUIService":{oServiceCalls:{"setTitle":{executeServiceCallFn:function(S){return new jQuery.Deferred().resolve(S.oContainer.getShellUIService().setTitle(S.oMessageData.body.sTitle)).promise();}},"setBackNavigation":{executeServiceCallFn:function(S){return S.executeSetBackNavigationService(S.oMessage,S.oMessageData);}}}},"sap.ushell.services.ShellUIService":{oServiceCalls:{"setTitle":{executeServiceCallFn:function(S){return new jQuery.Deferred().resolve(S.oContainer.getShellUIService().setTitle(S.oMessageData.body.sTitle)).promise();}},"setHierarchy":{executeServiceCallFn:function(S){return new jQuery.Deferred().resolve(S.oContainer.getShellUIService().setHierarchy(S.oMessageData.body.aHierarchyLevels)).promise();}},"setRelatedApps":{executeServiceCallFn:function(S){return new jQuery.Deferred().resolve(S.oContainer.getShellUIService().setRelatedApps(S.oMessageData.body.aRelatedApps)).promise();}},"setDirtyFlag":{executeServiceCallFn:function(S){sap.ushell.Container.setDirtyFlag(S.oMessageData.body.bIsDirty);return new jQuery.Deferred().resolve().promise();}},"showShellUIBlocker":{executeServiceCallFn:function(S){s(S.oMessageData.body.bShow);return new jQuery.Deferred().resolve().promise();}}}},"sap.ushell.services.Container":{oServiceCalls:{"setDirtyFlag":{executeServiceCallFn:function(S){sap.ushell.Container.setDirtyFlag(S.oMessageData.body.bIsDirty);return new jQuery.Deferred().resolve().promise();}},"getFLPUrl":{executeServiceCallFn:function(S){var i=false;if(S.oMessageData.body&&S.oMessageData.body.bIncludeHash===true){i=true;}return new jQuery.Deferred().resolve(sap.ushell.Container.getFLPUrl(i)).promise();}}}},"sap.ushell.services.AppState":{oServiceCalls:{"getAppState":{executeServiceCallFn:function(S){var D=new jQuery.Deferred();sap.ushell.Container.getService("AppState").getAppState(S.oMessageData.body.sKey).done(function(o){delete o._oServiceInstance;D.resolve(o);}).fail(function(o){delete o._oServiceInstance;D.resolve(o);});return D.promise();}},"_saveAppState":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("AppState")._saveAppState(S.oMessageData.body.sKey,S.oMessageData.body.sData,S.oMessageData.body.sAppName,S.oMessageData.body.sComponent,S.oMessageData.body.bTransient);}},"_loadAppState":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("AppState")._loadAppState(S.oMessageData.body.sKey);}}}},"sap.ushell.services.Bookmark":{oServiceCalls:{"addBookmarkUI5":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("Bookmark").addBookmark(S.oMessageData.body.oParameters,S.oMessageData.body.oGroup);}},"addBookmark":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("Bookmark").addBookmarkByGroupId(S.oMessageData.body.oParameters,S.oMessageData.body.groupId);}},"getShellGroupIDs":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("Bookmark").getShellGroupIDs();}},"addCatalogTileToGroup":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("Bookmark").addCatalogTileToGroup(S.oMessageData.body.sCatalogTileId,S.oMessageData.body.sGroupId,S.oMessageData.body.oCatalogData);}},"countBookmarks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("Bookmark").countBookmarks(S.oMessageData.body.sUrl);}},"deleteBookmarks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("Bookmark").deleteBookmarks(S.oMessageData.body.sUrl);}},"updateBookmarks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("Bookmark").updateBookmarks(S.oMessageData.body.sUrl,S.oMessageData.body.oParameters);}}}},"sap.ushell.services.AppConfiguration":{oServiceCalls:{"setApplicationFullWidth":{executeServiceCallFn:function(S){sap.ushell.services.AppConfiguration.setApplicationFullWidth(S.oMessageData.body.bValue);return new jQuery.Deferred().resolve().promise();}}}}};function b(){}b.prototype.getAPIs=function(){this._registerAppRuntimeNewAPI();return a;};b.prototype.addShellCommunicationHandler=function(k,C){var o=a[k],n;if(o){if(C.oServiceCalls){Object.keys(C.oServiceCalls).forEach(function(e){o.oServiceCalls[e]=C.oServiceCalls[e];});}if(C.oRequestCalls){Object.keys(C.oRequestCalls).forEach(function(e){o.oRequestCalls[e]=C.oRequestCalls[e];});}return;}n={oRequestCalls:{},oServiceCalls:{}};if(C.oServiceCalls){Object.keys(C.oServiceCalls).forEach(function(e){n.oServiceCalls[e]=C.oServiceCalls[e];});}if(C.oRequestCalls){Object.keys(C.oRequestCalls).forEach(function(e){n.oRequestCalls[e]=C.oRequestCalls[e];});}a[k]=n;};b.prototype._getPostMesageInterface=function(S,i){var C;if(a[S]){C=a[S];if(C&&C.oRequestCalls&&C.oRequestCalls[i]){return C.oRequestCalls[i];}}return undefined;};b.prototype.registerShellCommunicationHandler=function(C){var t=this,e;Object.keys(C).forEach(function(k){e=C[k];t.addShellCommunicationHandler(k,e);});};b.prototype.isAppTypeSupported=function(C,S,i){if(C&&C.getAdditionalInformation&&C.getAdditionalInformation().startsWith("SAPUI5.Component=")){return false;}var o=this._getPostMesageInterface(S,i);if(!o||!o.distributionType){return false;}if(o.distributionType.indexOf("all")>=0){return true;}if(C.getApplicationType&&o.distributionType.indexOf(C.getApplicationType())>=0){return true;}return false;};b.prototype.isActiveOnly=function(S,i){var C=this._getPostMesageInterface(S,i);if(C){return C.isActiveOnly;}return undefined;};b.prototype.getResponseHandler=function(S,i){var C=this._getPostMesageInterface(S,i);if(C){return C.fnResponseHandler;}return undefined;};b.prototype._createNewInnerAppState=function(S){var o=sap.ushell.Container.getService("AppState"),n,h,C,N,v;n=o.createEmptyAppState();if(S.oMessageData.body.sData!==undefined){try{v=JSON.parse(S.oMessageData.body.sData);}catch(e){v=S.oMessageData.body.sData;}}else{v="";}n.setData(v);n.save();N=n.getKey();h=window.hasher.getHash();if(h.indexOf("&/")>0){if(h.indexOf("sap-iapp-state=")>0){C=/(?:sap-iapp-state=)([^&/]+)/.exec(h)[1];h=h.replace(C,N);}else{h=h+"/sap-iapp-state="+N;}}else{h=h+"&/sap-iapp-state="+N;}window.hasher.replaceHash(h);return N;};b.prototype._setInnerAppStateData=function(S){return b.prototype._createNewInnerAppState(S);};b.prototype._registerAppRuntimeNewAPI=function(){if(this.newAPIAdded!==undefined){return;}this.newAPIAdded=true;this.registerShellCommunicationHandler({"sap.ushell.appRuntime":{oRequestCalls:{"hashChange":{isActiveOnly:true,distributionType:["URL"]},"setDirtyFlag":{isActiveOnly:true,distributionType:["URL"]},"themeChange":{isActiveOnly:false,distributionType:["URL"]}},oServiceCalls:{"hashChange":{executeServiceCallFn:function(S){window.hasher.replaceHash(S.oMessageData.body.newHash);return new jQuery.Deferred().resolve().promise();}}}},"sap.ushell.services.ShellNavigation":{oServiceCalls:{"toExternal":{executeServiceCallFn:function(S){sap.ushell.Container.getService("ShellNavigation").toExternal(S.oMessageData.body.oArgs,undefined,S.oMessageData.body.bWriteHistory);return new jQuery.Deferred().resolve().promise();}},"toAppHash":{executeServiceCallFn:function(S){sap.ushell.Container.getService("ShellNavigation").toAppHash(S.oMessageData.body.sAppHash,S.oMessageData.body.bWriteHistory);return new jQuery.Deferred().resolve().promise();}}}},"sap.ushell.services.NavTargetResolution":{oServiceCalls:{"getDistinctSemanticObjects":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("NavTargetResolution").getDistinctSemanticObjects();}},"expandCompactHash":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("NavTargetResolution").expandCompactHash(S.oMessageData.body.sHashFragment);}},"resolveHashFragment":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("NavTargetResolution").expandCompactHash(S.oMessageData.body.sHashFragment);}},"isNavigationSupported":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("NavTargetResolution").isNavigationSupported(S.oMessageData.body.aIntents);}}}},"sap.ushell.services.CrossApplicationNavigation":{oServiceCalls:{"expandCompactHash":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").expandCompactHash(S.oMessageData.body.sHashFragment);}},"getDistinctSemanticObjects":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").getDistinctSemanticObjects();}},"getLinks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").getLinks(S.oMessageData.body.vArgs);}},"getPrimaryIntent":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").getPrimaryIntent(S.oMessageData.body.sSemanticObject,S.oMessageData.body.mParameters);}},"hrefForAppSpecificHash":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").hrefForAppSpecificHash(S.oMessageData.body.sAppHash);}},"isInitialNavigation":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("CrossApplicationNavigation").hrefForAppSpecificHash();}},"getAppState":{executeServiceCallFn:function(S){var D=new jQuery.Deferred();sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(d,S.oMessageData.body.sAppStateKey).done(function(o){delete o._oServiceInstance;D.resolve(o);});return D.promise();}},"setInnerAppRoute":{executeServiceCallFn:function(S){var U=sap.ushell.Container.getService("URLParsing"),h=U.parseShellHash(window.hasher.getHash()),n;h.appSpecificRoute=S.oMessageData.body.appSpecificRoute;n="#"+U.constructShellHash(h);window.hasher.replaceHash(n);return new jQuery.Deferred().resolve().promise();}},"setInnerAppStateData":{executeServiceCallFn:function(S){var k=b.prototype._setInnerAppStateData(S);return new jQuery.Deferred().resolve(k).promise();}}}},"sap.ushell.services.renderer":{oServiceCalls:{"showHeaderItem":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.showHeaderItem(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"showToolAreaItem":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.showToolAreaItem(S.oMessageData.body.sId,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"showActionButton":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.showActionButton(S.oMessageData.body.sId,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates,S.oMessageData.body.bIsFirst);return new jQuery.Deferred().resolve().promise();}},"showFloatingActionButton":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.showFloatingActionButton(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"showHeaderEndItem":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.showHeaderEndItem(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"setHeaderVisibility":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.setHeaderVisibility(S.oMessageData.body.bVisible,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"showSubHeader":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.showSubHeader(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"hideHeaderItem":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.hideHeaderItem(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"removeToolAreaItem":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.removeToolAreaItem(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"hideActionButton":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.hideActionButton(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"hideLeftPaneContent":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.hideLeftPaneContent(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"hideFloatingActionButton":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.hideFloatingActionButton(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"hideHeaderEndItem":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.hideHeaderEndItem(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"hideSubHeader":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.hideSubHeader(S.oMessageData.body.aIds,S.oMessageData.body.bCurrentState,S.oMessageData.body.aStates);return new jQuery.Deferred().resolve().promise();}},"setLeftPaneVisibility":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.setLeftPaneVisibility(S.oMessageData.body.sLaunchpadState,S.oMessageData.body.bVisible);return new jQuery.Deferred().resolve().promise();}},"showToolArea":{executeServiceCallFn:function(S){sap.ushell.renderers.fiori2.Renderer.showToolArea(S.oMessageData.body.sLaunchpadState,S.oMessageData.body.bVisible);return new jQuery.Deferred().resolve().promise();}}}},"sap.ushell.services.LaunchPage":{oServiceCalls:{"getGroups":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").getGroups();}},"getGroupsForBookmarks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").getGroupsForBookmarks();}},"getDefaultGroup":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").getDefaultGroup();}},"addGroupAt":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").addGroupAt(S.oMessageData.body.sTitle,S.oMessageData.body.iIndex);}},"addGroup":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").addGroup(S.oMessageData.body.sTitle);}},"removeGroup":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").removeGroup(S.oMessageData.body.sTitle,S.oMessageData.body.iIndex);}},"resetGroup":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").resetGroup(S.oMessageData.body.sTitle,S.oMessageData.body.iIndex);}},"moveGroup":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").moveGroup(S.oMessageData.body.sTitle,S.oMessageData.body.iNewIndex);}},"setGroupTitle":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").setGroupTitle(S.oMessageData.body.oGroup,S.oMessageData.body.sTitle);}},"hideGroups":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").hideGroups(S.oMessageData.body.aHiddenGroupsIDs);}},"addTile":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").addTile(S.oMessageData.body.oGroup,S.oMessageData.body.oCatalogTile);}},"removeTile":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").removeTile(S.oMessageData.body.oGroup,S.oMessageData.body.oTile,S.oMessageData.body.iIndex);}},"moveTile":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").moveTile(S.oMessageData.body.oTile,S.oMessageData.body.iSourceIndex,S.oMessageData.body.iTargetIndex,S.oMessageData.body.oSourceGroup,S.oMessageData.body.oTargetGroup,S.oMessageData.body.sNewTileType);}},"getTileView":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").getTileView(S.oMessageData.body.oTile);}},"refreshTile":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").refreshTile(S.oMessageData.body.oTile);}},"registerTileActionsProvider":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").registerTileActionsProvider(S.oMessageData.body.fnProvider);}},"getCatalogTiles":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").getCatalogTiles(S.oMessageData.body.oCatalog);}},"getCatalogTileViewControl":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").getCatalogTileViewControl(S.oMessageData.body.oCatalogTile);}},"addBookmark":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").addBookmark(S.oMessageData.body.oParameters,S.oMessageData.body.oGroup);}},"countBookmarks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").countBookmarks(S.oMessageData.body.sUrl);}},"deleteBookmarks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").deleteBookmarks(S.oMessageData.body.sUrl);}},"updateBookmarks":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").updateBookmarks(S.oMessageData.body.sUrl,S.oMessageData.body.oParameters);}},"setTileVisible":{executeServiceCallFn:function(S){return sap.ushell.Container.getService("LaunchPage").setTileVisible(S.oMessageData.body.oTile,S.oMessageData.body.bNewVisible);}}}}});};function s(S){if(S===true&&p===undefined){p=new P();p.setShadow(true);p.setModal(true,"sapMDialogBlockLayerInit");p.setNavigationMode("SCOPE");p.eOpenState=c.OpenState.OPEN;jQuery('#shell-cntnt').css('zIndex',40);p._iZIndex=30;p._duringOpen();}else if(S===false&&p!==undefined){p._oLastPosition=p._oDefaultPosition;p.destroy();p=undefined;jQuery('#shell-cntnt').css('zIndex','auto');}}return new b();},false);
sap.ui.predefine('sap/ushell/components/homepage/ComponentKeysHandler',["sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/Config"],function(A,C){"use strict";var a=function(){};a.prototype={keyCodes:jQuery.sap.KeyCodes,tileFocusCustomData:new A({key:"tabindex",value:"0",writeToDom:true}),goToTileContainer:function(){if(this.oModel.getProperty('/tileActionModeActive')){this.goToFirstVisibleTileContainer();}else{this.goToLastVisitedTile();}},goToFirstVisibleTileContainer:function(){var j=jQuery("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible"),t=this.oModel.getProperty("/topGroupInViewPortIndex");if(j.length){var b=jQuery(j.get(t));if(b.length){this._setTileContainerSelectiveFocus(b);}}},goToLastVisitedTile:function(j,l){var b,d,e=jQuery(".sapUshellTile, .sapFCard, .sapMGTLineMode");if(l){var f=jQuery("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible"),t=this.oModel.getProperty("/topGroupInViewPortIndex");var g=j||jQuery(f.get(t));var h=g.find(".sapUshellTile, .sapFCard, .sapMGTLineMode");b=h.filter(":visible").eq(0);d=h.filter("[tabindex=0]:visible").eq(0);if(!b.length){b=e.filter(":visible").eq(0);}}else{b=e.filter(":visible").eq(0);d=e.filter("[tabindex=0]:visible").eq(0);}if(d.length){this._moveScrollDashboard(d);}else if(b.length){b.attr("tabindex","0");this._moveScrollDashboard(b);}},_goToFirstTileOfNextGroup:function(d,e){this._preventDefault(e);var i=this._getGroupAndTilesInfo();if(i){var n=this._getNextGroup(d,i.oGroup,false,true);if(n){this._goToTileOfGroup("first",n);}}},_goToTileOfGroup:function(p,g){if(g){var b=g.getTiles();if(this.oModel.getProperty('/tileActionModeActive')){b.push(g.oPlusTile);}b=b.concat(g.getLinks());p=p==="first"?0:p;p=p==="last"?b.length-1:p;var t=b[p];if(t&&t.getDomRef()){var j=jQuery(t.getDomRef());if(j.length===1){this._moveScrollDashboard(j);return true;}}}return false;},_moveTile:function(d){var i=this._getGroupAndTilesInfo(),D=this._getNextTile(d,true,i);if(D){var o=D.getParent();if(C.last("/core/home/gridContainer")&&o.getParent().getId()!=="dashboardGroups"){o=o.getParent();}var s=D.getMode?D.getMode():'ContentMode',b=i.oCurTile.getMode?i.oCurTile.getMode():'ContentMode',e=s==='LineMode'?o.getLinks():o.getTiles(),n=0;if(i.oGroup===o){n=e.indexOf(D);if(b==="LineMode"&&s==="ContentMode"&&d==="left"){n=e.length;}}else if(d==="left"||d==="up"){n=e.length;}var E,f,t=this;if(b===s){var g=jQuery(".sapUshellDashboardView").control(0);E="movetile";f={sTileId:g.getController()._getTileUuid(i.oCurTile),toGroupId:o.getGroupId?o.getGroupId():o.groupId,toIndex:n,sToItems:b==='LineMode'?'links':'tiles',sFromItems:b==='LineMode'?'links':'tiles',sTileType:b==='LineMode'?'link':'tile'};if(s==="LineMode"){f.callBack=function(){setTimeout(function(){e=s==='LineMode'?o.getLinks():o.getTiles();t._moveScrollDashboard(e[n].$());},10);};}else{setTimeout(function(){e=s==='LineMode'?o.getLinks():o.getTiles();t._moveScrollDashboard(e[n].$());},10);}}else{E="convertTile";f={toGroupId:o.getGroupId?o.getGroupId():o.groupId,srcGroupId:i.oGroup.getGroupId?i.oGroup.getGroupId():i.oGroup.groupId,toIndex:n,callBack:function(){setTimeout(function(){e=s==='LineMode'?o.getLinks():o.getTiles();t._moveScrollDashboard(e[n].$());},10);},tile:i.oCurTile,longDrop:false};}sap.ui.getCore().getEventBus().publish("launchpad",E,f);}},callbackSetFocus:function(t){var b=this;setTimeout(function(){if(t.oParent&&t.oParent instanceof sap.ushell.ui.launchpad.Tile){b._moveScrollDashboard(jQuery(t.oParent.getDomRef()));}else{b._moveScrollDashboard(t.$());}});},_getTileCenter:function(d,t,T){if(!(T instanceof HTMLElement)){var j=T.$().find(".sapMGTLineStyleHelper");if(T.isLink&&j&&j.length>1){if(d==="down"){return t.right;}return t.left;}}return t.right-((t.right-t.left)/2);},_getTileRect:function(d,t){if(t instanceof HTMLElement){return t.getBoundingClientRect();}var j=t.$().find(".sapMGTLineStyleHelper");if(t.isLink&&j&&j.length){if(d==="down"){return j.get(j.length-1).getBoundingClientRect();}else{return j.get(0).getBoundingClientRect();}}if(t.getDomRef()){return t.getDomRef().getBoundingClientRect();}},_findClosestTile:function(d,t,o){var b=this._getTileRect(d,o),n=this._getTileCenter(d,b,o);var e,f=Infinity,g=d==="down"?1:-1,h=t.indexOf(o)+g,i;for(;;h+=g){var T=t[h];if(!T){return e;}if(!e){if(d==="down"&&h===t.length-1){return T;}if(d==="up"&&h===0){return T;}}var j=this._getTileRect(d,T);if(!j){return e;}if(d==="down"&&b.bottom+5>=j.bottom){continue;}if(d==="up"&&b.top-5<=j.top){continue;}if(e&&i!=j.top){return e;}i=j.top;var k=Math.min(Math.abs(j.left-n),Math.abs(j.right-n));if(f>k){f=k;e=T;}else{return e;}}},_getNextTile:function(d,m,g){var i=g||this._getGroupAndTilesInfo(),l=true;var n;var N;var G;var b;if(!i||(m&&i.oGroup.getProperty('isGroupLocked'))){return null;}if(m){var t=i.oCurTile.getBindingContext().getObject().object;l=sap.ushell.Container.getService("LaunchPage").isLinkPersonalizationSupported(t);}if(d==="right"||d==="left"){var f=i.oCurTile.isLink?i.aLinks:i.aTiles,e=f.indexOf(i.oCurTile),h=d==="right"?e+1:e-1;if(f[h]&&f[h].getDomRef()){if(m&&f[h]===i.oGroup.oPlusTile){}else{return f[h];}}if(d==="right"&&!i.oCurTile.isLink&&i.aLinks.length&&l){return i.aLinks[0];}if(d==="left"&&i.oCurTile.isLink&&i.aTiles.length){return i.oGroup.getShowPlaceholder()?i.oGroup.oPlusTile:i.aTiles[i.aTiles.length-1];}}var o=this._getNextGroup(d,i.oGroup,m,l);if(o){n=o.getTiles();N=o.getLinks();if(d==="right"){if(n.length===0&&N.length===0){return o.oPlusTile;}else if(n.length===0){return N[0];}else{return n[0];}}if(d==="left"){if(n.length===0&&N.length===0){return o.oPlusTile;}else if(N.length===0){return n[n.length-1];}else{return N[N.length-1];}}}if(d==="down"||d==="up"){G=l?i.aTiles.concat(i.aLinks):i.aTiles;b=[];if(o){var j=o.getTiles(),k=o.getLinks();b=l?j.concat(k):j;if(b.length===0){b.push(o.oPlusTile);}}var J=(d==="down")?G.concat(b):b.concat(G);return this._findClosestTile(d,J,i.oCurTile);}},_getNextGroup:function(d,o,m,l){var n,g=o.getParent().getGroups(),b=g.indexOf(o),e=b;if(d==="down"||d==="right"){n=1;}else{n=-1;}e+=n;while(g[e]){var N=g[e],f=N.getTiles(),h=N.getLinks();var i=l?f.concat(h):f;var I=N.getVisible()&&!(N.getIsGroupLocked()&&m)&&!(N.getIsGroupLocked()&&i.length===0)&&!(i.length===0&&!(m||this.oModel.getProperty('/tileActionModeActive')));if(I){return N;}e+=n;}},_getGroupAndTilesInfo:function(){var j=this._getFocusOnTile(jQuery(document.activeElement));if(!j||!j.length){return null;}var o=j.control(0);o.isLink=j.hasClass('sapUshellLinkTile')||j.hasClass('sapMGTLineMode');var g=j.closest(".sapUshellTileContainer").control(0);if(!g){return null;}var t=g.getTiles();if(g.getShowPlaceholder()){t.push(g.oPlusTile);}return{oCurTile:o,oGroup:g,aTiles:t,aLinks:g.getLinks()};},_goToSiblingElementInTileContainer:function(d,j){var b=j.closest('.sapUshellTileContainer'),e,f,g;e=j.closest('.sapUshellTileContainerBeforeContent');if(e.length){if(d==='up'||d==="left"){this._goToNextTileContainer(e,d);}else{g=b.find(".sapUshellTileContainerHeader").eq(0);this._setTabIndexOnTileContainerHeader(g);g.focus();}return;}e=j.closest('.sapUshellTileContainerHeader');if(e.length){if(d==='up'){this._setTabIndexOnTileContainerHeader(g);if(!this._goToTileContainerBeforeContent(b)){this._goToNextTileContainer(e,d);}}else if(d==="down"){f=b.find(".sapUshellTile, .sapFCard, .sapUshellLinkTile").eq(0);if(f.length){this._moveScrollDashboard(f);}else{this._goToNextTileContainer(e,d);}}else if(d==="left"){if(j.hasClass("sapUshellTileContainerHeader")){if(!this._goToTileContainerBeforeContent(b)){this._goToNextTileContainer(e,"left");}}else{g=j.closest(".sapUshellTileContainerHeader");g.focus();}}else if(d==="right"){var h=j.hasClass("sapMInputBaseInner");if(!h){f=b.find(".sapUshellTile, .sapFCard, .sapUshellLinkTile").eq(0);if(f.length){this._moveScrollDashboard(f);}else{this._goToNextTileContainer(e,"down");}}}return;}e=this._getFocusOnTile(j);if(e){this._goFromFocusedTile(d,e,true);return;}e=j.closest('.sapUshellTileContainerAfterContent');if(e.length){if(d==='up'||d==="left"){this._goToTileOfGroup("first",e.control(0));}else{this._goToNextTileContainer(e,d);}}},_goToNextTileContainer:function(j,d){var b=j.closest('.sapUshellTileContainer');if(b.length===1){var e=jQuery(".sapUshellTileContainer").filter(":visible"),n=(d==='down')?1:-1,f=jQuery(e[e.index(b)+n]);if(f.length===1){var g=f.find('.sapUshellTileContainerHeader');if(d==='down'){if(!this._goToTileContainerBeforeContent(f)){this._setTabIndexOnTileContainerHeader(g);this._setTileContainerSelectiveFocus(f);}}else if(!this._goToTileContainerAfterContent(f)){if(d==="up"||d==="left"){var s=d==="up"?"first":"last";if(!this._goToTileOfGroup(s,f.control(0))){this._setTabIndexOnTileContainerHeader(g);g.focus();}}}}}},_goToTileContainerBeforeContent:function(j){var b=j.hasClass('sapUshellTileContainer')?j:j.closest('.sapUshellTileContainer'),d=b.find(".sapUshellTileContainerBeforeContent button").filter(":visible");if(d.length){d.focus();return true;}else{return false;}},_goToTileContainerAfterContent:function(j){var b=j.hasClass('sapUshellTileContainer')?j:j.closest('.sapUshellTileContainer'),d=b.find(".sapUshellTileContainerAfterContent button").filter(":visible");if(d.length){d.focus();return true;}else{return false;}},_goFromFocusedTile:function(d,$,i){var n=this._getNextTile(d);if(n){var N=n.$(),b=$.closest('.sapUshellTileContainer'),e=N.closest('.sapUshellTileContainer');if(i&&(b.get(0).id!==e.get(0).id)){if(d==='down'||d==='right'){if(!this._goToTileContainerAfterContent(b)){this._setTabIndexOnTileContainerHeader(e.find('.sapUshellTileContainerHeader'));this._setTileContainerSelectiveFocus(e);}}else if(d==='up'||d==='left'){var f=b.find('.sapUshellTileContainerHeader');this._setTabIndexOnTileContainerHeader(f);f.focus();}}else{this._moveScrollDashboard(N);}}},_setTabIndexOnTileContainerHeader:function(j){jQuery(".sapUshellTileContainerHeader").attr("tabindex",-1);jQuery(".sapUshellTileContainerHeader .sapUshellContainerTitle").attr("tabindex",-1);jQuery(".sapUshellTileContainerHeader .sapUshellContainerHeaderActions button").attr("tabindex",-1);if(j){var b=j.find(".sapUshellContainerTitle").eq(0),d=j.find(".sapUshellContainerHeaderActions").eq(0);j.attr('tabindex',0);b.attr('tabindex',0);d.find('button').attr('tabindex',0);}},_setTileContainerSelectiveFocus:function(j){var b=jQuery("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible"),d=j.find(".sapUshellTileContainerBeforeContent button"),e=j.find(".sapUshellTileContainerHeader").eq(0),B=d.length&&d.is(":visible");if(B){d.focus();}else if(j.get(0)===b.get(0)){this.goToLastVisitedTile();}else if(e.length){this._setTabIndexOnTileContainerHeader(e);e.focus();}},setTileFocus:function(j){if(!j.hasClass('sapUshellPlusTile')){if(j.parents('#catalogView').length>0){this.setFocusOnCatalogTile(j.find('[tabindex]').eq(0));}}var b=jQuery(".sapUshellTile, .sapFCard, .sapMGTLineMode, .sapUshellLinkTile, .sapMGT").filter("[tabindex=0]").get();for(var i=0;i<b.length;i++){b[i].setAttribute("tabindex","-1");}if(j.length>0){j.attr("tabindex",0);if(j.prop("tagName")==="DIV"&&jQuery(j).hasClass("sapUshellLinkTile")&&j.getMode==undefined){j=j.find("a").length?j.find("a")[0]:j;}j.focus();if(j[0]&&j[0].id){var t=sap.ui.getCore().byId(j[0].id);var d=this.tileFocusCustomData.getParent&&this.tileFocusCustomData.getParent();if(d){d.removeAggregation("customData",this.tileFocusCustomData,true);}if(t&&sap.ui.getCore().byId(t.getId())&&this.tileFocusCustomData&&sap.ui.getCore().byId(this.tileFocusCustomData.getId())){t.addAggregation("customData",this.tileFocusCustomData,true);}}}},setFocusOnCatalogTile:function(j){var p=jQuery(".sapUshellTile[tabindex=0]"),b,v;if(p.length){jQuery(".sapUshellTileContainerContent [tabindex=0]").get().forEach(function(h){jQuery(h).attr("tabindex",-1);});b=p.find('[tabindex], a').andSelf().filter('[tabindex], a');b.attr("tabindex",-1);}if(!j){v=jQuery(".sapUshellTile, .sapUshellAppBox").filter(":visible");if(v.length){j=jQuery(v[0]);}else{return;}}j.attr("tabindex",0);j.find("button").attr("tabindex",0);j.focus();},_moveScrollDashboard:function(t){if(!t.length){return;}var f=t[0].parentElement.firstChild;var d=document.getElementById("dashboardGroups");var y=f.getBoundingClientRect().top-d.getBoundingClientRect().top;jQuery('#sapUshellDashboardPage section').stop().animate({scrollTop:y},0,function(){this.setTileFocus(t);}.bind(this));},_moveGroupFromDashboard:function(d,j){var b,t=jQuery(".sapUshellDashboardGroupsContainerItem"),i,e;b=j.closest(".sapUshellDashboardGroupsContainerItem");i=t.index(b);e=d=="up"||d=="left"?i-1:i+1;this._moveGroup(i,e);},_moveGroup:function(f,t){if(t<0||t>=jQuery(".sapUshellDashboardGroupsContainerItem").length||t<jQuery(".sapUshellDisableDragAndDrop").length){return;}sap.ui.getCore().getEventBus().publish("launchpad","moveGroup",{fromIndex:f,toIndex:t});var b=this;setTimeout(function(){var d=jQuery(".sapUshellTileContainerHeader")[t];b._setTabIndexOnTileContainerHeader(jQuery(d));jQuery(d).focus();},100);},_getFocusOnTile:function(j){var b;['.sapUshellTile','.sapFCard','.sapUshellLinkTile'].forEach(function(s){var d=j.closest(s);if(d.length){b=d;}});return b;},_renameGroup:function(j){if(j.closest('.sapUshellTileContainerHeader').length===1){j=j[0].tagName==='H2'?j:j.find("h2");j.click();}},_arrowsButtonsHandler:function(d,e,j){var i=this.oModel.getProperty('/tileActionModeActive');if((i&&j.hasClass('sapMInputBaseInner'))||j.hasClass("sapMITBFilter")){return;}else{this._preventDefault(e);}if(j.hasClass("sapUshellAnchorItem")){this._handleAnchorNavigationItemsArrowKeys(d,j);return;}var b=this._getFocusOnTile(j);if(e.ctrlKey===true&&this.oModel.getProperty("/personalization")){var f=j.closest('.sapUshellTileContainerHeader');if(b){this._moveTile(d,b);}else if(f.length){var g=f.closest('.sapUshellTileContainerContent');if(!g.hasClass('sapUshellTileContainerDefault')||!g.hasClass('sapUshellTileContainerLocked')){this._moveGroupFromDashboard(d,f);}}}else if(i){this._goToSiblingElementInTileContainer(d,j);}else if(b){this._goFromFocusedTile(d,b,i);}else if(!j.hasClass("sapUshellActionItem")){this.goToLastVisitedTile();}},_handleAnchorNavigationItemsArrowKeys:function(d,j){var b=jQuery(".sapUshellAnchorItem").filter(":visible"),n=b.index(j),N=j;if(d==="left"||d==="up"){if(n>0){N=b.get(n-1);}}else if(d==="right"||d==="down"){if(n<b.length-1){N=b.get(n+1);}}this._setAnchorItemFocus(jQuery(N));},_setAnchorItemFocus:function(j){jQuery(".sapUshellAnchorItem").get().forEach(function(h){jQuery(h).attr("tabindex",-1);});j.attr("tabindex",0);j.focus();},_appFinderHomeEndButtonsHandler:function(d,e,j){var v=jQuery(".sapUshellTile, .sapUshellAppBox").filter(":visible"),b;if(v.length){if(d==="home"){b=jQuery(v.get(0));}if(d==="end"){b=jQuery(v.get(v.length-1));}}if(b){this._preventDefault(e);this._appFinderFocusAppBox(j,b);}},_homeEndButtonsHandler:function(s,e,j){if(j.hasClass("sapUshellAnchorItem")){this._preventDefault(e);this._setAnchorItemFocus(jQuery(".sapUshellAnchorItem").filter(":visible:"+s));}else if(e.ctrlKey===true){this._preventDefault(e);var b=jQuery(".sapUshellTile").filter(":visible")[s]();this._moveScrollDashboard(b);}else{var d=j.closest('.sapUshellTileContainer');if(d){var g=d.control(0);if(g){this._preventDefault(e);this._goToTileOfGroup(s,g);}}}},_deleteButtonHandler:function(j){if(this.oModel.getProperty("/personalization")&&this.oModel.getProperty("/tileActionModeActive")){var b=this._getFocusOnTile(j);if(b&&!b.hasClass('sapUshellLockedTile')&&!b.hasClass('sapUshellPlusTile')){var i=this._getGroupAndTilesInfo();if(i){var d=jQuery(".sapUshellDashboardView").control(0),t=d.getController()._getTileUuid(i.oCurTile),e=this;setTimeout(function(){if(i.oCurTile.getDomRef()){e._moveScrollDashboard(i.oCurTile.$());}else{e._moveScrollDashboard(i.oGroup.oPlusTile.$());}},100);sap.ui.getCore().getEventBus().publish("launchpad","deleteTile",{tileId:t},this);}}}},_ctrlPlusArrowKeyButtonsHandler:function(d){var j=jQuery(document.activeElement),b=j.closest('.sapUshellTileContainerHeader');if(this._getFocusOnTile(j)){this._moveTile(d);}else if(b.length){var e=b.closest('.sapUshellTileContainerContent');if(!e.hasClass('sapUshellTileContainerDefault')||!e.hasClass('sapUshellTileContainerLocked')){this._moveGroupFromDashboard(d,b);}}},_spaceButtonHandler:function(e,j){if(this._getFocusOnTile(j)){e.preventDefault();j.click(j);if(j.control(0).getUuid){sap.ui.getCore().getEventBus().publish("launchpad","dashboardTileClick",{uuid:j.control(0).getUuid()});}}else{j.click();}},_enterButtonHandler:function(j){if(j.hasClass('sapMInputBaseInner')){var b=j.closest('.sapUshellTileContainerHeader'),t=this;if(b.length===1){setTimeout(function(){b=jQuery("#"+b[0].id);t._setTabIndexOnTileContainerHeader(b);b.focus();},10);}}if(this._getFocusOnTile(j)){j.click(j);if(j.control(0).getUuid){sap.ui.getCore().getEventBus().publish("launchpad","dashboardTileClick",{uuid:j.control(0).getUuid()});}}},goToSelectedAnchorNavigationItem:function(){this._setAnchorItemFocus(jQuery(".sapUshellAnchorItemSelected"));return jQuery(document.activeElement).hasClass("sapUshellAnchorItemSelected");},handleFocusOnMe:function(e,f){var r=sap.ushell.Container.getRenderer("fiori2"),h=c;if(r){var s=r.getCurrentCoreView();if(s==="home"){if(f){if(e.shiftKey){var d=window.document.getElementById("sapUshellDashboardFooterDoneBtn");if(d){d.focus();}else{h.goToLastVisitedTile();}}else if(!h.goToSelectedAnchorNavigationItem()){h.goToLastVisitedTile();}}else{h._dashboardKeydownHandler(e);}}if(s==="appFinder"){if(f){if(e.shiftKey){h.setFocusOnCatalogTile();}else{var o=sap.ui.getCore().byId("openCloseButtonAppFinderSubheader");if(o&&o.getVisible()){o.focus();}else{h.appFinderFocusMenuButtons(e);}}}else{h._appFinderKeydownHandler(e);}}}},_groupHeaderNavigation:function(j){var b;if(j.hasClass("sapUshellTileContainerHeader")){b=j.find(".sapUshellContainerTitle");b.focus();}else if(j.closest(".sapUshellTileContainerHeader")){b=j.closest(".sapUshellTileContainerHeader");b.focus();}},_appFinderFocusAppBox:function(j,b){if(j&&b){j.attr("tabindex","-1").find(".sapUshellPinButton").attr("tabindex","-1");b.attr("tabindex","0").focus();b.find(".sapUshellPinButton").attr("tabindex","0");}},_preventDefault:function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();},_getNextCatalog:function(d,j){var b;if(d==="down"||d==="right"){b=j.next();}else if(d==="up"||d==="left"){b=j.prev();}else{jQuery.sap.log.error("Direction is unkown",d,"sap.ushell.components.homepage.ComponentKeysHandler");return null;}if(b.length>0){var n=b.find("li.sapUshellAppBox, li.sapUshellTile").get().length;if(n>0){return b;}else{return this._getNextCatalog(d,b);}}},_getNextCatalogItem:function(d,j,p){var b=jQuery(j.parents()[2]),e=b.find("li.sapUshellAppBox, li.sapUshellTile").get();if(d==="right"||d==="left"){var n=e.indexOf(j.get(0)),f=d==="right"?n+1:n-1;if(e[f]){return e[f];}}var g=this._getNextCatalog(d,b),N=g?g.find("li.sapUshellAppBox, li.sapUshellTile").get():[];if(N.length>0&&d==="right"){return N[0];}if(N.length>0&&d==="left"){return N[N.length-1];}if(d==="down"||d==="up"){if(N.length>0&&p){return N[0];}else{var J=(d==="down")?e.concat(N):N.concat(e);return this._findClosestTile(d,J,j.get(0));}}},_appFinderKeysHandler:function(d,e,j,p){if(j.is(".sapUshellAppBox, .sapUshellTile")){this._preventDefault(e);var b=jQuery(this._getNextCatalogItem(d,j,p));if(b){this._appFinderFocusAppBox(j,b);}}},appFinderFocusMenuButtons:function(e){var b=jQuery("#catalog-button, #userMenu-button, #sapMenu-button").filter("[tabindex=0]");if(b.length){b.eq(0).focus();this._preventDefault(e);return true;}return false;},_appFinderKeydownHandler:function(e){var j=jQuery(document.activeElement);if(e.srcElement.id!=="appFinderSearch-I"){var p=e.keyCode,i=sap.ui.getCore().getConfiguration().getRTL();if(i&&p===this.keyCodes.ARROW_RIGHT){p=this.keyCodes.ARROW_LEFT;}else if(i&&p===this.keyCodes.ARROW_LEFT){p=this.keyCodes.ARROW_RIGHT;}switch(p){case this.keyCodes.ARROW_UP:this._appFinderKeysHandler("up",e,j);break;case this.keyCodes.ARROW_DOWN:this._appFinderKeysHandler("down",e,j);break;case this.keyCodes.ARROW_RIGHT:this._appFinderKeysHandler("right",e,j);break;case this.keyCodes.ARROW_LEFT:this._appFinderKeysHandler("left",e,j);break;case this.keyCodes.PAGE_UP:this._appFinderKeysHandler("up",e,j,true);break;case this.keyCodes.PAGE_DOWN:this._appFinderKeysHandler("down",e,j,true);break;case this.keyCodes.HOME:this._appFinderHomeEndButtonsHandler("home",e,j);break;case this.keyCodes.END:this._appFinderHomeEndButtonsHandler("end",e,j);break;case this.keyCodes.SPACE:this._spaceButtonHandler(e,j);break;default:return;}}},_dashboardKeydownHandler:function(e){var p=e.keyCode,i=sap.ui.getCore().getConfiguration().getRTL(),j=jQuery(document.activeElement);if(i){if(p===this.keyCodes.ARROW_RIGHT){p=this.keyCodes.ARROW_LEFT;}else if(p===this.keyCodes.ARROW_LEFT){p=this.keyCodes.ARROW_RIGHT;}}switch(p){case this.keyCodes.F2:this._renameGroup(j);break;case this.keyCodes.F7:this._groupHeaderNavigation(j);break;case this.keyCodes.DELETE:case this.keyCodes.BACKSPACE:this._deleteButtonHandler(j);break;case this.keyCodes.ARROW_UP:this._arrowsButtonsHandler("up",e,j);break;case this.keyCodes.ARROW_DOWN:this._arrowsButtonsHandler("down",e,j);break;case this.keyCodes.ARROW_RIGHT:this._arrowsButtonsHandler("right",e,j);break;case this.keyCodes.ARROW_LEFT:this._arrowsButtonsHandler("left",e,j);break;case this.keyCodes.PAGE_UP:this._goToFirstTileOfNextGroup("up",e);break;case this.keyCodes.PAGE_DOWN:this._goToFirstTileOfNextGroup("down",e);break;case this.keyCodes.HOME:this._homeEndButtonsHandler("first",e,j);break;case this.keyCodes.END:this._homeEndButtonsHandler("last",e,j);break;case this.keyCodes.SPACE:this._spaceButtonHandler(e,j);break;case this.keyCodes.ENTER:this._enterButtonHandler(j);break;default:break;}return true;},init:function(m){this.oModel=m;}};var c=new a();return c;},true);
sap.ui.predefine('sap/ushell/functionBindPrototype',function(){"use strict";if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var a=Array.prototype.slice.call(arguments,1),b=this,n=function(){},B=function(){return b.apply(this instanceof n&&t?this:t,a.concat(Array.prototype.slice.call(arguments)));};n.prototype=this.prototype;B.prototype=new n();return B;};}},false);
sap.ui.predefine('sap/ushell/iconfonts',['sap/ui/core/IconPool'],function(I){"use strict";var a={};a.registerFiori2IconFont=function(){I.registerFont({fontFamily:"BusinessSuiteInAppSymbols",fontURI:jQuery.sap.getModulePath("sap.ushell.themes.base.fonts")});I.registerFont({fontFamily:"SAP-icons-TNT",fontURI:jQuery.sap.getModulePath("sap.tnt.themes.base.fonts")});var f={fontFamily:"SAP-Icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0018","e0c3"],["F0019","e0c3"],["F0020","e0c3"],["F0021","e10d"],["F0366","e129"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]},F={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]},A={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E213"],["F0429","E2A6"],["F0xx1","E240"],["F0xx2","E241"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10N","E2B5"],["FK10N","E2B6"],["FS10N","E2B7"],["FBL5N","E2B8"],["FBL1N","E2B9"],["FFS01","E2BA"],["FBL3N","E2BB"],["FCOA1","E2BC"]]},o={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E21C"],["F0251","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2BC"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"],["F0600","E38A"]]},b={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F0263","E321"],["F0266","E322"],["F0834","E31D"],["F2001","E31E"],["F0839","E320"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E383"],["F0718","E384"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]},c={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"],["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"]]},d={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F1068","E3BA"],["F0955","E3B9"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"],["F1476","E3C7"]]},e={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1030","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]},g={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1563","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"]]},s={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]},h={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","E700"],["Open","E701"],["Blocked","E702"],["Partially Blocked","E703"],["Open1","E704"],["Partially Adopted","E705"],["Due","E706"],["Overdue","E707"],["Sort","E708"],["Missing Parts","E709"],["Fire","E70A"],["Dangerous Chemicals","E70B"],["Share","E70C"],["Entertainment","E70D"],["Gift","E70E"],["QR Code","E70F"],["Wifi-Online","E710"],["Wifi-Offline","E711"],["Sunrise","E712"],["Sunset","E713"],["Afternoon","E714"],["Night","E715"],["Loading Date","E715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71A"],["Heavy Rain","e71B"],["Foggy","e71C"],["Snow","e71D"],["Risk Assessment","e71E"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72A"],["Location Assets","e72B"],["Transport Systems","e72C"],["Field","e72D"],["Field Group","e72E"],["Record","e730"],["Record Group","e731"]]},i={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(f,F,A,h,o,b,i,c,d,e,g,s);};a.registerFonts=function(){var o,i,j;for(i=0;i<arguments.length;i=i+1){o=arguments[i];for(j=0;j<o.icons.length;j=j+1){I.addIcon(o.icons[j][0],o.collectionName,o.fontFamily,o.icons[j][1],false,true);}}};return a;},true);
sap.ui.predefine('sap/ushell/library',["sap/ui/core/library","sap/m/library","sap/ui/core/Core"],function(c,l,C){"use strict";C.initLibrary({name:"sap.ushell",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.components.container.ApplicationType"],interfaces:[],controls:["sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.EndUserFeedback","sap.ushell.ui.footerbar.HideGroupsButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SettingsButton","sap.ushell.ui.footerbar.UserPreferencesButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Panel","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:[],version:"1.66.0",extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});sap.ushell.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};sap.ushell.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};sap.ushell.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};sap.ushell.components.container.ApplicationType={URL:"URL",WDA:"WDA",NWBC:"NWBC",TR:"TR",WCF:"WCF"};return sap.ushell;},true);
sap.ui.predefine('sap/ushell/navigationMode',[],function(){"use strict";var e={};var _=function(E){var i=true;if(E){if(typeof E!=="object"){i=false;}else{Object.keys(E).forEach(function(k){if(["GUI","WDA","WCF"].indexOf(k)===-1){i=false;}else if(typeof E[k]!=="boolean"){i=false;}});}}if(!i){jQuery.sap.log.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean","Actual parameter: "+JSON.stringify(E),"sap.ushell.services.navigationMode");}};e._isLegacyApplicationType=function(A){switch(A){case"WDA":case"TR":case"NWBC":case"WCF":return true;default:return false;}};var a=function(A){switch(A){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined;}};var b=function(E,A){if(jQuery.isPlainObject(E)){return E[a(A)];}return false;};e.compute=function(n,E,s,A,o){var i,l,c=["inplace","explace"];_(o);var N={};if(c.indexOf(E)>=0){N["sap-ushell-next-navmode"]=E;}if(c.indexOf(s)>=0){i=e._getInternalNavigationMode(s,n);jQuery.sap.log.debug("Navigation mode was forced to "+i,"because sap-ushell-navmode parameter was set to "+s+" for target with applicationType: "+A,"sap.ushell.navigationMode");N.navigationMode=i;N.explicitNavMode=true;return N;}l=e._isLegacyApplicationType(A)&&e._isLegacyApplicationType(n);if(b(o,n)===true&&!l){N.navigationMode="embedded";}return N;};e._getInternalNavigationMode=function(E,A){var i={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded"},URL:{inplace:"embedded",explace:"newWindow"},WCF:{inplace:"embedded",explace:"newWindowThenEmbedded"}};if(!i.hasOwnProperty(A)){jQuery.sap.log.error(A+" is not a valid application type","expected one of "+Object.keys(i).join(", "),"sap.ushell.navigationMode");return null;}if(E!=="inplace"&&E!=="explace"){jQuery.sap.log.error(E+" is not a valid external navigation mode","expected one of 'inplace', 'explace'","sap.ushell.navigationMode");return null;}return i[A][E];};e.getExternalNavigationMode=function(i){var E={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!E.hasOwnProperty(i)){jQuery.sap.log.error(i+" is not a recognized internal navigation mode","expected one of "+Object.keys(E).join(","),"sap.ushell.navigationMode");return null;}return E[i];};var w=["NWBC","WDA","TR","WCF"];e.getNavigationMode=function(r,c){var A=r.additionalInformation,s=r.applicationType,u,U;if(w.indexOf((c||{}).applicationType)>-1&&!(c||{}).explicitNavMode){return'newWindowThenEmbedded';}if((A===null||typeof A==="string"||typeof A==="undefined")&&(s==="URL"||s==="SAPUI5")){if(A&&A.indexOf("managed=")===0){if(A==="managed=FioriWave1"){return"embedded";}if(A==="managed="){return"newWindow";}return undefined;}if(A&&A.indexOf("SAPUI5.Component=")===0){u="[a-zA-Z0-9_]+";U=["^SAPUI5.Component=",u,"([.]",u,")*$"].join("");if(!(new RegExp(U)).test(A)){jQuery.sap.log.warning(["The UI5 component name in",A,"is not valid.","Please use names satisfying",U].join(" "));}return"embedded";}return"newWindow";}if(w.indexOf(s)>-1){return"newWindowThenEmbedded";}return undefined;};e.computeNavigationModeForHomepageTiles=function(A,s,i){var r={applicationType:A,additionalInformation:s};if(w.indexOf(A)>-1&&i){return"embedded";}return this.getNavigationMode(r);};return e;},true);
sap.ui.predefine('sap/ushell/override',function(){"use strict";var o={};o.updateAggregation=function(n){if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{var b=this.mBindingInfos[n],B=b.binding,a=B.getContexts(),f=b.factory,A=this.getMetadata().getJSONKeys()[n],g=A._sMutator+"Group",G=B.isGrouped()&&this[g],i=[],c=jQuery.proxy(function(C){var I=this.getId()+"-"+jQuery.sap.uid(),d=f(I,C);d.setBindingContext(C,b.model);this[A._sMutator](d);},this);if(G){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{i=this[A._sGetter]();o._adaptCurrentGroup(a,i);o._updateCurrentGroup(a,i,b.model,c);i.length=a.length;}}};o._adaptCurrentGroup=function(b,I){var i,a,c;for(i=0;i<b.length;i++){a=!!(I[i]&&I[i].isA("sap.ui.integration.widgets.Card"));c=!!b[i].getProperty(b[i].sPath+"/isCard");if(a||c){var j=i;for(;j<I.length;j++){I[j].destroy();}break;}}};o._updateCurrentGroup=function(b,I,B,a){var i;for(i=0;i<b.length;i++){if(i<I.length&&!I[i].bIsDestroyed){I[i].setBindingContext(b[i],B);}else{a(b[i]);}}for(;i<I.length;++i){I[i].destroy();}};o.updateAggregationGrouped=function(n){var b=this.mBindingInfos[n],B=b.binding,f=b.factory,c,N=null,g=null,G=null,t=this,I=t.getItems(),l=0,L=0,i,s,T=[];g=B.isGrouped()&&this.addItemGroup;jQuery.each(B.getContexts(),function(a,C){if(g&&B.aSorters.length>0){N=B.aSorters[0].fnGroup(C);if(typeof N==="string"){N={key:N};}if(N.key!==G){var d,h;if(b.groupHeaderFactory){d=b.groupHeaderFactory(N);}h=d||new sap.m.GroupHeaderListItem({title:N.text||N.key}).addStyleClass("sapMListHdr");t.insertAggregation("items",h,L,true);L=L+1;G=N.key;}}I=t.getItems();for(i=L;i<I.length;i=i+1){if(I[i].constructor===sap.m.GroupHeaderListItem){T.push(t.removeItem(I[i]));I=t.getItems();}}if(L<I.length){I[L].setBindingContext(C,b.model);if(I[L].aDelegates){jQuery.each(I[L].aDelegates,function(i,v){v.vThis=C;});}}else{s=t.getId()+"-"+L;c=f(s,C);c.setBindingContext(C,b.model);t.addItem(c);}L=L+1;l=L;});for(i=I.length-1;i>=l;i=i-1){T.push(t.removeItem(I[i]));}setTimeout(function(){jQuery.each(T,function(i,v){v.destroy();});},1);};o.updateAggregatesFactory=function(n){return function(){jQuery.proxy(o.updateAggregation,this,n)();};};return o;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/AccessKeysHandler',["sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/ui/launchpad/ShortcutsHelpContainer"],function(D,C,E,r,S){"use strict";var A=function(){};A.prototype={bFocusOnShell:true,bFocusPassedToExternalHandlerFirstTime:true,isFocusHandledByAnotherHandler:false,fnExternalKeysHandler:null,sLastExternalKeysHandlerUrl:null,fnExternalShortcuts:null,isleftAltPressed:false,bForwardNavigation:true,aShortcutsDescriptions:[],appOpenedHandler:function(){var c=hasher.getHash();if(c!==this.sLastExternalKeysHandlerUrl){this.fnExternalKeysHandler=null;}this.sLastExternalKeysHandlerUrl=c;},_focusItemInOverflowPopover:function(i){var o=sap.ui.getCore().byId("headEndItemsOverflow");if(o&&o.isOpen()){if(o.getContent().length){this._focusIteminPopover(i,o.getContent()[0].getItems());}}else{var O=window.document.getElementById("endItemsOverflowBtn");if(O){O.click();var t=this;window.setTimeout(function(){t._focusItemInOverflowPopover(i);},200);}}},_focusItemInUserMenu:function(i){var u=sap.ui.getCore().byId("sapUshellMeAreaPopover");if(u&&u.isOpen()){if(u.getContent().length){this._focusIteminPopover(i,u.getContent()[0].getItems());}}else{var t=this;E.emit("showMeArea",Date.now());window.setTimeout(function(){t._focusItemInUserMenu(i);},200);}},_focusIteminPopover:function(I,b){for(var i=0;i<b.length;i++){var c=b[i].getId().split("-");if(c[c.length-1]===I){b[i].getDomRef().focus();return;}}},_handleAccessOverviewKey:function(){var s=this.oModel.getProperty("/searchAvailable"),p=this.oModel.getProperty("/personalization");if(D.browser.msie){document.addEventListener("help",this._cancelHelpEvent);}var b=[];b=b.concat(this.aShortcutsDescriptions);if(window.document.getElementById("shell-header")){if(p){b.push({text:"Alt+A",description:r.i18n.getText("hotkeyFocusOnAppFinderButton")});}if(s){b.push({text:"Alt+F",description:r.i18n.getText("hotkeyFocusOnSearchButton")});}b.push({text:"Alt+H",description:r.i18n.getText("hotkeyHomePage")});b.push({text:"Alt+M",description:r.i18n.getText("hotkeyFocusOnMeArea")});b.push({text:"Alt+N",description:r.i18n.getText("hotkeyFocusOnNotifications")});b.push({text:"Alt+S",description:r.i18n.getText("hotkeyFocusOnSettingsButton")});b.push({text:"Ctrl+Comma",description:r.i18n.getText("hotkeyOpenSettings")});if(p){b.push({text:"Ctrl+Enter",description:r.i18n.getText("hotkeySaveEditing")});}if(s){var t;if(D.os.macintosh){t="Cmd+Shift+F";}else{t="Ctrl+Shift+F";}b.push({text:t,description:r.i18n.getText("hotkeyFocusOnSearchField")});}}var o=new S();b.forEach(function(v){o.addContent(new sap.m.Label({text:v.description}));o.addContent(new sap.m.Text({text:v.text}));});var d=new sap.m.Dialog({id:"hotKeysGlossary",title:r.i18n.getText("hotKeysGlossary"),contentWidth:"29.6rem",content:o,afterClose:function(){d.destroy();}});d.setBeginButton(new sap.m.Button({text:r.i18n.getText("okBtn"),press:function(){d.close();}}));d.open();},_blockBrowserDefault:function(e){if(D.browser.name==="ie"){var s=window.document.getElementById("shell-header");if(s){s.setAttribute("accesskey",e.key);window.setTimeout(function(){s=window.document.getElementById("shell-header");if(s){s.removeAttribute("accesskey");}},0);}}e.preventDefault();},_handleAltShortcutKeys:function(e){var s=sap.ui.getCore().byId("shell-header"),c=sap.ushell.Container.getRenderer("fiori2").getShellConfig(),u=sap.ui.getCore().byId("sapUshellMeAreaPopover"),n=sap.ui.getCore().byId("shellNotificationsPopover");if(s){if(e.keyCode===65){this._blockBrowserDefault(e);var o=window.document.getElementById("openCatalogBtn");if(o){o.focus();return;}if(c.moveAppFinderActionToShellHeader){this._focusItemInOverflowPopover("openCatalogBtn");return;}this._focusItemInUserMenu("openCatalogBtn");}else if(e.keyCode===70){this._blockBrowserDefault(e);var b=window.document.getElementById("sf");if(b){b.focus();}}else if(e.keyCode===72){this._blockBrowserDefault(e);window.hasher.setHash(s.getHomeUri());if(u&&u.isOpen()){E.emit("showMeArea",false);}if(n&&n.isOpen()){E.emit("showNotifications",false);}var d=window.document.getElementById("shellAppTitle");if(d){d.focus();}}else if(e.keyCode===77){this._blockBrowserDefault(e);if(!(u&&u.isOpen())){E.emit("showMeArea",Date.now());}}else if(e.keyCode===78){this._blockBrowserDefault(e);if(!(n&&n.isOpen())){E.emit("showNotifications",Date.now());}}else if(e.keyCode===83){this._blockBrowserDefault(e);var f=window.document.getElementById("userSettingsBtn");if(f){f.focus();return;}if(c.moveUserSettingsActionToShellHeader){this._focusItemInOverflowPopover("userSettingsBtn");return;}this._focusItemInUserMenu("userSettingsBtn");}}},_handleCtrlShortcutKeys:function(e){if(e.shiftKey){if(e.keyCode===70){var s=window.document.getElementById("sf");if(s){s.click();}}}else if(e.keyCode===188){var o=sap.ui.getCore().byId("userSettingsBtn");if(o){o.firePress();}}else if(e.keyCode===112){this._handleAccessOverviewKey();}else if(e.keyCode===83){var b=window.document.getElementById("appFinderSearch-I");if(b){b.focus();}e.preventDefault();}else if(e.keyCode===13){var d=sap.ui.getCore().byId("sapUshellDashboardFooterDoneBtn");if(d){d.firePress();}}},handleShortcuts:function(e){if(D.os.macintosh&&e.metaKey&&e.shiftKey&&e.keyCode===70){var s=window.document.getElementById("sf");if(s){s.focus();}e.preventDefault();}else if(e.altKey){this._handleAltShortcutKeys(e);}else if(e.ctrlKey){this._handleCtrlShortcutKeys(e);}},registerAppKeysHandler:function(h){this.fnExternalKeysHandler=h;this.sLastExternalKeysHandlerUrl=hasher.getHash();},resetAppKeysHandler:function(){this.fnExternalKeysHandler=null;},getAppKeysHandler:function(){return this.fnExternalKeysHandler;},registerAppShortcuts:function(h,s){this.fnExternalShortcuts=h;this.aShortcutsDescriptions=s;},_handleFocusBackToMe:function(e,i){this.bFocusOnShell=true;var f;if(i){f=window.document.getElementById(i);}else{this.fromOutside=true;if(e){e.preventDefault();this.bForwardNavigation=!e.shiftKey||e.key==="F6";}f=window.document.getElementById("sapUshellHeaderAccessibilityHelper");}if(f){f.focus();}this.bFocusPassedToExternalHandlerFirstTime=true;},setIsFocusHandledByAnotherHandler:function(h){this.isFocusHandledByAnotherHandler=h;},sendFocusBackToShell:function(p){var e,i;if(typeof p==="string"){i=p;}else if(typeof p==="object"){e=p;}this._handleFocusBackToMe(e,i);},_handleEventUsingExteranlKeysHandler:function(e){if(!this.bFocusOnShell&&!this.isFocusHandledByAnotherHandler){if(this.fnExternalKeysHandler&&jQuery.isFunction(this.fnExternalKeysHandler)){this.fnExternalKeysHandler(e,this.bFocusPassedToExternalHandlerFirstTime);this.bFocusPassedToExternalHandlerFirstTime=false;}}this.setIsFocusHandledByAnotherHandler(false);},_cancelHelpEvent:function(e){e.preventDefault();document.removeEventListener("help",this._cancelHelpEvent);},init:function(m){this.oModel=m;document.addEventListener("keydown",function(e){if(e.keyCode===16){return;}if(e.shiftKey){this.bForwardNavigation=false;}else{this.bForwardNavigation=true;}if(e.key==="Tab"||e.key==="F6"){setTimeout(function(){this._handleEventUsingExteranlKeysHandler(e);}.bind(this),0);}else{this._handleEventUsingExteranlKeysHandler(e);}if(e.keyCode===18){if(e.location===window.KeyboardEvent.DOM_KEY_LOCATION_LEFT){this.isleftAltPressed=true;}else{this.isleftAltPressed=false;}}if(this.isleftAltPressed||!e.altKey){this.handleShortcuts(e);if(this.fnExternalShortcuts){this.fnExternalShortcuts(e);}}}.bind(this),true);this._cancelHelpEvent=this._cancelHelpEvent.bind(this);}};var a=new A();E.on("AppRendered").do(A.prototype.appOpenedHandler.bind(a));return a;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/FlpMeasure',['jquery.sap.global'],function(q){"use strict";var P=function(){var p=false,b={};function M(h,n,s,i){this.hash=h;this.name=n;this.start=s;this.end=0;this.duration=0;this.info=i;}function B(h,n,s,a,c){this.hash=h;this.name=n;this.scenario=a;this.sequence=c;this.start=s;this.end=0;this.percent=null;this.duration=0;this.funcs={};}this.start=function(s,a,c){var t=q.sap.now(),o;if(!p){return;}if(b[s]===undefined||b[s]===null){b[s]={};}if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]===null){o=new B(this.hash(),a,t,s,c);b[s][o.name]=o;}};this.startFunc=function(s,a,c,f,i){if(!p)return;var t=q.sap.now();var d=null;if(b[s]===undefined||b[s]===null){b[s]={};}if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]===null){d=new B(this.hash(),a,t,s,c);b[s][a]=d;}var e=new M(this.hash(),f,t,i);b[s][a].funcs[e.hash]=e;return e.hash;};this.end=function(s,a){if(!p)return;var t=q.sap.now();if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]!=null){b[s][a].end=t;b[s][a].duration=Math.round(b[s][a].end-b[s][a].start);}};this.endFunc=function(s,a,f){if(!p)return;var t=q.sap.now();if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]!=null){b[s][a].end=t;b[s][a].duration=Math.round(b[s][a].end-b[s][a].start);b[s][a].funcs[f].end=t;b[s][a].funcs[f].duration=Math.round(b[s][a].funcs[f].end-b[s][a].funcs[f].start);}};this.calc=function(){if(!p)return;return b;};this.hash=function(){if(!p)return;var v=(new Date()).valueOf().toString()+Math.random().toString();var h=5381;for(var i=0;i<v.length;i++){var c=v.charCodeAt(i);h=((h<<5)+h)+c;}return h;};this.getActive=function(){return p;};this.setActive=function(o,c){if(p===o){return;}p=o;document.addEventListener('keyup',function(e){if(e.shiftKey&&e.ctrlKey&&e.altKey&&e.keyCode==77){window.calc=JSON.stringify(q.sap.flpmeasure.calc());window.open(q.sap.getResourcePath("sap/ushell/renderers/fiori2/stat.html"));}},false);return p;};var m=location.href.match(/sap-flp-measure=([^\&]*)/);if(m&&m[1]){if(m[1]==="true"||m[1]==="x"||m[1]==="X"){this.setActive(true);}else{this.setActive(true,m[1]);}}};q.sap.flpmeasure=q.sap.flpmeasure||new P();return q.sap.flpmeasure;});
sap.ui.predefine('sap/ushell/renderers/fiori2/History',function(){"use strict";var H=function(){this._history=[];this.backwards=false;this._historyPosition=-1;this._virtual={};};H.prototype.hashChange=function(n,o){var h=this._history.indexOf(n);if(h===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1);}this._history.push(n);this._historyPosition+=1;this.backwards=false;this.forwards=false;}else{this.backwards=this._historyPosition>h;this.forwards=this._historyPosition<h;this._historyPosition=h;}};H.prototype.pop=function(){var l;if(this._history.length>0){l=this._history.pop();this._historyPosition--;}return l;};H.prototype.isVirtualHashchange=function(n,o){return this._virtual.hasOwnProperty(o)&&this.getCurrentHash()===n&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===o;};H.prototype.setVirtualNavigation=function(h){this._virtual[h]=true;};H.prototype.getCurrentHash=function(){return this._history[this._historyPosition]||null;};H.prototype.getHashIndex=function(h){return this._history.indexOf(h);};H.prototype.getHistoryLength=function(){return this._history.length;};return H;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/Renderer',["sap/ui/core/UIComponent","./RendererExtensions","sap/ushell/ui/shell/ToolAreaItem","./FlpMeasure","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/services/AppConfiguration","sap/ushell/resources","sap/ushell/components/HeaderManager"],function(U,R,T,f,C,E,A,D,J,s,a,r){"use strict";var b=U.extend("sap.ushell.renderers.fiori2.Renderer",{metadata:{version:"1.66.0",dependencies:{version:"1.66.0",libs:["sap.ui.core","sap.m"],components:[]},routing:{config:{path:"sap.ushell.components",async:true,controlId:"viewPortContainer",clearAggregation:false,controlAggregation:"pages"},routes:[{name:"appfinder-legacy",pattern:"Shell-home&/appFinder/:menu:/:filter:"},{name:"home",pattern:["Shell-home?:hashParameters:","Shell-home&/:innerHash*:","Shell-home"],target:"home"},{name:"appfinder",pattern:["Shell-appfinder?:hashParameters:&/:innerHash*:","Shell-appfinder?:hashParameters*:","Shell-appfinder&/:innerHash*:","Shell-appfinder"],target:"appfinder"}],targets:{home:{name:"homepage",type:"Component",title:r.i18n.getText("homeBtn_tooltip"),id:"Shell-home-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/fiori/flp-controls.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},appfinder:{name:"appfinder",type:"Component",id:"Shell-appfinder-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/fiori/flp-controls.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}}}}},init:function(){U.prototype.init.apply(this,arguments);var t=this;var o=this.getRouter();o.getRoute("home").attachMatched(function(){var h=r.i18n.getText("homeBtn_tooltip");A.switchViewState("home",false,"Shell-home");t.setCurrentCoreView("home");a.setCurrentApplication(null);A.getShellUIService().setTitle(h);A.getShellUIService().setHierarchy();A.getShellUIService().setRelatedApps();A.getAppMeta().setAppIcons();});o.getRoute("appfinder-legacy").attachMatched(function(e){o.navTo("appfinder",{},true);});o.getRoute("appfinder").attachMatched(function(e){var c=sap.ui.getCore().getComponent(t.createId("Shell-appfinder-component"));var g=e.getParameter("arguments");if(sap.ushell.Container.getRenderer("fiori2")){sap.ushell.Container.getRenderer("fiori2").setCurrentCoreView("appFinder");}a.setCurrentApplication(null);var h=c.getRouter();c.getRootControl().loaded().then(function(){h.parse(g["innerHash*"]||"");});A.switchViewState("app",false,"Shell-appfinder");A.getAppMeta().setAppIcons();});var d=new J(D);d.setDefaultBindingMode("OneWay");this.setModel(d,"device");this.setModel(r.i18nModel,"i18n");s.initializeAccessKeys();}});b.prototype.createContent=function(){var p=jQuery.sap.getUriParameters().get("appState")||jQuery.sap.getUriParameters().get("sap-ushell-config"),w,v=this.getComponentData()||{},o={applications:{"Shell-home":{}},rootIntent:"Shell-home"},V;w=(p==="headerless-opt")?"headerless":p;if(w){if(!v.config){v.config={};}v.config.appState=w;v.config.appStateOrig=p;v.config.inHeaderLessOpt=(p==="headerless-opt");}if(v.config){if(v.config.rootIntent===undefined){v.config.migrationConfig=true;}v.config=jQuery.extend(true,o,v.config);jQuery.extend(v.config.applications["Shell-home"],C.last("/core/home"),C.last("/core/catalog"));if(v.config.appState==="headerless"||v.config.appState==="merged"||v.config.appState==="blank"){v.config["enablePersonalization"]=false;C.emit("/core/shell/enablePersonalization",false);}else{v.config["enablePersonalization"]=C.last("/core/shell/enablePersonalization");}}f.start(0,"Creating Shell",0);if(v.config&&v.config.customViews){Object.keys(v.config.customViews).forEach(function(c){var V=v.config.customViews[c];sap.ui.view(c,{type:V.viewType,viewName:V.viewName,viewData:V.componentData});});}var S=C.createModel("/core/shell/model",J);v.shellModel=S;V=sap.ui.view("mainShell",{type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.renderers.fiori2.Shell",viewData:v});V.setModel(S);this._oShellView=V;this.oShellModel=A.getElementsModel();V.loaded().then(function(V){sap.ushell.renderers.fiori2.utils.init(V.getController());this.shellCtrl=V.oController;}.bind(this));return V;};b.prototype.createExtendedShellState=function(S,c){return A.shellElements().createExtendedShellState(S,c);};b.prototype.applyExtendedShellState=function(S,c){this.oShellModel.applyExtendedShellState(S,c);};b.prototype.showLeftPaneContent=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("paneContent",typeof i==="string"?[i]:i);}else{this.oShellModel.addLeftPaneContent(typeof i==="string"?[i]:i,false,S);}};b.prototype.showHeaderItem=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("headItems",typeof i==="string"?[i]:i);}else{this.oShellModel.addHeaderItem(typeof i==="string"?[i]:i,false,S);}};b.prototype.showRightFloatingContainerItem=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("RightFloatingContainerItems",typeof i==="string"?[i]:i);}else{this.oShellModel.addRightFloatingContainerItem(typeof i==="string"?[i]:i,false,S);}};b.prototype.showRightFloatingContainer=function(S){A.shellElements().setShellModelForApplications("showRightFloatingContainer",S);};b.prototype.showToolAreaItem=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("toolAreaItems",typeof aIds==="string"?[i]:i);}else{this.oShellModel.addToolAreaItem(i,false,S);}};b.prototype.showActionButton=function(i,c,S,I){var B=[],d=[],o;if(typeof i==="string"){i=[i];}B=i.filter(function(e){o=sap.ui.getCore().byId(e);return o instanceof sap.m.Button&&!(o instanceof sap.ushell.ui.launchpad.ActionItem);});d=i.filter(function(e){o=sap.ui.getCore().byId(e);return o instanceof sap.ushell.ui.launchpad.ActionItem;});if(B.length){this.convertButtonsToActions(B,c,S,I);}if(d.length){if(c){A.shellElements().addShellModelForApplications("actions",i,I);}else{this.oShellModel.addActionButton(i,false,S,I);}}this.toggleOverFlowActions();};b.prototype.showFloatingActionButton=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("floatingActions",typeof i==="string"?[i]:i);}else{this.oShellModel.addFloatingActionButton(typeof i==="string"?[i]:i,false,S);}};b.prototype.showHeaderEndItem=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("headEndItems",typeof i==="string"?[i]:i);}else{this.oShellModel.addHeaderEndItem(typeof i==="string"?[i]:i,false,S);}};b.prototype.setHeaderVisibility=function(v,c,S){if(c){A.shellElements().setShellModelForApplications("headerVisible",v);}else{this.oShellModel.setHeaderVisibility(v,false,S);}};b.prototype.showSubHeader=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("subHeader",typeof i==="string"?[i]:i);}else{this.oShellModel.addSubHeader(typeof i==="string"?[i]:i,false,S);}};b.prototype.showSignOutItem=function(c,S){if(c){A.shellElements().addShellModelForApplications("actions",["logoutBtn"],false);}else{this.oShellModel.showSignOutButton(c,S);}};b.prototype.showSettingsItem=function(c,S){this.oShellModel.showSettingsButton(c,S);};b.prototype.setFooter=function(F){this.shellCtrl.setFooter(F);};b.prototype.setShellFooter=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties;if(g&&g.id&&sap.ui.getCore().byId(g.id)){o=sap.ui.getCore().byId(g.id);if(o){if(this.lastFooterId){this.removeFooter();}this.lastFooterId=oInnerControl.getId();this.shellCtrl.setFooter(o);d.resolve(o);}}if(e){c=e.replace(/\./g,"/");sap.ui.require([c],function(h){o=new h(g);if(t.lastFooterId){t.removeFooter();}t.oShellModel.addElementToManagedQueue(o);t.lastFooterId=o.getId();t.shellCtrl.setFooter(o);d.resolve(o);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};b.prototype.setFooterControl=function(c,o){var d=c.replace(/\./g,"/"),e=sap.ui.require(d),g,h,i=false;if(e){i=true;}else if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}h=function(o){if(c){if(i){return new e(o);}else{var j=jQuery.sap.getObject(c);return new j(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};g=this.createItem(o,undefined,undefined,h);if(this.lastFooterId){this.removeFooter();}this.lastFooterId=g.getId();this.shellCtrl.setFooter(g);return g;};b.prototype.hideHeaderItem=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeHeaderItem([i],c,S);}else{this.oShellModel.removeHeaderItem(i,c,S);}};b.prototype.removeToolAreaItem=function(i,c,S){E.once("ToolAreaCreated").do(function(){if(typeof i==="string"){this.oShellModel.removeToolAreaItem([i],c,S);}else{this.oShellModel.removeToolAreaItem(i,c,S);}}.bind(this));};b.prototype.removeRightFloatingContainerItem=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeRightFloatingContainerItem([i],c,S);}else{this.oShellModel.removeRightFloatingContainerItem(i,c,S);}};b.prototype.hideActionButton=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeActionButton([i],c,S);}else{this.oShellModel.removeActionButton(i,c,S);}this.toggleOverFlowActions();};b.prototype.toggleOverFlowActions=function(){jQuery.sap.measure.start("FLP:Shell.controller.toggleMeAreaView","show or hide actionbox if no actions in me area","FLP");var m=sap.ui.getCore().byId("meArea");var B={};try{if(m){if(m.actionBox){if(m.actionBox._getControlsIds().length===0){sap.ui.getCore().byId("overflowActions").setVisible(false);}else{m.actionBox._getControlsIds().forEach(function(c){var d=sap.ui.getCore().byId(c);if(d.getVisible()){throw B;}});sap.ui.getCore().byId("overflowActions").setVisible(false);}}}}catch(e){if(e!==B){throw e;}else{sap.ui.getCore().byId("overflowActions").setVisible(true);}}jQuery.sap.measure.end("FLP:Shell.controller.toggleMeAreaView");};b.prototype.hideLeftPaneContent=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeLeftPaneContent([i],c,S);}else{this.oShellModel.removeLeftPaneContent(i,c,S);}};b.prototype.hideFloatingActionButton=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeFloatingActionButton([i],c,S);}else{this.oShellModel.removeFloatingActionButton(i,c,S);}};b.prototype.hideHeaderEndItem=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeHeaderEndItem([i],c,S);}else{this.oShellModel.removeHeaderEndItem(i,c,S);}};b.prototype.hideSubHeader=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeSubHeader([i],c,S);}else{this.oShellModel.removeSubHeader(i,c,S);}};b.prototype.removeFooter=function(){this.shellCtrl.removeFooter();if(this.lastFooterId){var F=sap.ui.getCore().byId(this.lastFooterId);if(F){F.destroy();}this.lastFooterId=undefined;}};b.prototype.getCurrentViewportState=function(){return this.shellCtrl.getCurrentViewportState();};b.prototype.addShellSubHeader=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties,i=p.bIsVisible,h=p.bCurrentState,S=p.aStates;if(g&&g.id&&sap.ui.getCore().byId(g.id)){o=sap.ui.getCore().byId(g.id);if(o){if(i){this.showSubHeader(o.getId(),h,S);}d.resolve(o);}}if(e){c=e.replace(/\./g,"/");sap.ui.require([c],function(j){o=new j(g);if(i){t.showSubHeader(o.getId(),h,S);t.oShellModel.addElementToManagedQueue(o);}d.resolve(o);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};b.prototype.addSubHeader=function(c,o,i,d,S){var e=c.replace(/\./g,"/"),g=sap.ui.require(e),h,j,k=false;if(g){k=true;}else if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}j=function(o){if(c){if(k){return new g(o);}else{var l=jQuery.sap.getObject(c);return new l(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};h=this.createItem(o,d,S,j);if(i){this.showSubHeader(h.getId(),d,S);}return h;};b.prototype.addUserAction=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties,i=p.bIsVisible,h=p.bCurrentState,m=h?A.shellElements().getStateModelToUpdate():this.oShellModel.getModelToUpdate(),S=p.aStates,I=p.bIsFirst||true,N;if(g){o=sap.ui.getCore().byId(g.id);}if(o){d.resolve(o);}if(e){if(e==="sap.m.Button"){e="sap.ushell.ui.launchpad.ActionItem";}c=e.replace(/\./g,"/");sap.ui.require([c],function(j){var O;if(h){O=A.shellElements().getStateModelToUpdate();A.shellElements().setStateModelToUpdate(m);}else{O=t.oShellModel.getModelToUpdate();t.oShellModel.setModelToUpdate(m,true);}o=o||new j(g);if(!o.getActionType){o=new j(g);}if(i){t.showActionButton(o.getId(),h,S,I);t.oShellModel.addElementToManagedQueue(o);}if(h){A.shellElements().setStateModelToUpdate(O);}else{t.oShellModel.setModelToUpdate(O,false);}d.resolve(o);});}else{N="You must specify control type in order to create it";jQuery.sap.log.warning(N);d.reject(N);}return d.promise();};b.prototype.addActionButton=function(c,o,i,d,S,I){var e,g,h,j,k=false;if(c==="sap.m.Button"){c="sap.ushell.ui.launchpad.ActionItem";}e=c.replace(/\./g,"/");g=sap.ui.require(e);if(g){k=true;}else if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}j=function(o){if(c){if(k){return new g(o);}else{var l=jQuery.sap.getObject(c);return new l(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};h=this.createItem(o,d,S,j);if(i){this.showActionButton(h.getId(),d,S,I);}return h;};b.prototype.addFloatingButton=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties,i=p.bIsVisible,h=p.bCurrentState,S=p.aStates;if(g&&g.id&&sap.ui.getCore().byId(g.id)){o=sap.ui.getCore().byId(g.id);if(o){if(i){t.showFloatingActionButton(oItem.getId(),h,S);t.oShellModel.addElementToManagedQueue(o);}d.resolve(o);}}if(e){c=e.replace(/\./g,"/");}else{c="sap/m/Button";}sap.ui.require([c],function(j){o=new j(g);if(i){this.showFloatingActionButton(oItem.getId(),h,S);}d.resolve(o);});return d.promise();};b.prototype.addFloatingActionButton=function(c,o,i,d,S){var e,g,h,j,k=false;if(!c){c="sap.m.Button";}e=c.replace(/\./g,"/");g=sap.ui.require(e);if(g){k=true;}else if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}j=function(o){if(c){if(k){return new g(o);}else{var l=jQuery.sap.getObject(c);return new l(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};h=this.createItem(o,d,S,j);if(i){this.showFloatingActionButton(h.getId(),d,S);}return h;};b.prototype.addSidePaneContent=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties,i=p.bIsVisible,h=p.bCurrentState,S=p.aStates;if(g&&g.id&&sap.ui.getCore().byId(g.id)){o=sap.ui.getCore().byId(g.id);if(o){d.resolve(o);}}if(e){c=e.replace(/\./g,"/");sap.ui.require([c],function(j){o=new j(g);if(i){t.oShellModel.addElementToManagedQueue(o);t.showLeftPaneContent(oItem.getId(),h,S);}d.resolve(o);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};b.prototype.addLeftPaneContent=function(c,o,i,d,S){var e=c.replace(/\./g,"/"),g=sap.ui.require(e),h,j,k;if(g){k=true;}else if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}j=function(o){if(c){if(k){return new g(o);}else{var l=jQuery.sap.getObject(c);return new l(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};h=this.createItem(o,d,S,j);if(i){this.showLeftPaneContent(h.getId(),d,S);}return h;};b.prototype.addHeaderItem=function(c,o,i,d,S){if(typeof(arguments[0])==="object"&&typeof(arguments[1])==="boolean"){o=arguments[0];i=arguments[1];d=arguments[2];S=arguments[3];}else{jQuery.sap.log.warning("sap.ushell.renderers.fiori2.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!");}var p=o;p.showSeparator=false;var e=function(o){return new sap.ushell.ui.shell.ShellHeadItem(o);},I=this.createItem(p,d,S,e);if(i){this.showHeaderItem(I.getId(),d,S);}return I;};b.prototype.addRightFloatingContainerItem=function(c,i,d,S){var e=function(c){return new sap.m.NotificationListItem(c);},I=this.createItem(c,d,S,e);if(i){this.showRightFloatingContainerItem(I.getId(),d,S);}return I;};b.prototype.addToolAreaItem=function(c,i,d,S){var e=function(c){return new T(c);},I=this.createItem(c,d,S,e);E.once("ToolAreaCreated").do(function(){if(i){this.showToolAreaItem(I.getId(),d,S);}}.bind(this));return I;};b.prototype.addHeaderEndItem=function(c,o,i,d,S){var p=o;p.showSeparator=false;var e=function(o){return new sap.ushell.ui.shell.ShellHeadItem(o);},I=this.createItem(p,d,S,e);if(i){this.showHeaderEndItem(I.getId(),d,S);}return I;};b.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration();};b.prototype.addEndUserFeedbackCustomUI=function(c,S){this.shellCtrl.addEndUserFeedbackCustomUI(c,S);};b.prototype.addUserPreferencesEntry=function(e){return this.shellCtrl.addUserPreferencesEntry(e);};b.prototype.setHeaderTitle=function(t){this.shellCtrl.setHeaderTitle(t);};b.prototype.setLeftPaneVisibility=function(l,v){this.oShellModel.setLeftPaneVisibility(v,false,[l]);};b.prototype.showToolArea=function(l,v){this.oShellModel.showShellItem("/toolAreaVisible",l,v);};b.prototype.setHeaderHiding=function(h){return this.oShellModel.setHeaderHiding(h);};b.prototype.setFloatingContainerContent=function(c,d,S){this.shellCtrl.setFloatingContainerContent("floatingContainerContent",[c.getId()],d,S);};b.prototype.setFloatingContainerVisibility=function(v){this.shellCtrl.setFloatingContainerVisibility(v);};b.prototype.getFloatingContainerState=function(){return this.shellCtrl.getFloatingContainerState();};b.prototype.getFloatingContainerVisiblity=function(){return this.shellCtrl.getFloatingContainerVisibility();};b.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl.getRightFloatingContainerVisibility();};b.prototype.setFloatingContainerDragSelector=function(e){this.shellCtrl.setFloatingContainerDragSelector(e);};b.prototype.makeEndUserFeedbackAnonymousByDefault=function(e){this.shellCtrl.makeEndUserFeedbackAnonymousByDefault(e);};b.prototype.showEndUserFeedbackLegalAgreement=function(S){this.shellCtrl.showEndUserFeedbackLegalAgreement(S);};b.prototype.LaunchpadState={App:"app",Home:"home"};b.prototype.createTriggers=function(t,c,S){this.oShellModel.createTriggers(t,c,S);};b.prototype.convertButtonsToActions=function(i,c,S,I){var p={},B,t=this;i.forEach(function(d){B=sap.ui.getCore().byId(d);p.id=B.getId();p.text=B.getText();p.icon=B.getIcon();p.tooltip=B.getTooltip();p.enabled=B.getEnabled();p.visible=B.getVisible();if(B.mEventRegistry&&B.mEventRegistry.press){p.press=B.mEventRegistry.press[0].fFunction;}B.destroy();t.addActionButton("sap.ushell.ui.launchpad.ActionItem",p,p.visible,c,S,I);});};b.prototype.createItem=function(c,d,S,e){var i;if(c&&c.id){i=sap.ui.getCore().byId(c.id);}if(!i){i=e(c);if(d){this.oShellModel.addElementToManagedQueue(i);}}return i;};b.prototype.addEntryInShellStates=function(N,e,c,d,S){this.oShellModel.addEntryInShellStates(N,e,c,d,S);};b.prototype.removeCustomItems=function(S,i,c,d){if(typeof i==="string"){this.oShellModel.removeCustomItems(S,[i],c,d);}else{this.oShellModel.removeCustomItems(S,i,c,d);}};b.prototype.addCustomItems=function(S,i,c,d){if(typeof i==="string"){this.oShellModel.addCustomItems(S,[i],c,d);}else{this.oShellModel.addCustomItems(S,i,c,d);}};b.prototype.addRightViewPort=function(v){this.shellCtrl.getViewPortContainer().addRightViewPort(v,false);};b.prototype.addLeftViewPort=function(v){this.shellCtrl.getViewPortContainer().addLeftViewPort(v,false);};b.prototype.getShellController=function(){return this.shellCtrl;};b.prototype.getViewPortContainerCurrentState=function(){return this.shellCtrl.getViewPortContainer().getCurrentState();};b.prototype.ViewPortContainerNavTo=function(N,t,c){return this.shellCtrl.getViewPortContainer().navTo(N,t,c);};function n(){}b.prototype.switchViewPortStateByControl=n;b.prototype.ViewPortContainerAttachAfterSwitchStateAnimationFinished=n;b.prototype.setMeAreaSelected=function(S){this.shellCtrl.setMeAreaSelected(S);};b.prototype.getMeAreaSelected=function(){return this.shellCtrl.getMeAreaSelected();};b.prototype.setNotificationsSelected=function(S){this.shellCtrl.setNotificationsSelected(S);};b.prototype.getNotificationsSelected=function(){return this.shellCtrl.getNotificationsSelected();};b.prototype.addShellDanglingControl=function(c){this.shellCtrl.getView().addDanglingControl(c);};b.prototype.getShellConfig=function(){return(this.shellCtrl.getView().getViewData()?this.shellCtrl.getView().getViewData().config||{}:{});};b.prototype.getEndUserFeedbackConfiguration=function(){return this.shellCtrl.oEndUserFeedbackConfiguration;};b.prototype.reorderUserPrefEntries=function(e){return this.shellCtrl._reorderUserPrefEntries(e);};b.prototype.addUserProfilingEntry=function(e){this.shellCtrl.addUserProfilingEntry(e);};b.prototype.logRecentActivity=function(o){if(!o.appType){o.appType="App";}if(!o.appId){o.appId=o.url;}return this.shellCtrl._logRecentActivity(o);};b.prototype.setCurrentCoreView=function(c){this.currentCoreView=c;};b.prototype.getCurrentCoreView=function(){return this.currentCoreView;};return b;});
sap.ui.predefine('sap/ushell/renderers/fiori2/RendererExtensions',['sap/ushell/EventHub'],function(E){"use strict";function _(C){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"});},0);E.emit("RendererLoaded",{rendererName:"fiori2"});}function a(x,D){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.renderers.fiori2.Renderer",x,D);},0);}sap.ushell.renderers.fiori2.utils={};sap.ushell.renderers.fiori2.utils.publishExternalEvent=a;sap.ushell.renderers.fiori2.utils.init=_;function b(I,L,x){sap.ushell.Container.getRenderer("fiori2").showSubHeader(I.getId(),false,[L,x]);}function c(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideSubHeader(I.getId(),false,[L,x]);}function d(I,L,x){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(I.getId(),false,[L,x]);}function e(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideHeaderItem(I.getId(),false,[L,x]);}function f(B,L,x){sap.ushell.Container.getRenderer("fiori2").showActionButton(B.getId(),false,[L,x]);}function g(B,L,x){sap.ushell.Container.getRenderer("fiori2").hideActionButton(B.getId(),false,[L,x]);}function h(C,L,x){sap.ushell.Container.getRenderer("fiori2").showLeftPaneContent(C.getId(),false,[L,x]);}function i(L,x){sap.ushell.Container.getRenderer("fiori2").hideLeftPaneContent(false,[L,x]);}function j(I,L,x){sap.ushell.Container.getRenderer("fiori2").showFloatingActionButton(I.getId(),false,[L,x]);}function k(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideFloatingActionButton(I.getId(),false,[L,x]);}function l(I,L,x){sap.ushell.Container.getRenderer("fiori2").showHeaderEndItem(I.getId(),false,[L,x]);}function m(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideHeaderEndItem(I.getId(),false,[L,x]);}function n(){return sap.ushell.Container.getRenderer("fiori2").getModelConfiguration();}function o(I,L,T,x){var y=sap.ui.getCore().byId(I);if(x){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(y.getId(),T,[L]);}}function p(C,S){sap.ushell.Container.getRenderer("fiori2").addEndUserFeedbackCustomUI(C,S);}function q(x){sap.ushell.Container.getRenderer("fiori2").addUserPreferencesEntry(x);}function r(T){sap.ushell.Container.getRenderer("fiori2").setHeaderTitle(T);}function s(L,V){sap.ushell.Container.getRenderer("fiori2").setLeftPaneVisibility(L,V);}function t(H){sap.ushell.Container.getRenderer("fiori2").setHeaderHiding(H);}function u(F){sap.ushell.Container.getRenderer("fiori2").setFooter(F);}function v(){sap.ushell.Container.getRenderer("fiori2").removeFooter();}function R(){this.addHeaderItem=d;this.setHeaderItemVisibility=o;this.addSubHeader=b;this.removeSubHeader=c;this.addHeaderEndItem=l;this.removeHeaderItem=e;this.removeHeaderEndItem=m;this.addEndUserFeedbackCustomUI=p;this.addOptionsActionSheetButton=f;this.removeOptionsActionSheetButton=g;this.setFooter=u;this.removeFooter=v;this.addUserPreferencesEntry=q;this.setHeaderTitle=r;this.setHeaderHiding=t;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=j;this.removeFloatingActionButton=k;this.setLeftPaneContent=h;this.removeLeftPaneContent=i;this.setLeftPaneVisibility=s;this.getConfiguration=n;}var w=new R();return w;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/Shell.controller',["sap/ui/Device","sap/ushell/CanvasShapesManager","./AccessKeysHandler","./History","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ushell/services/AppConfiguration","sap/ushell/services/AppType","sap/ushell/services/ShellNavigation","sap/ushell/utils","sap/ushell/resources","sap/ushell/UserActivityLog","sap/ushell/EventHub","sap/ushell/Config","sap/ui/core/Component","sap/ui/core/routing/History","sap/ui/core/routing/HistoryDirection","sap/ui/core/routing/HashChanger","sap/ushell/components/HeaderManager","sap/ushell/components/_HeaderManager/ControlManager","sap/ushell/bootstrap/SchedulingAgent","jquery.sap.storage"],function(D,C,A,H,a,b,c,S,u,r,U,E,d,f,g,h,j,k,l,m){"use strict";var n=true,p=false,B=false,s,o=a.getElementsModel(),M,q={embedded:0,newWindowThenEmbedded:1,newWindow:1,replace:0},N={embedded:"embedded",newWindowThenEmbedded:"newWindowThenEmbedded",newWindow:"newWindow",replace:"replace"},t={};sap.ui.controller("sap.ushell.renderers.fiori2.Shell",{_aDoableObjects:[],onComponentTargetDisplay:function(e){var P=e.getParameters(),i=P.control,v=P.object;i.navTo("centerViewPort",v.getId(),"show");},onInit:function(){var e=this;this.oNavigationHistoryMonitor=S.createNavigationHistoryMonitor();var R=f.getOwnerComponentFor(this.getView()).getRouter();R.getTarget("home").attachDisplay(this.onComponentTargetDisplay);R.getTarget("appfinder").attachDisplay(this.onComponentTargetDisplay);R.oHashChanger=j.getInstance();R.initialize(true);this.bEnableHashChange=true;B=false;n=true;var v=this.getView();var i=window.matchMedia("(min-width: 600px)"),w;var t=(v.getViewData()?v.getViewData().config:{})||{};a.parseStatefulContainerConfiguration(t.statefulApplicationContainer);var x=a.shellElements().model();k.init(t,x);this.oEndUserFeedbackConfiguration={showAnonymous:true,anonymousByDefault:true,showLegalAgreement:true,showCustomUIContent:true,feedbackDialogTitle:true,textAreaPlaceholder:true,customUIContent:undefined};t.enableBackGroundShapes=t.enableBackGroundShapes||true;this.initShellModel(t,x);var y=this.getView().updateShellAggregation;sap.ui.getCore().byId("shell-header").updateAggregation=y;sap.ui.getCore().byId("shell").updateAggregation=y;sap.ui.getCore().byId("right-floating-container").updateAggregation=y;sap.ui.getCore().byId("shell-split").updateAggregation=y;w=function(G){d.emit("/core/shell/model/isPhoneWidth",!G.matches);};if(i.addListener){i.addListener(w);w(i);}v.setModel(r.i18nModel,"i18n");sap.ui.getCore().getEventBus().subscribe("externalSearch",this.externalSearchTriggered,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appOpened",this.onAppOpened,this);this._setConfigurationToModel();this._aDoableObjects=this._registerAndCreateEventHubDoables(t);sap.ushell.Container.getService("AppLifeCycle");s.addHeaderEndItem(["NotificationsCountButton"],false,["home","app","minimal"],true);s.addHeaderEndItem(["meAreaHeaderButton"],false,["home","app","minimal","standalone","embedded","embedded-home","lean"],true);var z=[];if(t){if(!t.moveContactSupportActionToShellHeader){z.push("ContactSupportBtn");}if(!t.moveGiveFeedbackActionToShellHeader){z.push("EndUserFeedbackBtn");}}this.history=new H();this.oViewPortContainer=sap.ui.getCore().byId("viewPortContainer");a.init(t.appState,this.oViewPortContainer,t.rootIntent,t.disableHomeAppCache,{ownerComponent:this.getOwnerComponent()},t.storageSize?t.storageSize:10,z);this.oNotificationsCountButton=sap.ui.getCore().byId("NotificationsCountButton");var F=function(G){this.oShellNavigation=G;this.oShellNavigation.registerExtraRouter(R);this.oShellNavigation.registerNavigationFilter(this._handleEmptyHash.bind(this));this.oShellNavigation.init(this.doHashChange.bind(this));this.oShellNavigation.registerNavigationFilter(this._disableSourceAppRouter.bind(this));this.oShellNavigation.registerNavigationFilter(this.handleDataLoss.bind(this));this.oNavigationHistoryMonitor.activate(this.oShellNavigation.hashChanger);this.oShellNavigation.hashChanger.attachEvent("hashChanged",function(I){a.postMessageToIframeApp("sap.ushell.appRuntime","hashChange",{sHash:I.mParameters.fullHash});});E.emit("ShellNavigationInitialized");}.bind(this);Promise.all([sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("URLShortening")]).then(function(){return sap.ushell.Container.getServiceAsync("ShellNavigation");}).then(F);sap.ushell.Container.setLogonFrameProvider(this._getLogonFrameProvider());A.init(M);window.onbeforeunload=function(){if(sap.ushell.Container&&sap.ushell.Container.getDirtyFlag()){if(!r.browserI18n){r.browserI18n=r.getTranslationModel(window.navigator.language).getResourceBundle();}return r.browserI18n.getText("dataLossExternalMessage");}};if(d.last("/core/shell/model/contentDensity")){a.getAppMeta()._applyContentDensityClass();}D.media.attachHandler(this.handleNavMenuTitleVisibility,this,D.media.RANGESETS.SAP_STANDARD);E.emit("updateHeaderOverflowState",Date.now());this.handleNavMenuTitleVisibility(D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD));this.initShellUIService();sap.ui.getCore().attachThemeChanged(this.redrawBackGroundShapes);if(!t.disableSignOut&&t.sessionTimeoutIntervalInMinutes>0){var L=20000;setTimeout(function(){e._createSessionHandler(t);},L);}this.oViewPortContainer.onfocusin=function(){A.bFocusOnShell=false;A.bFocusPassedToExternalHandlerFirstTime=false;};this.oViewPortContainer.onfocusout=function(){A.bFocusOnShell=true;A.bFocusPassedToExternalHandlerFirstTime=true;};},shellUpdateAggItem:function(i,e){return sap.ui.getCore().byId(e.getObject());},getViewPortContainer:function(){return sap.ui.getCore().byId("viewPortContainer");},_registerAndCreateEventHubDoables:function(t){var e=[E.once("CenterViewPointContentRendered").do(this._loadCoreExt.bind(this)),E.on("AppRendered").do(this.setBackGroundShapes.bind(this)),E.once("AppRendered").do(this._loadCoreExtNonUI5.bind(this)),E.on("toggleContentDensity").do(this.toggleContentDensity.bind(this)),E.on("ShellFloatingContainerDockedIsResized").do(this._onResizeWithDocking.bind(this)),E.on("LaunchpadCustomRouterRouteMatched").do(this._centerViewPort.bind(this)),E.once("CoreResourcesComplementLoaded").do(this._onCoreResourcesComplementLoaded.bind(this)),E.once("loadRendererExtensions").do(this._loadRendererExtensionPlugins.bind(this)),E.once("loadUsageAnalytics").do(this._loadUsageAnalytics.bind(this)),E.once("loadWarmupPlugins").do(this._loadWarmupPlugins.bind(this)),E.on("centerViewPort").do(this._centerViewPort.bind(this))];if(t&&t.moveEditHomePageActionToShellHeader){e.push(E.on("showCatalog").do(this._hideEditButton.bind(this)));}return e;},initShellModel:function(t,e){s=o;s.init(t,e);M=this.getView().getViewData().shellModel;d.emit("/core/shell/model/personalization",d.last("/core/shell/enablePersonalization"));},redrawBackGroundShapes:function(){if(t.enableBackGroundShapes){C.drawShapes();}},setBackGroundShapes:function(){var e=d.last("/core/shell/model/animationMode")!=="minimal";if(!B&&t.enableBackGroundShapes){B=true;C.drawShapes();C.enableAnimationDrawing(e);}},initShellUIService:function(){a.initShellUIService({fnOnBackNavigationChange:this.onBackNavigationChange.bind(this)});if(t.enableOnlineStatus){sap.ui.require(["sap/ushell/ui5service/UserStatus"],function(e){this.oUserStatus=new e({scopeObject:this.getOwnerComponent(),scopeType:"component"});this.oUserStatus.attachEnabledStatusChanged(function(i){d.emit("/core/shell/model/userStatusEnabled",i.mParameters.data);});this.oUserStatus.attachStatusChanged(function(i){var v=i.mParameters.data;d.emit("/core/shell/model/userStatus",v);if(v===null){d.emit("/core/shell/model/userStatusUserEnabled",false);}else{d.emit("/core/shell/model/userStatusUserEnabled",true);}});}.bind(this));}},onBackNavigationChange:function(e){this.isBackNavigationChanged=true;var i=e.getParameters().data,v=d.last("/core/shell/model/currentState");if(i){a.service().setNavigateBack(i);if(v.stateName==="minimal"||v.stateName==="standalone"||v.stateName==="embedded"){sap.ushell.Container.getRenderer("fiori2").showHeaderItem("backBtn",true);}}else{a.service().resetNavigateBack();}},toggleContentDensity:function(e){var i=e.contentDensity==="compact";a.getAppMeta()._applyContentDensityByPriority(i);},_handleEmptyHash:function(e){e=(typeof e==="string")?e:"";e=e.split("?")[0];if(e.length===0){var v=this.getView()?this.getView().getViewData():{};t=v.config||{};if(t.migrationConfig){return this.oShellNavigation.NavigationFilterStatus.Continue;}if(t.rootIntent){setTimeout(function(){window.hasher.setHash(t.rootIntent);},0);return this.oShellNavigation.NavigationFilterStatus.Abandon;}}return this.oShellNavigation.NavigationFilterStatus.Continue;},_setConfigurationToModel:function(){var v=this.getView().getViewData();if(v){t=v.config||{};}if(t){if(t.states){o.extendStates(t.states);k.extendStates(t.states);}if(t.changeEndUserFeedbackTitle!==undefined){this.oEndUserFeedbackConfiguration.feedbackDialogTitle=t.changeEndUserFeedbackTitle;}if(t.changeEndUserFeedbackPlaceholder!==undefined){this.oEndUserFeedbackConfiguration.textAreaPlaceholder=t.changeEndUserFeedbackPlaceholder;}if(t.showEndUserFeedbackAnonymousCheckbox!==undefined){this.oEndUserFeedbackConfiguration.showAnonymous=t.showEndUserFeedbackAnonymousCheckbox;}if(t.makeEndUserFeedbackAnonymousByDefault!==undefined){this.oEndUserFeedbackConfiguration.anonymousByDefault=t.makeEndUserFeedbackAnonymousByDefault;}if(t.showEndUserFeedbackLegalAgreement!==undefined){this.oEndUserFeedbackConfiguration.showLegalAgreement=t.showEndUserFeedbackLegalAgreement;}if(t.enableSetTheme!==undefined){M.setProperty("/setTheme",t.enableSetTheme);}M.setProperty("/contentDensity",t.enableContentDensity===undefined?true:t.enableContentDensity);if(t.migrationConfig!==undefined){M.setProperty("/migrationConfig",t.migrationConfig);}if(t.enableUserDefaultParameters!==undefined){M.setProperty("/userDefaultParameters",t.enableUserDefaultParameters);}if(t.disableHomeAppCache!==undefined){M.setProperty("/disableHomeAppCache",t.disableHomeAppCache);}M.setProperty("/enableHelp",d.last("/core/extension/enableHelp"));M.setProperty("/searchAvailable",(t.enableSearch!==false));M.bindProperty("/animationMode").attachChange(this.handleAnimationModeChange.bind(this));M.setProperty("/animationMode",t.animationMode);this._getPersData({container:"flp.launchpad.animation.mode",item:"animationMode"}).then(function(e){M.setProperty("/animationMode",e||t.animationMode);t.animationMode=e||t.animationMode;});this._getPersData({container:"flp.settings.FlpSettings",item:"userActivitesTracking"}).then(function(e){if(e===undefined){e=true;}M.setProperty("/enableTrackingActivity",e);}).catch(function(e){jQuery.sap.log.error("Failed to ltracking activities state state from the personalization",e,"sap.ushell.components.flp.settings.FlpSettings");});}},_hideEditButton:function(){var e=sap.ui.getCore().byId("ActionModeBtn");if(e){e.setVisible(false);}},_getPreviousPageDirty:function(){return p;},_setPreviousPageDirty:function(e){p=e;},getModelConfiguration:function(){var v=this.getView().getViewData(),e,i;if(v){e=v.config||{};i=jQuery.extend({},e);}delete i.applications;return i;},_getLogonFrameProvider:function(){var v=this.getView();return{create:function(){return v.createIFrameDialog();},show:function(){v.showIFrameDialog();},destroy:function(){v.destroyIFrameDialog();}};},onExit:function(){this._aDoableObjects.forEach(function(i){i.off();});if(this.oNavigationHistoryMonitor){this.oNavigationHistoryMonitor.destroy();}sap.ui.getCore().getEventBus().unsubscribe("externalSearch",this.externalSearchTriggered,this);sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","appOpened",this.onAppOpened,this);D.media.detachHandler(this.handleNavMenuTitleVisibility,this,D.media.RANGESETS.SAP_STANDARD);if(this.oShellNavigation){this.oShellNavigation.hashChanger.destroy();}if(this.getView()&&this.getView().destroyDanglingControls){this.getView().destroyDanglingControls();}var e=sap.ui.getCore().byId("shell-header");if(e&&e.destroy){e.destroy();}k.destroy();l.destroy();U.deactivate();s.destroy();a.shellElements().clean();a.destroy();s=undefined;},handleAnimationModeChange:function(){var e=d.last("/core/shell/model/animationMode"),i=e!=="minimal";C.enableAnimationDrawing(i);sap.ui.getCore().getEventBus().publish("launchpad","animationModeChange",{sActionMode:e});},getAnimationType:function(){return"show";},_getCurrentAppRouter:function(){var e=sap.ushell.Container.getService("AppLifeCycle"),i=e&&e.getCurrentApplication&&e.getCurrentApplication(),v=i&&i.componentInstance;if(v){return v.getRouter();}return null;},_disableSourceAppRouter:function(e,i){if(!this.bEnableHashChange){return this.oShellNavigation.NavigationFilterStatus.Continue;}var v=this.oShellNavigation.hashChanger.isInnerAppNavigation(e,i);if(!v){var w=this._getCurrentAppRouter();if(w){w.stop();}}return this.oShellNavigation.NavigationFilterStatus.Continue;},_resumeAppRouterIgnoringCurrentHash:function(){var e=this._getCurrentAppRouter();if(e){e.initialize(true);}},handleDataLoss:function(e,i){if(!this.bEnableHashChange){this.bEnableHashChange=true;return this.oShellNavigation.NavigationFilterStatus.Custom;}if(sap.ushell.Container.getDirtyFlag()){if(!r.browserI18n){r.browserI18n=r.getTranslationModel(window.navigator.language).getResourceBundle();}if(confirm(r.browserI18n.getText("dataLossInternalMessage"))){sap.ushell.Container.setDirtyFlag(false);a.postMessageToIframeApp("sap.ushell.appRuntime","setDirtyFlag",{bIsDirty:false});p=true;return this.oShellNavigation.NavigationFilterStatus.Continue;}var v=g.getInstance().getDirection(e);var w=this.oNavigationHistoryMonitor.wasHistoryEntryAdded();var R=this._getRestoreHashStrategy(v,w);this.oNavigationHistoryMonitor.reset();this._resumeAppRouterIgnoringCurrentHash();return this._restorePreviousHash(i,R);}return this.oShellNavigation.NavigationFilterStatus.Continue;},_getRestoreHashStrategy:function(e,i){if(e==="Backwards"){return"addHash";}if(e==="Forwards"||e==="NewEntry"){return"historyBack";}if(i===null||i){return"historyBack";}return"replaceHash";},_restorePreviousHash:function(P,R){var e=null;switch(R){case"historyBack":this.bEnableHashChange=false;this._windowHistoryBack(1);e=this.oShellNavigation.NavigationFilterStatus.Custom;break;case"replaceHash":e={status:this.oShellNavigation.NavigationFilterStatus.Custom,hash:P};break;case"addHash":this.bEnableHashChange=false;window.hasher.setHash(P);e=this.oShellNavigation.NavigationFilterStatus.Custom;break;default:throw new Error("Cannot execute unknown navigation strategy");}return e;},_isColdStart:function(){var R=sap.ushell.Container.getRenderer("fiori2");var e=!R||!R.getCurrentCoreView();if(this.history.getHistoryLength()<=1&&e){return true;}this._isColdStart=function(){return false;};return false;},_setEnableHashChange:function(v){this.bEnableHashChange=v;},_logRecentActivity:function(R){return b.addActivity(R);},_logApplicationUsage:function(F){if(sap.ushell.Container){sap.ushell.Container.getServiceAsync("UserRecents").then(function(e){e.addAppUsage(F);});}},doHashChange:function(e,i,O,v,P){this.oNavigationHistoryMonitor.reset();jQuery.sap.measure.start("FLP:ShellController.doHashChange","doHashChange","FLP");u.addTime("ShellControllerHashChange");return this._doHashChange(this,e,i,O,v,P).then(function(){jQuery.sap.measure.end("FLP:ShellController.doHashChange");},function(w){jQuery.sap.measure.end("FLP:ShellController.doHashChange");});},_doHashChange:function(e,i,v,O,w,P){var I,x,F;if(!this.bEnableHashChange){this.bEnableHashChange=true;return jQuery.when();}if(P){e.hashChangeFailure(e.history.getHistoryLength(),P.message,null,"sap.ushell.renderers.fiori2.Shell.controller",false);return jQuery.when();}if(sap.m.InstanceManager&&n){sap.m.InstanceManager.closeAllDialogs();sap.m.InstanceManager.closeAllPopovers();}n=true;x=e.history.getHistoryLength();F=e.fixShellHash(i);e.history.hashChange(F,O);e.currentAppBeforeNav=b.getCurrentApplication();jQuery.sap.flpmeasure.end(0,"Creating Shell");jQuery.sap.flpmeasure.start(0,"targetResolution",1);return e._resolveHashFragment(F).then(function(R,y){jQuery.sap.flpmeasure.end(0,"targetResolution");jQuery.sap.flpmeasure.start(0,"CreateComponent",3);var z=y?y.semanticObject+"-"+y.action:"",t=e._getConfig(),G=!!(R&&R.componentHandle),T=R&&R.ui5ComponentName;R=e._calculateNavigationMode(y,R);if(R&&(R.navigationMode===N.newWindow||u.isNativeWebGuiNavigation(R))){e.logOpenAppAction(F,R,v);e._openAppInNewWindowAndRestore(R);return;}if(d.last("/core/shell/model/migrationConfig")){t.migrationConfig=false;e.getModel().setProperty("/migrationConfig",false);if(R&&F==="#"){t.rootIntent="";}else if(F==="#"){setTimeout(function(){window.hasher.setHash(t.rootIntent);},0);return;}}if(t&&t.applications&&t.applications[z]){R.applicationConfiguration=t.applications[z];}I=a.getInMemoryInstance(z,F);if(I.isInstanceSupported){e._initiateApplication(R,F,y,x,v);return;}if(G||!T){e._initiateApplication(R,F,y,x,v);return;}a.destroy(I.appId,I.container);a.removeApplication(z);b.setApplicationInInitMode();sap.ui.getCore().getEventBus().publish("ApplicationContainer","_prior.newUI5ComponentInstantion",{name:T});jQuery.sap.measure.start("FLP:ShellController.UI5createComponent","UI5 createComponent","FLP");sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(){a.createComponent(R,y).done(function(J){jQuery.sap.measure.end("FLP:ShellController.UI5createComponent");jQuery.sap.flpmeasure.end(0,"CreateComponent");e._initiateApplication(R,F,y,x,v);}).fail(function(J){var K=r.i18n.getText("cannot_load_ui5_component_details",[F]),L="Failed to load UI5 component for navigation intent "+F;b.setCurrentApplication(e.currentAppBeforeNav);e.hashChangeFailure(x,{title:r.i18n.getText("error"),message:r.i18n.getText("failed_to_open_ui5_component"),technicalMessage:L},{info:K,technicalMessage:J.message+"\n"+J.stack},"sap.ushell.renderers.fiori2.Shell.controller",false);});});},function(y){var z=r.i18n.getText("cannot_resolve_navigation_target_details",[F]),G="Failed to resolve navigation target: "+F+". This is most likely caused by an incorrect SAP Fiori launchpad content configuration or by missing role assignment.";e.hashChangeFailure(x,{title:r.i18n.getText("error"),message:r.i18n.getText("failed_to_open_app_missing_configuration_or_role_assignment"),technicalMessage:G},{info:z,fixedShellHash:F,technicalMessage:y},"sap.ushell.renderers.fiori2.Shell.controller",false);});},_initiateApplication:function(R,F,P,O){jQuery.sap.measure.start("FLP:ShellController._initiateApplication","_initiateApplication","FLP");var e=b.getMetadata(R),i=d.last("/core/extension/SupportTicket");if(e.title){window.document.title=e.title;}else{jQuery.sap.log.debug("Shell controller._initiateApplication: the title of the window is not changed because most probably the application was resolved with undefined");}if(i){setTimeout(function(){sap.ushell.UserActivityLog.activate();},0);}try{this.navigate(P,F,e,R);}catch(v){if(v.stack){jQuery.sap.log.error("Application initialization (Intent: \n"+F+"\n failed due to an Exception:\n"+v.stack);}this.hashChangeFailure(O,v.name,v.message,e?e.title:"",false);}jQuery.sap.measure.end("FLP:ShellController._initiateApplication");},_resolveHashFragment:function(e){jQuery.sap.measure.start("FLP:ShellController._resolveHashFragment","_resolveHashFragment","FLP");var R,P,i=sap.ushell.Container.getService("URLParsing").parseShellHash(e),v=new jQuery.Deferred(),t=this._getConfig();P=i&&i.params||{};if(i&&i.contextRaw&&i.contextRaw==="navResCtx"&&P&&P.additionalInformation&&(P.additionalInformation[0]||P.additionalInformation[0]==="")&&P.applicationType&&P.applicationType[0]&&P.url&&P.url[0]&&P.navigationMode&&(P.navigationMode[0]||P.additionalInformation[0]==="")){P=i.params||{};R={additionalInformation:P.additionalInformation[0],applicationType:P.applicationType[0],url:P.url[0],navigationMode:P.navigationMode[0]};if(P.title){R.text=P.title[0];}v.resolve(R,i);}else{if(window["sap-ushell-async-libs-promise-directstart"]){window["sap-ushell-async-libs-promise-directstart"].then(function(w){v.resolve(w.resolvedHashFragment,i);delete window["sap-ushell-async-libs-promise-directstart"];},function(w){v.reject(w);delete window["sap-ushell-async-libs-promise-directstart"];});return v.promise();}sap.ushell.Container.getService("NavTargetResolution").resolveHashFragment(e).done(function(R){if(i&&(i.semanticObject+"-"+i.action)===t.rootIntent){R.navigationMode="embedded";}jQuery.sap.measure.end("FLP:ShellController._resolveHashFragment");v.resolve(R,i);}).fail(function(w){v.reject(w);});}return v.promise();},_calculateNavigationMode:function(P,R){if(!R){return undefined;}var e=R.navigationMode;if(e===N.newWindowThenEmbedded){if(this._isColdStart()||(P.contextRaw&&P.contextRaw==="navResCtx")||g.getInstance().getDirection()===h.Backwards){R.navigationMode=N.embedded;}else{R.navigationMode=N.newWindow;if(!u.isNativeWebGuiNavigation(R)){R.url=this._getCurrentLocationHash();}}return R;}if(e===N.newWindow&&this._isColdStart()){R.navigationMode=N.replace;return R;}return R;},_usesNavigationRedirect:function(e){if(!e){return new jQuery.Deferred().reject().promise();}var i=this,v=e.getInstance({});if(v&&typeof v.navigationRedirect==="function"){var w=new jQuery.Deferred();var x=v.navigationRedirect();if(x&&typeof x.then==="function"){x.then(function(y){jQuery.sap.log.warning("Performing navigation redirect to hash "+y);v.destroy();i.history.pop();sap.ushell.Container.getService("ShellNavigation").toExternal({target:{shellHash:y}},undefined,false);w.resolve(true);},function(){w.reject();});return w.promise();}}return new jQuery.Deferred().reject().promise();},navigate:function(P,F,e,R){jQuery.sap.measure.start("FLP:ShellController.navigate","navigate","FLP");var i=(jQuery.isPlainObject(R)?R.navigationMode:null),v=this;if(i===null){if(this._isColdStart()){window.hasher.setHash("");return;}this.bEnableHashChange=false;this.history.pop();this._windowHistoryBack(1);return;}R=this._calculateNavigationMode(P,R);i=(jQuery.isPlainObject(R)?R.navigationMode:null);if(i===N.embedded){var w=this._usesNavigationRedirect(R.componentHandle);w.then(null,function(){v._handleEmbeddedNavMode(F,P,e,R);if(P&&P.contextRaw==="navResCtx"){jQuery.sap.log.error(" This path will no longer be supported in 1.40");v.bEnableHashChange=false;if(P&&P.params&&P.params.original_intent&&P.params.original_intent[0]){window.hasher.replaceHash(P.params.original_intent[0]);v.history._history[0]=P.params.original_intent[0];}}});jQuery.sap.measure.end("FLP:ShellController.navigate");return;}if(i===N.replace){this.bEnableHashChange=false;this._changeWindowLocation(R.url);return;}if(i===N.newWindow){this._openAppInNewWindowAndRestore(R);return;}this.hashChangeFailure(this.history.getHistoryLength(),"Navigation mode is not recognized",null,"sap.ushell.renderers.fiori2.Shell.controller",false);},_openAppInNewWindowAndRestore:function(R){this.bEnableHashChange=false;if(u.isNativeWebGuiNavigation(R)){try{var i=u.appendUserIdToUrl("sap-user",R.url);var v=u.appendSapShellParam(i);var w=u.getPrivateEpcm();var x=q[R.navigationMode];if(u.hasNavigationModeCapability()){w.doNavigate(v,x||q[N.embedded]);}else{w.doNavigate(v);}}catch(e){if(e.stack){jQuery.sap.log.error("Application initialization failed due to an Exception:\n"+e.stack);}this.hashChangeFailure(this.history.getHistoryLength(),e.name,e.message,R.text,false);}}else{this._openAppNewWindow(R.url);}this.history.pop();var V=R.componentHandle&&R.componentHandle.getInstance&&R.componentHandle.getInstance({});if(V){V.destroy();}this._windowHistoryBack(1);b.setCurrentApplication(this.currentAppBeforeNav);return;},_handleEmbeddedNavMode:function(F,P,e,R){jQuery.sap.measure.start("FLP:ShellController._handleEmbeddedNavMode","_handleEmbeddedNavMode","FLP");var i,I,v;this.resetShellUIServiceHandlers();a.getAppMeta().setAppIcons(e);i="-"+P.semanticObject+"-"+P.action;I=F==="#"||(t.rootIntent&&t.rootIntent===P.semanticObject+"-"+P.action);v=P?P.semanticObject+"-"+P.action:"";a.switchViewState(a.shellElements().calculateElementsState(I?"home":"app",R.applicationType,t.appState,R.explicitNavMode),undefined,i);if(I){a.getShellUIService().setBackNavigation();}a.handleControl(v,i,P,R,this.getWrappedApplicationWithMoreStrictnessInIntention.bind(this),F);if(this.currentAppBeforeNav){var w=a.getStatefulContainer(this.currentAppBeforeNav.applicationType);if(w){w.onApplicationOpened(R.applicationType);}}jQuery.sap.measure.end("FLP:ShellController._handleEmbeddedNavMode");sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(){E.emit("loadCoreResourcesComplement");});},_centerViewPort:function(){this.oViewPortContainer.switchState("Center");},_isShellHomeIntent:function(i){return i==="#"||i===t.rootIntent;},getWrappedApplicationWithMoreStrictnessInIntention:function(i,e,v,R,w,F,x){var y,z=this;setTimeout(function(){setTimeout(function(){var G;if(d.last("/core/shell/model/currentState/stateName")==="app"){G="shellAppTitle";}A.sendFocusBackToShell(G);setTimeout(function(){z.readNavigationEnd();},500);},100);sap.ui.getCore().getEventBus().publish("launchpad","appOpening",R);jQuery.sap.log.info("app is being opened");},0);if(t.applications){R.applicationConfiguration=t.applications[i];}y=a.getAppContainer(w,R,this._isColdStart(),v,x);R.sShellHash=i;a.publishNavigationStateEvents(y,R,this.onAppAfterRendering.bind(this,R));y.addStyleClass("sapUshellApplicationPage");if(!F){y.addStyleClass("sapUShellApplicationContainerLimitedWidth");}if(this._isDock()&&window.matchMedia("(min-width: 106.4rem)").matches){y.addStyleClass("sapUShellDockingContainer");y.removeStyleClass("sapUShellApplicationContainerLimitedWidth");}else if(this._isDock()){y.removeStyleClass("sapUShellApplicationContainerLimitedWidth");}y.toggleStyleClass("sapUshellDefaultBackground",!e.hideLightBackground);a.getAppMeta()._applyContentDensityByPriority();a.addControl(y);jQuery.sap.measure.end("FLP:ShellController.getWrappedApplication");return y;},resetShellUIServiceHandlers:function(){a.getAppMeta().resetShellUIServiceHandlers();this.isBackNavigationChanged=false;},onAppAfterRendering:function(e){var i=a.getShellUIService();setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",e);jQuery.sap.log.info("app was opened");},0);var v=a._publicEventDataFromResolutionResult(e);E.emit("AppRendered",v);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appOpened",v);if(i){if(!a.getAppMeta().getIsHierarchyChanged()){i.setHierarchy();}if(!a.getAppMeta().getIsTitleChanged()){i.setTitle();}if(!a.getAppMeta().getIsRelatedAppsChanged()){i.setRelatedApps();}if(!this.isBackNavigationChanged){i.setBackNavigation();}}s.updateStateProperty("application/icon",a.getAppMeta().getAppIcon(),true);s.updateStateProperty("application/showNavMenuTitle",this.bNavMenuTitleVisible,true);},_saveHomePageComponent:function(){if(this.oHomeApp){return;}var e=this,i="sap.ushell",L=function(v,w,x){e.oHomeApp=x.component;sap.ui.getCore().getEventBus().unsubscribe(i,"appComponentLoaded",L);};sap.ui.getCore().getEventBus().subscribe(i,"appComponentLoaded",L);},hashChangeFailure:function(i,v,e,w,x){if(u.isPlainObject(v)){this.reportError(v.technicalMessage,e.technicalMessage,w);sap.ushell.Container.getService("Message").show(sap.ushell.services.Message.Type.ERROR,v.message,{title:v.title,details:e});}else{this.reportError(v,e,w);this.delayedMessageError(r.i18n.getText("fail_to_start_app_try_later"));}n=false;this._resumeAppRouterIgnoringCurrentHash();if(i===0){window.hasher.setHash("");}else if(jQuery.sap.getUriParameters().get("bFallbackToShellHome")){window.hasher.setHash("");}else{this.bEnableHashChange=x;sap.ushell.Container.setDirtyFlag(p);a.postMessageToIframeApp("sap.ushell.appRuntime","setDirtyFlag",{bIsDirty:p});this._windowHistoryBack(1);}},reportError:function(e,i,v){jQuery.sap.log.error(e,i,v);},delayedMessageError:function(e){setTimeout(function(){if(sap.ushell.Container!==undefined){sap.ushell.Container.getService("Message").error(e);}},0);},fixShellHash:function(e){if(!e){e="#";}else if(e.charAt(0)!=="#"){e="#"+e;}return e;},_openAppNewWindow:function(e){if(e.trim().indexOf("sap-nwbc://")===0&&(D.browser.edge||D.browser.msie)){window.location.href=e;}else{var i=window.open(e);if(!i&&!D.browser.msie){var v=r.i18n.getText("fail_to_start_app_popup_blocker",[window.location.hostname]);this.delayedMessageError(v);}}},_windowHistoryBack:function(i){window.history.back(i);},_changeWindowLocation:function(e){window.location.href=e;},handleEndItemsOverflow:function(P){k.handleEndItemsOverflow(P);},onAppOpened:function(e,i,R){var F=this.fixShellHash(R.sShellHash),v=this.oShellNavigation.hashChanger.getAppHash(),w=v?"&/"+v:null;this.logOpenAppAction(F,R,w);},externalSearchTriggered:function(e,i,v){d.emit("/core/shell/model/searchTerm",v.searchTerm);v.query=v.searchTerm;},onAfterNavigate:function(e){var T=e.mParameters?e.mParameters.toId:undefined;u.addTime("ShellController.onAfterNavigate");if(T==="application-"+t.rootIntent){var i=sap.ui.getCore().byId("configBtn");if(i){i.focus();}}a.onAfterNavigate(e.getParameter("fromId"),e.getParameter("from"),T);},logOpenAppAction:function(F,R,e){var i=d.last("/core/shell/enableRecentActivity")&&d.last("/core/shell/enableRecentActivityLogging");if(!i){return;}var v={};var w=b.getMetadata(R);var x=F;if(e){x+=e;}v.title=w.title;v.appType=c.APP;v.url=x;sap.ushell.Container.getServiceAsync("URLParsing").then(function(y){var P=y.parseShellHash(F);if(P){v.appId="#"+y.constructShellHash({semanticObject:P.semanticObject,action:P.action});}else{v.appId=F;}if(F.indexOf("#Action-search")>=0){v.appType=c.SEARCH;}if(d.last("/core/shell/model/enableTrackingActivity")){setTimeout(function(){this._logRecentActivity(v);}.bind(this),1500);}if(t.enableTilesOpacity&&d.last("/core/shell/enableRecentActivity")){setTimeout(function(){this._logApplicationUsage(F);}.bind(this),1500);}}.bind(this));},readNavigationEnd:function(){var e=document.getElementById("sapUshellLoadingAccessibilityHelper-loadingComplete");if(e){e.setAttribute("aria-live","polite");e.innerHTML=r.i18n.getText("loadingComplete");setTimeout(function(){e.setAttribute("aria-live","off");e.innerHTML="";},0);}},togglePane:function(e){var i=e.getSource(),v=i.getSelected();sap.ui.getCore().getEventBus().publish("launchpad","togglePane",{currentContent:d.last("/core/shell/model/currentState/paneContent")});if(e.getParameter("id")==="categoriesBtn"){i.getModel().setProperty("/currentState/showCurtainPane",!v);}else{i.getModel().setProperty("/currentState/showPane",!v);}},handleNavMenuTitleVisibility:function(P){this.bNavMenuTitleVisible=false;if(P.name!=="Desktop"){this.bNavMenuTitleVisible=true;}s.updateStateProperty("application/showNavMenuTitle",this.bNavMenuTitleVisible,true);},_loadCoreExtNonUI5:function(e,i,v){if(v&&(v.applicationType=="NWBC"||v.applicationType=="TR")){setTimeout(this._loadCoreExt.bind(this),2000);}},_loadUsageAnalytics:function(e){sap.ushell.Container.getServiceAsync("UsageAnalytics").then(function(i){i.init(r.i18n.getText("usageAnalytics"),r.i18n.getText("i_agree"),r.i18n.getText("i_disagree"),r.i18n.getText("remind_me_later"));E.emit("StepDone",e.stepName);},function(){E.emit("StepFailed",e.stepName);});},_onCoreResourcesComplementLoaded:function(){u.setPerformanceMark("SchedulingAgent-StartOfFlow");var v=this.getView();if(v){v.createPostCoreExtControls();}m._initialize();E.emit("startScheduler");},_loadRendererExtensionPlugins:function(e){var i=jQuery.sap.getUriParameters().get("sap-ushell-xx-pluginmode")==="delayed";function v(P){function w(){E.emit("StepDone",e.stepName);}function L(){P.loadPlugins("RendererExtensions").always(w);}if(!t.inHeaderLessOpt){if(i){setTimeout(L,5000);}else{L();}}else{w();}}sap.ushell.Container.getServiceAsync("PluginManager").then(v.bind(this));},_loadWarmupPlugins:function(e){sap.ushell.Container.getService("PluginManager").loadPlugins("AppWarmup").always(function(){jQuery.sap.log.debug("WARMUP plugins loaded",null,"sap.ushell.renderers.fiori2.Shell");E.emit("StepDone",e.stepName);u.setPerformanceMark("SchedulingAgent-EndOfFlow");u.setPerformanceMeasure("SchedulingAgentTotalTime","SchedulingAgent-StartOfFlow","SchedulingAgent-EndOfFlow");});},_loadCoreExt:function(){jQuery.sap.measure.end("FLP:Container.InitLoading");sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(){E.emit("loadCoreResourcesComplement");});},getCurrentViewportState:function(){return d.last("/core/shell/model/currentViewPortState");},makeEndUserFeedbackAnonymousByDefault:function(e){this.oEndUserFeedbackConfiguration.anonymousByDefault=e;},showEndUserFeedbackLegalAgreement:function(e){this.oEndUserFeedbackConfiguration.showLegalAgreement=e;},_activateFloatingUIActions:function(w){if(w<417){this.oFloatingUIActions.disable();}else{this.oFloatingUIActions.enable();}},setFloatingContainerDragSelector:function(e){jQuery(e).addClass("sapUshellShellFloatingContainerSelector");sap.ui.require(["sap/ushell/UIActions"],function(i){if(!this.oFloatingUIActions){this.oFloatingUIActions=new sap.ushell.UIActions({containerSelector:".sapUiBody",wrapperSelector:".sapUshellShellFloatingContainerWrapper",draggableSelector:".sapUshellShellFloatingContainerWrapper",rootSelector:".sapUiBody",cloneClass:"sapUshellFloatingContainer-clone",dragCallback:this._handleFloatingContainerUIStart.bind(this),endCallback:this._handleFloatingContainerDrop.bind(this),moveTolerance:3,onDragStartUIHandler:this._onDragStartUI.bind(this),onDragEndUIHandler:this._setFloatingContainerHeight.bind(this),dragAndScrollCallback:this._doDock.bind(this),switchModeDelay:1000,isLayoutEngine:false,isTouch:false,elementToCapture:e,defaultMouseMoveHandler:function(){},debug:jQuery.sap.debug()});}else{this.oFloatingUIActions.elementsToCapture=jQuery(e);}this._activateFloatingUIActions(jQuery(window).width());var v;jQuery(window).bind("resize",function(){clearTimeout(v);v=setTimeout(this._activateFloatingUIActions(jQuery(window).width()),300);}.bind(this));}.bind(this));},_doDock:function(e){jQuery.sap.measure.start("FLP:Shell.controller._doDock","dragging co-pilot element","FLP");var i=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD);if(i.name==="Desktop"){var w=jQuery(window).width();if(e){e.docked={};var v=e.docked;if(e.moveX>=w-64){v.dockPos="right";v.setIsDockingAreaOpen=true;this._openDockingArea(e);}else if(e.moveX<64){v.dockPos="left";v.setIsDockingAreaOpen=true;this._openDockingArea(e);}else{if(this._isDockingAreaOpen()){this._closeDockingArea(e);}if(jQuery("#canvas").hasClass("sapUshellContainerDocked")){this._handleCloseCanvas(e);}}}}jQuery.sap.measure.end("FLP:Shell.controller._doDock");},_finishDoDock:function(e){this._openDockingArea(false);var i=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");i.put("lastState","docked:"+e.dockPos);this._handleOpenCanvas(e);var w=jQuery("#sapUshellFloatingContainerWrapper");w.css("height","100%");jQuery("#shell-floatingContainer").addClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsDocked");if(jQuery(".sapUShellApplicationContainerLimitedWidth").length>0){jQuery("#application-Action-toappnavsample").removeClass("sapUShellApplicationContainerLimitedWidth");jQuery("#application-Action-toappnavsample").addClass("sapUShellDockingContainer");}},_onResizeWithDocking:function(){this.handleNavMenuTitleVisibility(D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD));setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","appFinderWithDocking");},300);},_onDragStartUI:function(e){jQuery.sap.measure.start("FLP:Shell.controller._onDragStartUI","start drag","FLP");if(this._isDock()){var i=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");i.put("lastState","floating");jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDocked");jQuery(".sapUshellShellFloatingContainerFullHeight").removeClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsUnDocked");jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");jQuery("#sapUshellFloatingContainerWrapper").addClass("sapUshellContainerDockedMinimizeCoPilot");jQuery(jQuery(".sapUshellContainerDockedMinimizeCoPilot")).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",this._handleAnimations(false));this._handleCloseCanvas(e);}jQuery.sap.measure.end("FLP:Shell.controller._onDragStartUI");},_handleAnimations:function(i,e){var v="sapUshellContainerDockedLaunchpad";var w=jQuery("#canvas");var W=jQuery("#sapUshellFloatingContainerWrapper");function x(z,T){jQuery(v).toggleClass(z,T);}if(i){jQuery("#canvas,#shell-header").addClass(v);if(w.hasClass("sapUshellContainer-Narrow-Right")||e=="right"){x("closeRight",true);}else{x("closeLeft",true);}W.addClass("sapUshellContainerDockedExtendCoPilot");setTimeout(function(){if(w.hasClass("sapUshellContainer-Narrow-Right")||e=="right"){x("closeRight",false);x("openRight",true);}else if(w.hasClass("sapUshellContainer-Narrow-Left")||e=="left"){x("closeLeft",false);x("openLeft",true);}},300);this._onResizeWithDocking();}else{jQuery("#sapUshellFloatingContainerWrapper").addClass("sapUshellContainerDockedExtendCoPilot");if(w.hasClass("sapUshellContainer-Narrow-Right")||e=="right"){x("openRight",false);}else{x("openLeft",false);}setTimeout(function(){jQuery(v).removeClass(v+" closeLeft openLeft closeRight openRight");},550);}var y=sap.ui.getCore().byId("shell-header");if(y){y._handleResizeChange();}},_openDockingArea:function(e){var i=e?e.docked:false;var I=i?i.setIsDockingAreaOpen:false;if(I&&jQuery("#DockinaAreaDiv").length==0){var v=sap.ui.getCore().getConfiguration().getRTL();if((i.dockPos==="right"&&e.clone&&!v)||(i.dockPos==="left"&&e.clone&&v)){jQuery("<div id=\"DockinaAreaDiv\"  class=\"sapUshellShellDisplayDockingAreaRight\">").appendTo(e.clone.parentElement);}else if((i.dockPos==="left"&&e.clone&&!v)||(i.dockPos==="right"&&e.clone&&v)){jQuery("<div id=\"DockinaAreaDiv\"  class=\"sapUshellShellDisplayDockingAreaLeft\">").appendTo(e.clone.parentElement);}e.clone.oDockedProp={};e.clone.oDockedProp.dockPos=i.dockPos;}else if(!I){this._closeDockingArea();}},_closeDockingArea:function(e){setTimeout(function(){jQuery(".sapUshellShellDisplayDockingAreaRight").remove();jQuery(".sapUshellShellDisplayDockingAreaLeft").remove();},150);var i=sap.ui.getCore().byId("shell-header");if(i&&i._handleResizeChange){i._handleResizeChange();}},_isDock:function(){return jQuery(".sapUshellContainerDocked").size()!==0;},_isDockingAreaOpen:function(){return jQuery(".sapUshellShellDisplayDockingAreaRight").size()!==0||jQuery(".sapUshellShellDisplayDockingAreaLeft").size()!==0;},_handleOpenCanvas:function(e){var i=jQuery("#canvas");var v=jQuery(".sapUshellShellHead");var I=sap.ui.getCore().getConfiguration().getRTL();if((e.dockPos==="right"&&!I)||(e.dockPos==="left"&&I)){i.addClass("sapUshellContainer-Narrow-Right sapUshellContainerDocked ");v.addClass("sapUshellContainerDocked");}if((e.dockPos==="left"&&!I)||(e.dockPos==="right"&&I)){i.addClass("sapUshellContainer-Narrow-Left sapUshellContainerDocked ");v.addClass("sapUshellContainerDocked");}var V=sap.ui.getCore().byId("viewPortContainer");if(V){V._handleSizeChange();}},_handleCloseCanvas:function(e){var i=jQuery("#canvas");var v=jQuery(".sapUshellShellHead");if(e){e.docked.setIsDockingAreaOpen=false;}if(i.hasClass("sapUshellContainer-Narrow-Right")){i.removeClass("sapUshellContainer-Narrow-Right sapUshellContainerDocked sapUshellMoveCanvasRight");v.removeClass("sapUshellContainerDocked");this._openDockingArea(e);this._setFloatingContainerHeight();}if(i.hasClass("sapUshellContainer-Narrow-Left")){i.removeClass("sapUshellContainer-Narrow-Left sapUshellContainerDocked sapUshellMoveCanvasLeft");v.removeClass("sapUshellContainerDocked");this._openDockingArea(e);this._setFloatingContainerHeight();}if(jQuery(".sapUShellDockingContainer").length>0){jQuery("#application-Action-toappnavsample").removeClass("sapUShellDockingContainer");jQuery("#application-Action-toappnavsample").addClass("sapUShellApplicationContainerLimitedWidth");}this._onResizeWithDocking();var V=sap.ui.getCore().byId("viewPortContainer");if(V){V._handleSizeChange();}},_setFloatingContainerHeight:function(e){var w=jQuery(window).width();var W=jQuery("#sapUshellFloatingContainerWrapper");if(this._isDock()){if(e&&(e.clientX>=w-64||e.clientX<64)){W.addClass(" sapUshellContainerDocked");W.addClass("sapUshellContainerDockedMinimizeCoPilot");jQuery(W).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",this._handleAnimations(true));}}else if(!this._isDock()){jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");}},_handleFloatingContainerDrop:function(e,i,v){jQuery.sap.measure.start("FLP:Shell.controller._handleFloatingContainerDrop","drop floating container","FLP");var F=i.firstChild?sap.ui.getCore().byId(i.firstChild.id):undefined,w=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.FloatingContainer"),W=jQuery(window).width(),x=jQuery(window).height(),P=v.deltaX/W,y=v.deltaY/x,O=i.style.visibility,z=i.style.display,G=parseFloat(i.style.left.replace("%","")),I=parseFloat(i.style.top.replace("%",""));i.style.visibility="hidden";i.style.display="block";if(typeof(G)==="number"){P=G+100*v.deltaX/W;}if(typeof(I)==="number"){y=I+100*v.deltaY/x;}if(this._isDockingAreaOpen()){y=0;}i.setAttribute("style","left:"+P+"%;top:"+y+"%;position:absolute;");i.visibility=O;i.display=z;w.put("floatingContainerStyle",i.getAttribute("style"));if(F){F.handleDrop();if(!!v.clone.oDockedProp&&this._isDockingAreaOpen()){this._finishDoDock(v.clone.oDockedProp);}}jQuery.sap.measure.end("FLP:Shell.controller.handleFloatingContainerDrop");},_handleFloatingContainerUIStart:function(i,v){jQuery.sap.measure.start("FLP:Shell.controller._handleFloatingContainerUIStart","starts dragging floating container","FLP");var w=v;w.style.display="none";if(window.getSelection){var x=window.getSelection();try{x.removeAllRanges();}catch(e){}}jQuery.sap.measure.end("FLP:Shell.controller._handleFloatingContainerUIStart");},getFloatingContainerState:function(){var e=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");var L="floating";if(e!=null){L=e.get("lastState");if(L==null){L="floating";}}return L;},setFloatingContainerVisibility:function(v){var L=this.getFloatingContainerState();if(L){if(L=="floating"){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}else if(L.indexOf("docked")!=-1){var V=sap.ui.getCore().byId("viewPortContainer");if(v==true){var e=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD);if(e.name=="Desktop"){var w=jQuery("#sapUshellFloatingContainerWrapper");w.addClass("sapUshellContainerDocked");jQuery("#canvas, .sapUshellShellHead").addClass("sapUshellContainerDocked");w.css("height","100%");sap.ui.getCore().byId("shell-floatingContainer").addStyleClass("sapUshellShellFloatingContainerFullHeight");if(V){V._handleSizeChange();}if(sap.ui.getCore().getConfiguration().getRTL()){if(L.indexOf("right")!=-1){jQuery("#canvas").addClass("sapUshellContainer-Narrow-Left");this._handleAnimations(true,"left");}else{jQuery("#canvas").addClass("sapUshellContainer-Narrow-Right");this._handleAnimations(true,"right");}}else if(L.indexOf("right")!=-1){jQuery("#canvas").addClass("sapUshellContainer-Narrow-Right");this._handleAnimations(true,"right");}else{jQuery("#canvas").addClass("sapUshellContainer-Narrow-Left");this._handleAnimations(true,"left");}setTimeout(function(){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}.bind(this),400);}else{jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState").put("lastState","floating");this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}if(jQuery(".sapUShellApplicationContainerLimitedWidth").length>0){jQuery("#application-Action-toappnavsample").removeClass("sapUShellApplicationContainerLimitedWidth");jQuery("#application-Action-toappnavsample").addClass("sapUShellDockingContainer");}}else{if(sap.ui.getCore().getConfiguration().getRTL()){if(L.indexOf("right")!=-1){this._handleAnimations(false,"left");}else{this._handleAnimations(false,"right");}}else if(L.indexOf("right")!=-1){this._handleAnimations(false,"right");}else{this._handleAnimations(false,"left");}if(V){V._handleSizeChange();}setTimeout(function(){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}.bind(this),400);if(jQuery(".sapUShellDockingContainer").length>0){jQuery("#application-Action-toappnavsample").removeClass("sapUShellDockingContainer");jQuery("#application-Action-toappnavsample").addClass("sapUShellApplicationContainerLimitedWidth");}}jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");this._onResizeWithDocking();if(V){V._handleSizeChange();}}}},getFloatingContainerVisibility:function(){return this.getView().getOUnifiedShell().getFloatingContainerVisible();},setFloatingContainerContent:function(P,i,e,v){s.setFloatingContainerContent(P,i,e,v);},getRightFloatingContainerVisibility:function(){var R=this.getView().getOUnifiedShell().getRightFloatingContainer(),e=R&&R.getVisible();return e;},setHeaderTitle:function(T){if(typeof T!=="string"){throw new Error("sTitle type is invalid");}this.getView().getOUnifiedShell().getHeader().setTitleControl(T);},addEndUserFeedbackCustomUI:function(e,i){if(e){this.oEndUserFeedbackConfiguration.customUIContent=e;}if(i===false){this.oEndUserFeedbackConfiguration.showCustomUIContent=i;}},setFooter:function(F){var e=this.getView().getOUnifiedShell();if(typeof F!=="object"||!F.getId){throw new Error("oFooter value is invalid");}if(e.getFooter()!==null){jQuery.sap.log.warning("You can only set one footer. Replacing existing footer: "+e.getFooter().getId()+", with the new footer: "+F.getId()+".");}e.setFooter(F);},removeFooter:function(){this.getView().getOUnifiedShell().setFooter(null);},addUserPreferencesEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateUserPrefModel(e);},addUserProfilingEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateProfilingModel(e);},_validateUserPrefEntryConfiguration:function(e){if((!e)||(typeof e!=="object")){throw new Error("object oConfig was not provided");}if(!e.title){throw new Error("title was not provided");}if(!e.value){throw new Error("value was not provided");}if(typeof e.entryHelpID!=="undefined"){if(typeof e.entryHelpID!=="string"){throw new Error("entryHelpID type is invalid");}else if(e.entryHelpID===""){throw new Error("entryHelpID type is invalid");}var i=sap.ui.getCore().byId("shell-header");if(i&&i._handleResizeChange){i._handleResizeChange();}}if(e.title&&typeof e.title!=="string"){throw new Error("title type is invalid");}if(typeof e.value!=="function"&&typeof e.value!=="string"&&typeof e.value!=="number"){throw new Error("value type is invalid");}if(e.onSave&&typeof e.onSave!=="function"){throw new Error("onSave type is invalid");}if(e.content&&typeof e.content!=="function"){throw new Error("content type is invalid");}if(e.onCancel&&typeof e.onCancel!=="function"){throw new Error("onCancel type is invalid");}},_createSessionHandler:function(t){var e=this;sap.ui.require(["sap/ushell/SessionHandler"],function(i){e.oSessionHandler=new i();e.oSessionHandler.init({sessionTimeoutReminderInMinutes:t.sessionTimeoutReminderInMinutes,sessionTimeoutIntervalInMinutes:t.sessionTimeoutIntervalInMinutes,enableAutomaticSignout:t.enableAutomaticSignout});});},_getSessionHandler:function(){return this.oSessionHandler;},_navBack:function(){this.setMeAreaSelected(false);a.service().navigateBack();},_updateUserPrefModel:function(e){var i=this._getModelEntryFromEntryObject(e),v=d.last("/core/shell/model/userPreferences/entries");v.push(i);v=this._reorderUserPrefEntries(v);M.setProperty("/userPreferences/entries",v);},_updateProfilingModel:function(e){var i=this._getModelEntryFromEntryObject(e),v=d.last("/core/shell/model/userPreferences/profiling")||[];v.push(i);M.setProperty("/userPreferences/profiling",v);},_getModelEntryFromEntryObject:function(e){return{"entryHelpID":e.entryHelpID,"title":e.title,"editable":!!e.content,"valueArgument":e.value,"valueResult":null,"onSave":e.onSave,"onCancel":e.onCancel,"contentFunc":e.content,"contentResult":null,"icon":e.icon};},_reorderUserPrefEntries:function(e){var v,w;for(var i=0;i<e.length;i++){if(e[i].entryHelpID==="flpSettingsEntry"){v=i;}else if(e[i].entryHelpID==="themes"){w=i;}if(v!=undefined&&w!=undefined){var x=e.splice(v,1);e.splice(w+1,0,x[0]);break;}}return e;},getModel:function(){return M;},_getConfig:function(){return t||{};},_getPersData:function(P){var e=sap.ui.core.Component.getOwnerComponentFor(this.getView());return new Promise(function(i,v){sap.ushell.Container.getServiceAsync("Personalization").then(function(w){var x={keyCategory:w.constants.keyCategory.FIXED_KEY,writeFrequency:w.constants.writeFrequency.LOW,clientStorageAllowed:true};var y=w.getPersonalizer(P,x,e);y.getPersData().then(i).fail(v);});});},_getCurrentLocationHash:function(){return window.location.hash;},setMeAreaSelected:function(e){E.emit("showMeArea",e);},getMeAreaSelected:function(){return d.last("/core/shell/model/currentViewPortState")==="LeftCenter";},setNotificationsSelected:function(e){E.emit("showNotifications",e);},getNotificationsSelected:function(){return d.last("/core/shell/model/currentViewPortState")==="RightCenter";},isAnimationModeNotMinimal:function(e){return e!=="minimal";}});},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/Shell.view',['sap/ui/core/IconPool','sap/ui/Device','sap/ui/core/HTML','sap/ushell/components/_HeaderManager/ControlManager','sap/ushell/components/HeaderManager','sap/ushell/components/_HeaderManager/ShellHeader.controller','sap/ushell/ui/launchpad/ActionItem','sap/ushell/ui/shell/ShellHeadItem','sap/ushell/ui/shell/ToolArea','sap/ushell/ui/footerbar/ContactSupportButton','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/renderers/fiori2/AccessKeysHandler','sap/m/Button','sap/m/Dialog','sap/ushell/resources','sap/ushell/utils','sap/ushell/Config','sap/ushell/EventHub','sap/ui/model/json/JSONModel'],function(I,D,H,a,b,S,A,c,T,C,d,e,B,f,r,u,g,E,J){"use strict";function s(i,o){return sap.ui.getCore().byId(o.getObject());}sap.ui.jsview("sap.ushell.renderers.fiori2.Shell",{createContent:function(o){this.oController=o;this.oShellAppTitleStateEnum={SHELL_NAV_MENU_ONLY:0,ALL_MY_APPS_ONLY:1,SHELL_NAV_MENU:2,ALL_MY_APPS:3};var v=this.getViewData()||{},h=v.config||{},i=new c({id:"configBtn",tooltip:"{i18n>showGrpsBtn_tooltip}",ariaLabel:"{i18n>showGrpsBtn_tooltip}",icon:I.getIconURI("menu2"),selected:{path:"/currentState/showPane"},press:[o.togglePane,o]});this.oConfig=h;this.aDanglingControls=[];this._allowUpToThreeActionInShellHeader(h);i.addEventDelegate({onsapskipforward:function(l){if(e.getAppKeysHandler()){l.preventDefault();e.bFocusOnShell=false;}},onfocusin:function(){e.bFocusOnShell=true;e.bFocusPassedToExternalHandlerFirstTime=true;}});this.addDanglingControl(i);var U=sap.ui.xmlfragment("sap.ushell.ui.fiori3.ShellLayout",o);U._setStrongBackground(true);var j=this.createShellHeader(h,this.getViewData().shellModel);b.initShellBarLogo(h,j);U.setHeader(j);j.setShellLayout(U);var k;E.once("ToolAreaItemCreated").do(function(l){k=this._createToolArea();U.setToolArea(k);k.updateAggregation=this.updateShellAggregation;}.bind(this));this.setOUnifiedShell(U);this.setDisplayBlock(true);this.addDanglingControl(sap.ui.getCore().byId('viewPortContainer'));this.logonIFrameReference=null;u.setPerformanceMark("FLP - Shell.view rendering started!");return U;},_allowUpToThreeActionInShellHeader:function(o){if(Object.keys(o).length!=0){var h=[o.moveAppFinderActionToShellHeader,o.moveUserSettingsActionToShellHeader,o.moveGiveFeedbackActionToShellHeader,o.moveContactSupportActionToShellHeader,o.moveEditHomePageActionToShellHeader];var i=0;for(var j=0;j<5;j++){if(i===3){h[j]=false;}else if(h[j]){i++;}}o.moveAppFinderActionToShellHeader=h[0];o.moveUserSettingsActionToShellHeader=h[1];o.moveGiveFeedbackActionToShellHeader=h[2];o.moveContactSupportActionToShellHeader=h[3];o.moveEditHomePageActionToShellHeader=h[4];}},createShellHeader:function(o,h){var i=g.createModel("/core/shellHeader",J),j=new S(),k;a.init(o,j,h);k=sap.ui.xmlfragment("sap.ushell.ui.fiori3.ShellHeader",j);k.setAccessKeyHandler(e);var l=k.getAppTitle();l.addEventDelegate({onsapskipforward:function(m){if(e.getAppKeysHandler()){m.preventDefault();e.bFocusOnShell=false;}}});k.setModel(i);k.setModel(r.i18nModel,"i18n");this.addEventDelegate({"onBeforeRendering":function(){k.createUIArea(this.getUIArea().getId());}},this);return k;},_createToolArea:function(){var o=new T({id:'shell-toolArea',toolAreaItems:{path:"/currentState/toolAreaItems",factory:s}});return o;},_createPostCoreExtControls:function(F,h){var o=sap.ui.getCore().byId("shell");if(!o){return;}var i=new F({id:'shell-floatingContainer',content:{path:"/currentState/floatingContainerContent",factory:s}});i.addCustomData(new d({key:"tabindex",value:"-1",writeToDom:true}));i.addEventDelegate({onsapskipforward:function(l){l.preventDefault();e.setIsFocusHandledByAnotherHandler(true);e.sendFocusBackToShell(l);},onsapskipback:function(l){if(e.getAppKeysHandler()){l.preventDefault();e.bFocusOnShell=false;}}});i.setModel(o.getModel());this.addDanglingControl(i);var j=new h({id:'shell-floatingActions',floatingActions:{path:"/currentState/floatingActions",factory:s}});j.updateAggregation=this.updateShellAggregation;var k=this.getOUnifiedShell();k.setFloatingContainer(i);k.setFloatingActionsContainer(j);this._createAllMyAppsView();},createPostCoreExtControls:function(){sap.ui.require(["sap/ushell/ui/shell/FloatingContainer","sap/ushell/ui/shell/ShellFloatingActions"],this._createPostCoreExtControls.bind(this));},_createAllMyAppsView:function(){var m=this.getModel();var o=function(h){if(h.isEnabled()){this.oAllMyAppsView=sap.ui.view("allMyAppsView",{type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.renderers.fiori2.allMyApps.AllMyApps",viewData:{_fnGetShellModel:function(){return m;}},async:true,height:"100%",visible:{path:'/ShellAppTitleState',formatter:function(i){return i!==this.oShellAppTitleStateEnum.SHELL_NAV_MENU;}.bind(this)}}).addStyleClass("sapUshellAllMyAppsView");this.oAllMyAppsView.addCustomData(new d({key:"aria-label",value:r.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.getOUnifiedShell().getHeader().getAppTitle().setAllMyApps(this.oAllMyAppsView);}}.bind(this);sap.ushell.Container.getServiceAsync("AllMyApps").then(o);},getOUnifiedShell:function(){return this.oUnifiedShell;},setOUnifiedShell:function(U){this.oUnifiedShell=U;},updateShellAggregation:function(n){var o=this.mBindingInfos[n],h=this.getMetadata().getJSONKeys()[n],j;jQuery.each(this[h._sGetter](),jQuery.proxy(function(i,v){this[h._sRemoveMutator](v);},this));jQuery.each(o.binding.getContexts(),jQuery.proxy(function(i,v){j=o.factory(this.getId()+"-"+i,v)?o.factory(this.getId()+"-"+i,v).setBindingContext(v,o.model):"";this[h._sMutator](j);},this));},getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell";},createIFrameDialog:function(){var o=null,l=this.logonIFrameReference,h;var _=function(){if(l){l.remove();}return jQuery('<iframe id="SAMLDialogFrame" src="" frameborder="0" height="100%" width="100%"></iframe>');};var i=function(){o.addStyleClass('sapUshellSamlDialogHidden');jQuery('#sap-ui-blocklayer-popup').addClass('sapUshellSamlDialogHidden');};this.destroyIFrameDialog();var j=new B({text:r.i18n.getText("samlCloseBtn"),press:function(){sap.ushell.Container.cancelLogon();}});var k=new H("SAMLDialogFrame");this.logonIFrameReference=_();k.setContent(this.logonIFrameReference.prop('outerHTML'));o=new f({id:"SAMLDialog",title:r.i18n.getText("samlDialogTitle"),contentWidth:"50%",contentHeight:"50%",rightButton:j}).addStyleClass("sapUshellIframeDialog");h=g.last("/core/extension/SupportTicket");if(h){var m=new C();m.setWidth('150px');m.setIcon('');o.setLeftButton(m);}o.addContent(k);o.open();i();this.logonIFrameReference=jQuery('#SAMLDialogFrame');return this.logonIFrameReference[0];},destroyIFrameDialog:function(){var h=sap.ui.getCore().byId('SAMLDialog');if(h){h.destroy();}this.logonIFrameReference=null;},showIFrameDialog:function(){var o=sap.ui.getCore().byId('SAMLDialog');if(o){o.removeStyleClass('sapUshellSamlDialogHidden');jQuery('#sap-ui-blocklayer-popup').removeClass('sapUshellSamlDialogHidden');}},addDanglingControl:function(o){this.aDanglingControls.push(o);},destroyDanglingControls:function(){if(this.aDanglingControls){this.aDanglingControls.forEach(function(o){if(o.destroyContent){o.destroyContent();}o.destroy();});}}});},false);
sap.ui.predefine('sap/ushell/resources',['sap/ui/model/resource/ResourceModel'],function(R){"use strict";var r={};r.getTranslationModel=function(l){var t=new R({bundleUrl:jQuery.sap.getModulePath("sap.ushell.renderers.fiori2.resources.resources",".properties"),bundleLocale:l});return t;};r.i18nModel=r.getTranslationModel(sap.ui.getCore().getConfiguration().getLanguage());r.i18n=r.i18nModel.getResourceBundle();return r;},true);
sap.ui.predefine('sap/ushell/services/AllMyApps',[],function(){"use strict";function A(c,p,s){var S=s&&s.config,e=false,d={},P={HOME:0,EXTERNAL:1,CATALOG:2};this.isEnabled=function(){e=(!S||(S.enabled!==false))?true:false;return e;};this.isHomePageAppsEnabled=function(){return(!S||(S.showHomePageApps!==false))?true:false;};this.isCatalogAppsEnabled=function(){return(!S||(S.showCatalogApps!==false))?true:false;};this.isExternalProviderAppsEnabled=function(){return(!S||(S.showExternalProviders!==false))?true:false;};this.registerExternalProvider=function(a,o){if(!a||(a==="")){return;}if(!o.getTitle||!o.getData){return;}d[a]=o;};this.getDataProviders=function(){return d;};this.getProviderTypeEnum=function(){return P;};this.init=function(){};}A.hasNoAdapter=true;return A;},true);
sap.ui.predefine('sap/ushell/services/AppConfiguration',["sap/ushell/utils","sap/ushell/EventHub"],function(u,E){"use strict";function A(){var m={},a=true,c=null,I=[],b=[];E.on("AppRendered").do(d.bind(this));function d(C,s,D){a=false;if(b.length){for(var i=0;i<b.length;i++){b[i]();}b.length=0;}}this.addActivity=function(r){var C=sap.ushell.Container;return C&&C.getService("UserRecents").addActivity(r);};this.setApplicationInInitMode=function(){a=true;};this.getApplicationRequestQueue=function(){return b;};this.getCurrentAppliction=function(){return c;};this.getCurrentApplication=this.getCurrentAppliction;this.getMetadata=function(o){if(!o){o=c;}if(o){var h=hasher&&hasher.getHash?hasher.getHash():'',k=this._processKey(h);if(!(m.hasOwnProperty(k))||!m[k].complete){this.addMetadata(o,k);}if(!m[k]){m[k]={complete:false};}if(!m[k].title){m[k].title=o.text||sap.ushell.resources.i18n.getText("default_app_title");}return m[k];}return{};};this._processKey=function(C){var i=C.split('?')[0],p=C.split('?')[1],s,P={},S,f='',g='',o;if(p){s=p.split('&');s.forEach(function(h){var j=h.split('=');P[j[0]]=j[1];});S=Object.keys(P).sort();S.forEach(function(k,h){g=h?'&':'?';f+=g+k+'='+P[k];});return i+f;}o=sap.ushell.Container.getService("URLParsing").parseShellHash(C);i=o?o.semanticObject+"-"+o.action:"";return i;};this.setCurrentApplication=function(o){c=o;if(b.length){b.length=0;}};this.setHeaderHiding=function(){jQuery.sap.log.warning("Application configuration headerHiding property is deprecated and has no effect");};this.addApplicationSettingsButtons=function(B){if(a){b.push(function(){e(B);});}else{e(B);}};function e(B){var i,f=[],r=sap.ushell.Container.getRenderer("fiori2");for(i=0;i<B.length;i++){var C=B[i];f.push(C.getId());C.setIcon(C.getIcon()||sap.ui.core.IconPool.getIconURI('customize'));if(sap.ushell.resources.i18n.getText("userSettings")===C.getProperty("text")){C.setProperty("text",sap.ushell.resources.i18n.getText("userAppSettings"));}C.setType(sap.m.ButtonType.Unstyled);}if(sap.ushell.Container&&r){if(I.length){r.hideActionButton(I,true);}I=f;r.showActionButton(f,true,undefined,true);}}this.setWindowTitle=function(t){window.document.title=t;};this.setIcons=function(i){jQuery.sap.setIcons(i);};this.setApplicationFullWidth=function(v){sap.ushell.components.applicationIntegration.AppLifeCycle.setApplicationFullWidth(v);};this.getSettingsControlAsync=function(){var D=new jQuery.Deferred();sap.ui.require(["sap/ushell/ui/footerbar/SettingsButton"],function(S){D.resolve(new S());});return D.promise();};this.getSettingsControl=function(){var s="sap/ushell/ui/footerbar/SettingsButton",o="sap.ushell.ui.footerbar.SettingsButton",S=sap.ui.require(s);if(S){return new S();}jQuery.sap.require(o);S=jQuery.sap.getObject(o);return new S();};this.getApplicationName=function(o){var M,s=(o&&o.additionalInformation)||null;if(s){M=/^SAPUI5\.Component=(.+)$/i.exec(s);if(M){return M[1];}}return null;};this.getApplicationUrl=function(o){var U=(o&&o.url)||null,s="P_TCODE",i;if(U){if(o.applicationType==="NWBC"&&U.indexOf(s)){return U;}i=U.indexOf("?");if(i>=0){U=U.slice(0,i);}if(U.slice(-1)!=='/'){U+='/';}}return U;};this.getPropertyValueFromConfig=function(C,p,r){var v;if(r&&C.hasOwnProperty(p+"Resource")){v=r.getText(C[p+"Resource"]);}else if(C.hasOwnProperty(p)){v=C[p];}return v;};this.getPropertyValueFromManifest=function(l,p,P){var M=p[P].manifestEntryKey,s=p[P].path,o=l.getManifestEntry(M);return jQuery.sap.getObject(s,undefined,o);};this.addMetadata=function(o,k){try{var C=this.getApplicationName(o),U=this.getApplicationUrl(o),l,f,p={"fullWidth":{"manifestEntryKey":"sap.ui","path":"fullWidth"},"hideLightBackground":{"manifestEntryKey":"sap.ui","path":"hideLightBackground"},"title":{"manifestEntryKey":"sap.app","path":"title"},"icon":{"manifestEntryKey":"sap.ui","path":"icons.icon"},"favIcon":{"manifestEntryKey":"sap.ui","path":"icons.favIcon"},"homeScreenIconPhone":{"manifestEntryKey":"sap.ui","path":"icons.phone"},"homeScreenIconPhone@2":{"manifestEntryKey":"sap.ui","path":"icons.phone@2"},"homeScreenIconTablet":{"manifestEntryKey":"sap.ui","path":"icons.tablet"},"homeScreenIconTablet@2":{"manifestEntryKey":"sap.ui","path":"icons.tablet@2"},"startupImage320x460":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x920"},"startupImage640x920":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x920"},"startupImage640x1096":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x1096"},"startupImage768x1004":{"manifestEntryKey":"sap.ui","path":"icons.startupImage768x1004"},"startupImage748x1024":{"manifestEntryKey":"sap.ui","path":"icons.startupImage748x1024"},"startupImage1536x2008":{"manifestEntryKey":"sap.ui","path":"icons.startupImage1536x2008"},"startupImage1496x2048":{"manifestEntryKey":"sap.ui","path":"icons.startupImage1496x2048"},"compactContentDensity":{"manifestEntryKey":"sap.ui5","path":"contentDensities.compact"},"cozyContentDensity":{"manifestEntryKey":"sap.ui5","path":"contentDensities.cozy"}},g,s,i,M,P,h,r,j=o&&o.componentHandle;if(k){if(!(m.hasOwnProperty(k))){m[k]={complete:false};}if(!m[k].complete){if(j){l=j.getMetadata();}else if(C){jQuery.sap.log.warning("No component handle available for '"+C+"'; SAPUI5 component metadata is incomplete",null,"sap.ushell.services.AppConfiguration");return;}if(l){f=l.getConfig();M=(l.getManifest()!==undefined);m[k].complete=true;if(f){h=f.resourceBundle||"";if(h){if(h.slice(0,1)!=='/'){h=U+h;}r=jQuery.sap.resources({url:h,locale:sap.ui.getCore().getConfiguration().getLanguage()});}}for(P in p){if(p.hasOwnProperty(P)){if(M){m[k][P]=this.getPropertyValueFromManifest(l,p,P);}if(f&&m[k][P]===undefined){m[k][P]=this.getPropertyValueFromConfig(f,P,r);}}}m[k].version=l.getVersion();m[k].technicalName=l.getComponentName();}else if(u.isApplicationTypeEmbeddedInIframe(o.applicationType)){var w="/~canvas;window=app/wda/",n=o.url.indexOf(w),W="/bc/gui/sap/its/webgui",q=o.url.indexOf(W);if(n>=0){m[k].technicalName=o.url.substring((n+w.length),o.url.indexOf("/",(n+w.length)));}m[k].complete=true;if(q>=0){var t="etransaction=",v=o.url.indexOf(t,q+W.length),x=o.url.indexOf("&",v),y=(x>=0)?x:o.url.length;m[k].technicalName=decodeURIComponent(o.url.substring(v+t.length,y))+" (TCODE)";}}else{jQuery.sap.log.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration");}}g=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];s=(U&&U[U.length-1]==='/')?U.substring(0,U.length-1):U;i=function(U){if(U.match(/^https?:\/\/.*/)){return false;}return U&&U[0]!=='/';};g.forEach(function(B){var O=m[k][B],F=null;if(O){F=i(O)?s+"/"+O:O;}m[k][B]=F;});}}catch(z){jQuery.sap.log.warning("Application configuration could not be parsed");}};}return new A();},true);
sap.ui.predefine('sap/ushell/services/AppLifeCycle',["sap/ui/base/EventProvider","sap/ushell/TechnicalParameters"],function(E,T){"use strict";var S="appLoaded";function A(a,c,p,C){var o,e,v;this.getCurrentApplication=function(){return o;};this.attachAppLoaded=function(d,f,l){e.attachEvent(S,d,f,l);};this.detachAppLoaded=function(f,l){e.detachEvent(S,f,l);};e=new E();v=sap.ui.getCore().byId("viewPortContainer");if(!v||typeof v.attachAfterNavigate!=="function"){jQuery.sap.log.error("Error during instantiation of AppLifeCycle service","Could not attach to afterNavigate event","sap.ushell.services.AppLifeCycle");return;}v.attachAfterNavigate(function(b){var d,f,s,g,h,H=false;if(b.mParameters.toId.indexOf("applicationShellPage")===0){f=b.mParameters.to.getApp();}else if(b.mParameters.toId.indexOf("application")===0){f=b.mParameters.to;}if(f&&typeof f.getComponentHandle==="function"&&f.getComponentHandle()){g=f.getComponentHandle().getInstance();}else if(f){d=f.getAggregation("child");if(d){g=d.getComponentInstance();}}else{g=sap.ui.getCore().getComponent(b.mParameters.to.getComponent());}if(g){h=g.getId();H=h.indexOf("Shell-home-component")!==-1||h.indexOf("Shell-appfinder-component")!==-1;}s=f&&typeof f.getApplicationType==="function"&&f.getApplicationType();if((!s||s==="URL")&&g){s="UI5";}o={applicationType:s,componentInstance:g,homePage:H,getTechnicalParameter:function(P){return T.getParameterValue(P,g,f,s);},getIntent:function(){var i=hasher&&hasher.getHash();if(!i){return Promise.reject("Could not identify current application hash");}var j=sap.ushell.Container.getServiceAsync("URLParsing");return j.then(function(P){return P.parseShellHash(i);});}};setTimeout(function(){e.fireEvent(S,o);},0);});}A.hasNoAdapter=true;return A;},true);
sap.ui.predefine('sap/ushell/services/AppState',["sap/ushell/services/_AppState/WindowAdapter","sap/ushell/services/_AppState/SequentializingAdapter","sap/ushell/services/_AppState/AppState","sap/ushell/services/_AppState/Sequentializer","sap/ushell/utils"],function(W,S,A,a,u){"use strict";function g(c){return u.isDefined(c)&&u.isDefined(c.transient)?!!c.transient:true;}function b(o,c,p,C){this._oConfig=C&&C.config;this._sSessionKey="";this._oAdapter=new S(o);this._oAdapter=new W(this,this._oAdapter,C);}b.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey();}return this._sSessionKey;};b.prototype.getAppState=function(k){var d=new jQuery.Deferred(),t=this,o;this._loadAppState(k).done(function(k,D){o=new A(t,k,false,D);d.resolve(o);}).fail(function(m){o=new A(t,k);d.resolve(o);});return d.promise();};b.prototype._getGeneratedKey=function(){var s=sap.ushell.Container.getService("Personalization").getGeneratedKey();s=("AS"+s).substring(0,40);return s;};b.prototype.createEmptyAppState=function(c,t){var k=this._getGeneratedKey(),o,s="",d="",U=u.isDefined(t)?t:g(this._oConfig);if(c){if(!(c instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}if(c.getMetadata&&c.getMetadata()&&typeof c.getMetadata().getName==="function"){s=c.getMetadata().getName()||"";}if(!s&&c.getMetadata&&c.getMetadata().getComponentName){s=c.getMetadata().getComponentName();}if(c.getMetadata&&c.getMetadata()&&typeof c.getMetadata().getManifest==="function"&&typeof c.getMetadata().getManifest()==="object"&&typeof c.getMetadata().getManifest()["sap.app"]==="object"){d=c.getMetadata().getManifest()["sap.app"].ach||"";}}o=new A(this,k,true,undefined,s,d,U);return o;};b.prototype.createEmptyUnmodifiableAppState=function(c){var k=this._getGeneratedKey(),o;o=new A(this,k,false);return o;};b.prototype._saveAppState=function(k,d,s,c,t){var e=this._getSessionKey(),U=u.isDefined(t)?t:g(this._oConfig);return this._oAdapter.saveAppState(k,e,d,s,c,U);};b.prototype._loadAppState=function(k){return this._oAdapter.loadAppState(k);};b._getSequentializer=function(){return new a();};b.WindowAdapter=W;b.hasNoAdapter=false;return b;},true);
sap.ui.predefine('sap/ushell/services/AppType',[],function(){"use strict";return{OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",APP:"Application",getDisplayName:function(a){switch(a){case this.OVP:case this.SEARCH:case this.FACTSHEET:case this.COPILOT:return a;default:return"App";}}};});
sap.ui.predefine('sap/ushell/services/ClientSideTargetResolution',["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/AppConfiguration","sap/ushell/services/_ClientSideTargetResolution/InboundProvider","sap/ushell/services/_ClientSideTargetResolution/InboundIndex","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/Search","sap/ushell/services/_ClientSideTargetResolution/StagedLogger","sap/ushell/services/_ClientSideTargetResolution/Formatter","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping","sap/ushell/navigationMode","sap/ushell/Config","sap/ushell/ApplicationType","sap/ui/thirdparty/URI","sap/ushell/_ApplicationType/systemAlias","sap/ushell/TechnicalParameters","sap/base/util/ObjectPath"],function(u,c,a,I,b,V,s,l,f,p,n,C,A,U,S,T,O){"use strict";function d(o,e,P,g){this._init.apply(this,arguments);}d.prototype._init=function(o,e,P,g){this._iLogId=0;sap.ui.lazyRequire("sap/ui/generic/app/navigation/service/SelectionVariant");if(!this._implementsServiceInterface(o)){jQuery.sap.log.error("Cannot get Inbounds","ClientSideTargetResolutionAdapter should implement getInbounds method","sap.ushell.services.ClientSideTargetResolution");return;}this._oInboundProvider=new I(o.getInbounds.bind(o));this._oHaveEasyAccessSystemsDeferreds={userMenu:null,sapMenu:null};this._oServiceConfiguration=g;this._oAdapter=o;};d.prototype._implementsServiceInterface=function(o){if(typeof o.getInbounds==="function"){return true;}return false;};d.prototype._getURLParsing=function(){if(!this._oURLParsing){this._oURLParsing=sap.ushell.Container.getService("URLParsing");}return this._oURLParsing;};d.prototype._hasRenameTo=function(m){return m.inbound&&m.inbound.signature&&m.inbound.signature.parameters&&Object.keys(m.inbound.signature.parameters).some(function(k){return!!(m.inbound.signature.parameters[k].renameTo);});};d.prototype._removeUnusedComplexParameterValuesFromDefaultList=function(m){m.defaultedParamNames=m.defaultedParamNames.filter(function(N){if(m.intentParamsPlusAllDefaults[N]&&!jQuery.isArray(m.intentParamsPlusAllDefaults[N])){if(!(m.resolutionResult.oNewAppStateMembers&&m.resolutionResult.oNewAppStateMembers[N])){return false;}}return true;});};d.prototype._mapDefaultParameterNames=function(m){var P=jQuery.sap.getObject("inbound.signature.parameters",undefined,m)||{},M={};m.defaultedParamNames.forEach(function(N){var e=(P[N]&&P[N].renameTo)||N;if(M[e]){jQuery.sap.log.error("renaming of defaultedParamNames creates duplicates"+N+"->"+e);}else{M[e]=true;}});m.mappedDefaultedParamNames=Object.keys(M).sort();};d.prototype._mixAppStateIntoResolutionResultAndRename=function(m,o){var D=new jQuery.Deferred(),t=this,N;var r=m.resolutionResult;function e(D,x){var y;t._removeUnusedComplexParameterValuesFromDefaultList(x);t._mapDefaultParameterNames(x);y=n.compute(jQuery.sap.getObject("inbound.resolutionResult.applicationType",undefined,x),(x.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(x.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(a.getCurrentApplication()||{}).applicationType,C.last("/core/navigation/enableInPlaceForClassicUIs"));u.shallowMergeObject(x.resolutionResult,y);delete x.resolutionResult.oNewAppStateMembers;D.resolve(x);}function h(r){return(r.oNewAppStateMembers&&!jQuery.isEmptyObject(r.oNewAppStateMembers));}function i(L,P){return jQuery.isArray(L)&&L.some(function(x){return(P.indexOf(x)!==-1);});}function g(x,P){var y,z,B;if(x&&x.selectionVariant){y=new sap.ui.generic.app.navigation.service.SelectionVariant(JSON.stringify(x.selectionVariant));B=y.getSelectOptionsPropertyNames()||[];z=y.getParameterNames()||[];if(i(B,P)||i(z,P)){return true;}}return false;}function j(x,R,P,y){var z=new sap.ui.generic.app.navigation.service.SelectionVariant(),B=x.getParameterNames()||[],F=x.getSelectOptionsPropertyNames()||[],G,H;B.forEach(function(J){G=x.getParameter(J);if(y&&!P[J]){R.deleted=true;return;}if(P[J]&&P[J].renameTo){if((z.getParameter(P[J].renameTo)===undefined)&&(z.getSelectOption(P[J].renameTo)===undefined)){z.addParameter(P[J].renameTo,G);R.changed=true;}else{jQuery.sap.log.error("renaming of appstate creates duplicates "+J+"->"+P[J].renameTo);}}else{if((z.getParameter(J)===undefined)&&(z.getSelectOption(J)===undefined)){z.addParameter(J,G);}}});F.forEach(function(J){H=x.getSelectOption(J);if(y&&!P[J]){R.deleted=true;return;}if(P[J]&&P[J].renameTo){if((z.getSelectOption(P[J].renameTo)===undefined)&&(z.getParameter(P[J].renameTo)===undefined)){z.massAddSelectOption(P[J].renameTo,H);R.changed=true;}else{jQuery.sap.log.error("renaming of appstate creates duplicates "+J+"->"+P[J].renameTo);}}else{if((z.getSelectOption(J)===undefined)&&(z.getParameter(J)===undefined)){z.massAddSelectOption(J,H);}}});B.forEach(function(J){x.removeParameter(J);});F.forEach(function(J){x.removeSelectOption(J);});z.getParameterNames().forEach(function(J){x.addParameter(J,z.getParameter(J));});z.getSelectOptionsPropertyNames().forEach(function(J){x.massAddSelectOption(J,z.getSelectOption(J));});return x;}function k(x){if(x===undefined||jQuery.isPlainObject(x)){return false;}return true;}function M(x){var y=x.getData()||{},z,B={};var q=m.inbound.signature;if(y.selectionVariant){z=new sap.ui.generic.app.navigation.service.SelectionVariant(JSON.stringify(y.selectionVariant));}else{z=new sap.ui.generic.app.navigation.service.SelectionVariant();}if(h(r)){Object.keys(r.oNewAppStateMembers).forEach(function(G){z.massAddSelectOption(G,r.oNewAppStateMembers[G].Ranges);});}var F=q.additionalParameters==="ignored";z=j(z,B,q.parameters,F);if(z.getParameterNames().length!==0||z.getSelectOptionsPropertyNames().length!==0||B.deleted){y.selectionVariant=z.toJSONObject();}if(!B.changed&&!B.deleted&&!h(r)){e(D,m);return;}x.setData(y);x.save().done(function(){m.intentParamsPlusAllDefaults["sap-xapp-state"]=[x.getKey()];m.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[x.getKey()];e(D,m);});}var q=m.inbound&&(m.inbound.signature||{});var v=h(r)||q.additionalParameters==="ignored"||t._hasRenameTo(m);if(!v){e(D,m);return D.promise();}var w=m.intentParamsPlusAllDefaults["sap-xapp-state"]&&m.intentParamsPlusAllDefaults["sap-xapp-state"][0];if(w){o.getAppState(w).done(function(x){var y=x.getData();if(k(y)){delete r.oNewAppStateMembers;e(D,m);return;}if(h(r)){var P=c.constructParameterDominatorMap(q.parameters);Object.keys(r.oNewAppStateMembers).forEach(function(B){var F=P[B].dominatedBy;if(g(y,F)){delete r.oNewAppStateMembers[B];}});}var z=q.additionalParameters==="ignored";if(!h(r)&&!t._hasRenameTo(m)&&!z){e(D,m);}else{N=o.createEmptyAppState(undefined,true);if(N){N.setData(x.getData());M(N);}}});return D.promise();}if(h(r)){var E=o.createEmptyAppState(undefined,true);M(E);return D.promise();}e(D,m);return D.promise();};d.prototype._extractInboundFilter=function(o){if(!this._oAdapter.hasSegmentedAccess){return undefined;}if(typeof o!=="string"){return undefined;}var F=o.indexOf("#")===0?o:"#"+o;var e=this._getURLParsing().parseShellHash(F);if(!e||!e.semanticObject||!e.action){return undefined;}return[{semanticObject:e.semanticObject,action:e.action}];};d.prototype.resolveHashFragment=function(h){var t=this,D=new jQuery.Deferred(),B=this._oAdapter.resolveHashFragmentFallback&&this._oAdapter.resolveHashFragmentFallback.bind(this._oAdapter),e=this._extractInboundFilter(h);this._oInboundProvider.getInbounds(e).then(function(i){t._resolveHashFragment(h,B,i).done(function(o){return D.resolve(o);}).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.resolveTileIntent=function(h){var t=this,D=new jQuery.Deferred(),e=this._extractInboundFilter(h);this._oInboundProvider.getInbounds(e).then(function(i){t._resolveTileIntent(h,undefined,i).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.resolveTileIntentInContext=function(i,h){var o,D=new jQuery.Deferred();o=b.createIndex(i.concat(V.getInbounds()));this._resolveTileIntent(h,undefined,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));return D.promise();};d.prototype._resolveHashFragment=function(h,B,i){var e=this._getURLParsing(),t=this,D=new jQuery.Deferred(),F=h.indexOf("#")===0?h:"#"+h,g=e.parseShellHash(F);if(g===undefined){jQuery.sap.log.error("Could not parse shell hash '"+h+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return D.reject().promise();}g.formFactor=u.getFormFactor();this._getMatchingInbounds(g,i,{bExcludeTileInbounds:true}).fail(function(E){jQuery.sap.log.error("Could not resolve "+h,"_getMatchingInbounds promise rejected with: "+E,"sap.ushell.services.ClientSideTargetResolution");D.reject(E);}).done(function(m){var M;if(m.length===0){jQuery.sap.log.warning("Could not resolve "+h,"rejecting promise","sap.ushell.services.ClientSideTargetResolution");D.reject("Could not resolve navigation target");return;}m=t._applySapNavigationScopeFilter(m,g);M=m[0];c.whenDebugEnabled(function(){function j(K,v){return this[K]===undefined?"<undefined>":v;}function r(o,v){return(o==="_original")?undefined:j.call(this,o,v);}var k=JSON.stringify(M,r,"   ");jQuery.sap.log.debug("The following target will now be resolved",k,"sap.ushell.services.ClientSideTargetResolution");});t._resolveSingleMatchingTarget(M,B,F).done(function(o){D.resolve(o);}).fail(D.reject.bind(D));});return D.promise();};d.prototype._applySapNavigationScopeFilter=function(m,o){var e=o&&o.params&&o.params["sap-navigation-scope-filter"];if(!e){return m;}var F=m.filter(function(M){var g=O.get("inbound.signature.parameters",M);var h=g&&g["sap-navigation-scope"];if(h){return e[0]===h.defaultValue.value;}});return F.length>0?F:m;};d.prototype._resolveSingleMatchingTarget=function(m,B,F){var t=this,D=new jQuery.Deferred(),o=this._getURLParsing(),i=o.parseShellHash(F),e=[i.semanticObject,i.action].join("-"),g=(m.inbound.resolutionResult||{}).applicationType;var E;if(this._oAdapter.resolveSystemAlias){E=this._oAdapter.resolveSystemAlias.bind(this._oAdapter);}var h=A.getEasyAccessMenuResolver(e,g);if(h){h(i,m,E).then(function(R){var N=n.compute(jQuery.sap.getObject("inbound.resolutionResult.applicationType",undefined,m),(m.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(m.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(a.getCurrentApplication()||{}).applicationType,C.last("/core/navigation/enableInPlaceForClassicUIs"));u.shallowMergeObject(R,N);D.resolve(R);},function(j){D.reject(j);});return D.promise();}var r=this._getReservedParameters(m);p.mapParameterNamesAndRemoveObjects(m);this._mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService("AppState")).done(function(m){var R=function(){return t._constructFallbackResolutionResult.call(t,m,B,F);};if(A[g]){R=A[g].generateResolutionResult;}delete m.intentParamsPlusAllDefaults["sap-tag"];delete m.mappedIntentParamsPlusSimpleDefaults["sap-tag"];m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(P){return P!=="sap-tag";});var j=jQuery.sap.getObject("inbound.resolutionResult.url",undefined,m);R(m,j,E).then(function(k){k.reservedParameters=r;return k;}).then(function(k){jQuery.sap.log.debug("Intent was resolved to the following target",JSON.stringify(m.resolutionResult,null,3),"sap.ushell.services.ClientSideTargetResolution");u.shallowMergeObject(m.resolutionResult,k);D.resolve(m.resolutionResult);},function(M){if(M.indexOf("fallback:")>=0){t._constructFallbackResolutionResult.call(this,m,B,F).then(function(k){u.shallowMergeObject(m.resolutionResult,k);D.resolve(m.resolutionResult);},D.reject.bind(D));}else{D.reject(M);}});});return D.promise();};d.prototype._getReservedParameters=function(m){var r=T.getParameters({injectFrom:"startupParameter"}).map(function(P){return P.name;});var R=c.extractParameters(r,m.intentParamsPlusAllDefaults);T.getParameters({injectFrom:"inboundParameter"}).forEach(function(P){var e=P.name;var o=m.inbound&&m.inbound.signature&&m.inbound.signature.parameters;if(o&&Object.keys(o).length>0){var g=o[e];var i=g&&g.defaultValue&&g.defaultValue.hasOwnProperty("value");var h=g&&g.filter&&g.filter.hasOwnProperty("value");if(g&&(h||i)){if(i){R[e]=g.defaultValue.value;}else{R[e]=g.filter.value;}}else{delete R[e];}delete m.intentParamsPlusAllDefaults[e];var j=m.defaultedParamNames.indexOf(e);if(j>=0){m.defaultedParamNames.splice(j,1);}}});return R;};d.prototype._resolveTileIntent=function(h,B,i){var o=this._getURLParsing(),t=this,D=new jQuery.Deferred(),F=h.indexOf("#")===0?h:"#"+h,e=o.parseShellHash(F);if(e===undefined){jQuery.sap.log.error("Could not parse shell hash '"+h+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return D.reject("Cannot parse shell hash").promise();}e.formFactor=u.getFormFactor();this._getMatchingInbounds(e,i,{bExcludeTileInbounds:false}).fail(function(E){jQuery.sap.log.error("Could not resolve "+h,"_getMatchingInbounds promise rejected with: "+E,"sap.ushell.services.ClientSideTargetResolution");D.reject(E);}).done(function(m){var M;if(m.length===0){jQuery.sap.log.warning("Could not resolve "+h,"no matching targets were found","sap.ushell.services.ClientSideTargetResolution");D.reject("No matching targets found");return;}M=m[0];t._resolveSingleMatchingTileIntent(M,B,F).done(D.resolve.bind(D)).fail(D.reject.bind(D));});return D.promise();};d.prototype._resolveSingleMatchingTileIntent=function(m,B,F){var D=new jQuery.Deferred(),e=(m.inbound.resolutionResult||{}).applicationType,t=this;var E;if(this._oAdapter.resolveSystemAlias){E=this._oAdapter.resolveSystemAlias.bind(this._oAdapter);}p.mapParameterNamesAndRemoveObjects(m);this._mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService("AppState")).done(function(m){var r=function(){return t._constructFallbackResolutionResult.call(t,m,B,F);};if(A[e]){r=A[e].generateResolutionResult;}delete m.intentParamsPlusAllDefaults["sap-tag"];delete m.mappedIntentParamsPlusSimpleDefaults["sap-tag"];m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(P){return P!=="sap-tag";});var g=jQuery.sap.getObject("inbound.resolutionResult.url",undefined,m);r(m,g,E).then(function(R){u.shallowMergeObject(m.resolutionResult,R);var o=jQuery.extend(true,{},m.inbound.tileResolutionResult);o.startupParameters=m.effectiveParameters;o.navigationMode=m.resolutionResult.navigationMode;if(!o.navigationMode){o.navigationMode=n.getNavigationMode(m.resolutionResult);}D.resolve(o);jQuery.sap.log.debug("Tile Intent was resolved to the following target",JSON.stringify(o,null,3),"sap.ushell.services.ClientSideTargetResolution");},function(M){D.reject(M);});});return D.promise();};d.prototype._constructFallbackResolutionResult=function(m,B,F){var e={},D;Object.keys(m.intentParamsPlusAllDefaults).forEach(function(P){if(jQuery.isArray(m.intentParamsPlusAllDefaults[P])){e[P]=m.intentParamsPlusAllDefaults[P];}});D=m.mappedDefaultedParamNames||m.defaultedParamNames;if(D.length>0){e["sap-ushell-defaultedParameterNames"]=[JSON.stringify(D)];}if(typeof B!=="function"){jQuery.sap.log.error("Cannot resolve hash fragment",F+" has matched an inbound that cannot be resolved client side and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter","sap.ushell.services.ClientSideTargetResolution");return Promise.reject("Cannot resolve hash fragment: no fallback provided.");}jQuery.sap.log.warning("Cannot resolve hash fragment client side",F+" has matched an inbound that cannot be resolved client side. Using fallback logic","sap.ushell.services.ClientSideTargetResolution");return new Promise(function(r,R){B(F,jQuery.extend(true,{},m.inbound),e).done(function(o){var g={};["applicationType","additionalInformation","url","applicationDependencies","text"].forEach(function(P){if(o.hasOwnProperty(P)){g[P]=o[P];}});r(g);}).fail(R.bind(null));});};d.prototype.getDistinctSemanticObjects=function(){var D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(i){var o={};i.getAllInbounds().forEach(function(e){if(typeof e.semanticObject==="string"&&e.semanticObject!=="*"&&!e.hideIntentLink&&e.semanticObject.length>0){o[e.semanticObject]=true;}});D.resolve(Object.keys(o).sort());},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.getLinks=function(o){var N,t=this,e,P,i,D=new jQuery.Deferred(),g;if(arguments.length===1&&jQuery.isPlainObject(arguments[0])){N=arguments[0];g=jQuery.extend(true,{},N);["action","semanticObject"].forEach(function(h){if(N.hasOwnProperty(h)){g[h]=N[h];}});if(g.appStateKey){g.params=g.params||{};g.params["sap-xapp-state"]=[g.appStateKey];delete g.appStateKey;}}else if(arguments.length<=3){jQuery.sap.log.warning("Passing positional arguments to getLinks is deprecated","Please use nominal arguments instead","sap.ushell.services.ClientSideTargetResolution");e=arguments[0];P=arguments[1];i=arguments[2];g={semanticObject:e,params:P,ignoreFormFactor:i};}else{return D.reject("invalid arguments for getLinks").promise();}this._oInboundProvider.getInbounds().then(function(h){t._getLinks(g,h).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._validateGetSemanticObjectLinksArgs=function(o){var e=o.semanticObject,g=o.action,i=!o.hasOwnProperty("action");if(typeof e!=="undefined"||i){if(typeof e!=="string"){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must be a string, got "+Object.prototype.toString.call(e)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}if(i&&e.match(/^\s+$/)){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must be a non-empty string, got '"+e+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}if(!i&&e.length===0){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must not be an empty string, got '"+e+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}}if(typeof g!=="undefined"){if(typeof g!=="string"){jQuery.sap.log.error("invalid input for _getLinks","the action must be a string, got "+Object.prototype.toString.call(g)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action";}if(g.length===0){jQuery.sap.log.error("invalid input for _getLinks","the action must not be an empty string, got '"+g+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action";}}return undefined;};d.prototype._getLinks=function(o,i){var e=o.semanticObject,g=o.action,P=o.params,w=!!o.withAtLeastOneUsedParam,t=!!o.treatTechHintAsFilter,h=o.ignoreFormFactor,j=o.hasOwnProperty("sortResultsBy")?o.sortResultsBy:"intent";if(o.hasOwnProperty("sortResultOnTexts")){jQuery.sap.log.warning("the parameter 'sortResultOnTexts' was experimantal and is no longer supported","getLinks results will be sorted by '"+j+"'","sap.ushell.services.ClientsideTargetResolution");}var k={bExcludeTileInbounds:true};var E=this._validateGetSemanticObjectLinksArgs(o);if(o.tags){k.tags=o.tags;}if(E){return new jQuery.Deferred().reject(E).promise();}if(e==="*"){return jQuery.when([]);}function m(q,P){var B=q.paramsToString(P);return B?"?"+B:"";}var q=this._getURLParsing(),D=new jQuery.Deferred(),F=u.getFormFactor(),r=q.parseParameters(m(q,P)),v={semanticObject:(e===""?undefined:e),action:g,formFactor:(h?undefined:F),params:r};if(t){v.treatTechHintAsFilter=true;}this._getMatchingInbounds(v,i,k).done(function(M){var x={},R=M.map(function(z){var B=e||z.inbound.semanticObject,G="#"+B+"-"+z.inbound.action,N;if(B==="*"){return undefined;}if(z.inbound.action==="*"){return undefined;}if(z.inbound&&z.inbound.hasOwnProperty("hideIntentLink")&&z.inbound.hideIntentLink===true){return undefined;}if(!x.hasOwnProperty(G)){x[G]={matchingInbound:z.inbound,count:1};if(z.inbound.signature.additionalParameters==="ignored"){N=c.filterObjectKeys(r,function(W){return(W.indexOf("sap-")===0)||z.inbound.signature.parameters.hasOwnProperty(W);},false);}else{N=r;}if(w){var J=Object.keys(N).some(function(W){return W.indexOf("sap-")!==0;});if(!J){x[G].hideReason="getLinks called with 'withAtLeastOneUsedParam = true', but the inbound had no business parameters defined.";return undefined;}}var K=c.inboundSignatureMeetsParameterOptions(z.inbound.signature.parameters,o.paramsOptions||[]);if(!K){x[G].hideReason="inbound signature does not meet the requested parameter filter options";return undefined;}var L={"intent":G+m(q,N),"text":z.inbound.title};if(z.inbound.icon){L.icon=z.inbound.icon;}if(z.inbound.subTitle){L.subTitle=z.inbound.subTitle;}if(z.inbound.shortTitle){L.shortTitle=z.inbound.shortTitle;}var Q=jQuery.sap.getObject("inbound.signature.parameters.sap-tag.defaultValue.value",undefined,z);if(Q){L.tags=[Q];}return L;}x[G].count++;return undefined;}).filter(function(z){return typeof z==="object";});if(j!=="priority"){R.sort(function(G,z){return G[j]<z[j]?-1:1;});}if(R.length===0){jQuery.sap.log.debug("_getLinks returned no results");}else if(jQuery.sap.log.getLevel()>=jQuery.sap.log.Level.DEBUG){if(jQuery.sap.log.getLevel()>=jQuery.sap.log.Level.TRACE){var y=[];var H=[];R.forEach(function(z){var B=z.intent.split("?")[0];if(x[B].hideReason){H.push(["-",B+"("+x[B].hideReason+")\n"," text:",z.text+"\n"," full intent:",z.intent].join(" "));}else{y.push(["-",B,x[B].count>1?"("+(x[B].count-1)+" others matched)\n":"\n","text:",z.text+"\n","full intent:",z.intent].join(" "));}});jQuery.sap.log.debug("_getLinks filtered to the following unique intents:","\n"+y.join("\n"),"sap.ushell.services.ClientSideTargetResolution");jQuery.sap.log.debug("_getLinks would have also returned the following unique intents, but something prevented this:",H.join("\n"),"sap.ushell.services.ClientSideTargetResolution");}else{jQuery.sap.log.debug("_getLinks filtered to unique intents.","Reporting histogram: \n - "+Object.keys(x).join("\n - "),"sap.ushell.services.ClientSideTargetResolution");}}D.resolve(R);}).fail(D.reject.bind(D));return D.promise();};d.prototype._getMatchingInbounds=function(o,i,e){var t=this,g,h,L,j,k,E,P,D=new jQuery.Deferred();if(e){g=e.tags;E=e.bExcludeTileInbounds;}c.whenDebugEnabled(function(){L=++t._iLogId;});l.begin(function(){function m(M){var r=M.action||(typeof M.action==="undefined"?"<any>":"<invalid-value>");var v=M.semanticObject||(typeof M.semanticObject==="undefined"?"<any>":"<invalid-value>");return t._getURLParsing().constructShellHash({semanticObject:v,action:r,params:M.params});}var q=m(o);return{logId:L,title:"Matching Intent '"+q+"' to inbounds (form factor: "+(o.formFactor||"<any>")+")",moduleName:"sap.ushell.services.ClientSideTargetResolution",stages:["STAGE1: Find matching inbounds","STAGE2: Resolve references","STAGE3: Rematch with references","STAGE4: Sort matched targets"]};});k=o.semanticObject;h=o.action;this._oShellHash=o;j=g?i.getSegmentByTags(g):i.getSegment(k,h);if(E){P=j.filter(function(m){return!m.tileResolutionResult||!m.tileResolutionResult.isCustomTile;});}else{P=j;}s.match(o,P,{},c.isDebugEnabled()).then(function(m){l.log(function(){return{logId:L,stage:1,prefix:"\u2718",lines:Object.keys(m.noMatchReasons||{}).map(function(q){return q+" "+m.noMatchReasons[q];})};});l.log(function(){var q=m.matchResults.map(function(v){return f.formatInbound(v.inbound);});return{logId:L,stage:1,prefix:q.length>0?"\u2705":"\u2718",lines:q.length>0?q:["No inbound was matched"]};});var M=Object.keys(m.missingReferences||[]);if(M.length===0){l.log(function(){return{logId:L,stage:2,prefix:"\u2705",line:"No need to resolve references"};});return new jQuery.Deferred().resolve({matchResults:m.matchResults,referencesToInclude:null}).promise();}l.log(function(){return{logId:L,stage:2,line:"@ Must resolve the following references:",prefix:"\u2022",lines:M};});var r=new jQuery.Deferred();sap.ushell.Container.getService("ReferenceResolver").resolveReferences(M).done(function(R){l.log(function(){return{logId:L,stage:2,line:"\u2705 resolved references with the following values:",prefix:"\u2022",lines:Object.keys(R).map(function(q){return q+": '"+R[q]+"'";})};});r.resolve({matchResults:m.matchResults,referencesToInclude:R});}).fail(function(q){l.log(function(){return{logId:L,stage:2,prefix:"\u274c",line:"Failed to resolve references: "+q};});D.resolve([]);});return r.promise();}).then(function(m){var M,q,r=m.referencesToInclude;if(!r){l.log(function(){return{logId:L,stage:3,line:"rematch was skipped (no references to resolve)",prefix:"\u2705"};});return new jQuery.Deferred().resolve(m).promise();}q=m.matchResults;M=q.map(function(v){return v.inbound;});return s.match(o,M,r,0).then(function(F){l.log(function(){var q=F.matchResults||[];if(q.length>=1){return{logId:L,stage:3,line:"The following inbounds re-matched:",lines:q.map(function(v){return f.formatInbound(v.inbound);}),prefix:"\u2705"};}return{logId:L,stage:3,line:"No inbounds re-matched",prefix:"-"};});return F;});}).then(function(F){var m=F.matchResults||[];if(m.length<=1){l.log(function(){return{logId:L,stage:4,line:"Nothing to sort"};});D.resolve(m);return;}var q=s.sortMatchingResultsDeterministic(F.matchResults||[]);l.log(function(){var r=q.map(function(M){return f.formatInbound(M.inbound||{})+(M.matchesVirtualInbound?" (virtual)":"")+"\n[ Sort Criteria ] "+"\n * 1 * sap-priority: '"+M["sap-priority"]+"'"+"\n * 2 * Sort string: '"+M.priorityString+"\n * 3 * Deterministic blob: '"+s.serializeMatchingResult(M)+"'";});return{logId:L,stage:4,line:"Sorted inbounds as follows:",lines:r,prefix:".",number:true};});D.resolve(q);});return D.promise().then(function(m){l.end(function(){return{logId:L};});return m;});};d.prototype._isIntentSupportedOne=function(i,o){var D=new jQuery.Deferred(),e=this._getURLParsing().parseShellHash(i);if(i==="#"){D.resolve(true);return D.promise();}if(e===undefined){return D.reject("Could not parse shell hash '"+i+"'").promise();}e.formFactor=u.getFormFactor();this._getMatchingInbounds(e,o,{bExcludeTileInbounds:true}).done(function(t){D.resolve(t.length>0);}).fail(function(){D.reject();});return D.promise();};d.prototype.isIntentSupported=function(i){var t=this,D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(o){t._isIntentSupported(i,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._isIntentSupported=function(i,o){var t=this,D=new jQuery.Deferred(),m={};D.resolve();function e(g,h){m[g]={supported:h};}var r=[];i.forEach(function(g){var N=t._isIntentSupportedOne(g,o);N.fail(function(E){r.push(E);});N.done(function(h){e(g,h);});D=jQuery.when(D,N);});var R=new jQuery.Deferred();D.done(function(){R.resolve(m);}).fail(function(){R.reject("One or more input intents contain errors: "+r.join(", "));});return R.promise();};d.prototype.getUserDefaultParameterNames=function(){var t=this,D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(i){var r;try{r=t._getUserDefaultParameterNames(i.getAllInbounds());D.resolve(r);}catch(e){D.reject("Cannot get user default parameters from inbounds: "+e);}},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._getUserDefaultParameterNames=function(i){var r={simple:{},extended:{}};i.forEach(function(t){var o=t.signature&&t.signature.parameters||[];Object.keys(o).forEach(function(P){var e=o[P],R,E,g,h;if(e){if(e.filter&&e.filter.format==="reference"){g=e.filter.value;}else if(e.defaultValue&&e.defaultValue.format==="reference"){g=e.defaultValue.value;}if(typeof g==="string"){h=sap.ushell.Container.getService("ReferenceResolver");R=h.extractUserDefaultReferenceName(g);if(typeof R==="string"){r.simple[R]={};}E=h.extractExtendedUserDefaultReferenceName(g);if(typeof E==="string"){r.extended[E]={};}}}});});return r;};d.prototype.getEasyAccessSystems=function(m){var r={},o,v,D;m=m||"sapMenu";if(this._oHaveEasyAccessSystemsDeferreds[m]){return this._oHaveEasyAccessSystemsDeferreds[m].promise();}this._oHaveEasyAccessSystemsDeferreds[m]=new jQuery.Deferred();D=this._oHaveEasyAccessSystemsDeferreds[m];function i(e,g,v){if(!e){return false;}var h=[e.semanticObject,e.action].join("-");return v[m][h]&&e.deviceTypes&&g!==undefined&&e.deviceTypes[g];}o=A.getEasyAccessMenuDefinitions().reduce(function(o,e){var E=e.easyAccessMenu.intent.split("-")[1];o[E]={appType:e.type,priority:e.easyAccessMenu.systemSelectionPriority};return o;},{});v={userMenu:A.getEasyAccessMenuDefinitions().reduce(function(e,E){var g=E.easyAccessMenu.intent;e[g]=E.easyAccessMenu.showSystemSelectionInUserMenu;return e;},{}),sapMenu:A.getEasyAccessMenuDefinitions().reduce(function(e,E){var g=E.easyAccessMenu.intent;e[g]=E.easyAccessMenu.showSystemSelectionInSapMenu;return e;},{})};this._oInboundProvider.getInbounds().then(function(e){var L={};e.getAllInbounds().filter(function(g){return i(g,u.getFormFactor(),v);}).forEach(function(E){var g;if(jQuery.isPlainObject(E.signature.parameters["sap-system"])&&E.signature.parameters["sap-system"].hasOwnProperty("filter")){g=jQuery.sap.getObject("signature.parameters.sap-system.filter.value",undefined,E);}if(typeof g==="string"){var h=o[E.action].priority;var j=o[E.action].appType;if(!r[g]){L[g]=-1;r[g]={appType:{}};}if(L[g]<h){r[g].text=E.title;L[g]=h;}r[g].appType[j]=true;}else{jQuery.sap.log.warning("Cannot extract sap-system from easy access menu inbound: "+f.formatInbound(E),"This parameter is supposed to be a string. Got '"+g+"' instead.","sap.ushell.services.ClientSideTargetResolution");}});D.resolve(r);},function(){D.reject.apply(D,arguments);});return D.promise();};d.hasNoAdapter=false;return d;},true);
sap.ui.require.preload({
	"sap/ushell/ui/fiori3/ShellHeader.fragment.xml":'<core:FragmentDefinition xmlns="sap.ushell.ui.shell" xmlns:core="sap.ui.core" xmlns:fiori3="sap.ushell.ui.fiori3"><fiori3:ShellHeader id="shell-header" showLogo="{/showLogo}" visible="{/headerVisible}" homeUri="{/rootIntent}" headItems="{path:\'/headItems\',factory:\'.shellUpdateAggItem\'}" headEndItems="{path:\'/headEndItems\',factory:\'.shellUpdateAggItem\',filters:[{path:\'\',test:\'.isHeadEndItemNotInOverflow\'}]}" centralAreaElement="{/centralAreaElement}"><fiori3:title><ShellTitle id="shellTitle" text="{/title}"/></fiori3:title><fiori3:appTitle><ShellAppTitle id="shellAppTitle" text="{/application/title}" tooltip="{i18n&gt;shellNavMenu_openMenuTooltip}"/></fiori3:appTitle></fiori3:ShellHeader></core:FragmentDefinition>',
	"sap/ushell/ui/fiori3/ShellLayout.fragment.xml":'<core:FragmentDefinition xmlns="sap.ushell.ui.shell" xmlns:core="sap.ui.core" xmlns:fiori3="sap.ushell.ui.fiori3"><ShellLayout floatingContainerVisible="false" toolAreaVisible="{/currentState/toolAreaVisible}" backgroundColorForce="false" showBrandLine="false" showAnimation="false" enableCanvasShapes="{/enableBackGroundShapes}" id="shell"><canvasSplitContainer><SplitContainer id="shell-split" showSecondaryContent="{/currentState/showPane}" subHeader="{path:\'/currentState/subHeader\',factory:\'.shellUpdateAggItem\'}" secondaryContent="{path:\'/currentState/paneContent\',factory:\'.shellUpdateAggItem\'}"><content><fiori3:AppContainer id="viewPortContainer" afterNavigate=".onAfterNavigate"/></content><secondaryContent/></SplitContainer></canvasSplitContainer><rightFloatingContainer><RightFloatingContainer id="right-floating-container" top="6.875" hideItemsAfterPresentation="true" visible="{/currentState/showRightFloatingContainer}" floatingContainerItems="{path:\'/currentState/RightFloatingContainerItems\',factory:\'.shellUpdateAggItem\'}" insertItemsWithAnimation="{path:\'/animationMode\',formatter:\'.isAnimationModeNotMinimal\'}"/></rightFloatingContainer></ShellLayout></core:FragmentDefinition>',
/*!!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
	"sap/ui/thirdparty/hasher.js":function(){;(function(){var f=function(s){var h=(function(w){var P=25,d=w.document,a=w.history,S=s.Signal,h,_,b,c,g,i,j=/#(.*)$/,k=/(\?.*)|(\#.*)/,l=/^\#/,m=(!+"\v1"),n=('onhashchange'in w)&&d.documentMode!==7,o=m&&!n,p=(location.protocol==='file:');function q(e){return String(e||'').replace(/\W/g,"\\$&");}function r(e){if(!e)return'';var D=new RegExp('^'+q(h.prependHash)+'|'+q(h.appendHash)+'$','g');return e.replace(D,'');}function t(){var D=j.exec(h.getURL());var E=(D&&D[1])||'';try{return h.raw?E:decodeURIComponent(E);}catch(e){return E;}}function u(){return(g)?g.contentWindow.frameHash:null;}function v(){g=d.createElement('iframe');g.src='about:blank';g.style.display='none';d.body.appendChild(g);}function x(){if(g&&_!==u()){var e=g.contentWindow.document;e.open();e.write('<html><head><title>'+d.title+'</title><script type="text/javascript">var frameHash="'+_+'";</script></head><body>&nbsp;</body></html>');e.close();}}function y(e,D){if(_!==e){var E=_;_=e;if(o){if(!D){x();}else{g.contentWindow.frameHash=e;}}return function(){h.changed.dispatch(r(e),r(E));};}}if(o){i=function(){var e=t(),D=u(),E;if(D!==_&&D!==e){h.setHash(r(D));}else if(e!==_){E=y(e);E&&E();}};}else{i=function(){var e=t(),D;if(e!==_){D=y(e);D&&D();}};}function z(e,D,E){if(e.addEventListener){e.addEventListener(D,E,false);}else if(e.attachEvent){e.attachEvent('on'+D,E);}}function A(e,D,E){if(e.removeEventListener){e.removeEventListener(D,E,false);}else if(e.detachEvent){e.detachEvent('on'+D,E);}}function B(e){e=Array.prototype.slice.call(arguments);var D=e.join(h.separator);D=D?h.prependHash+D.replace(l,'')+h.appendHash:D;return D;}function C(e){e=encodeURI(e);if(m&&p){e=e.replace(/\?/,'%3F');}return e;}h={VERSION:'1.2.0',raw:false,appendHash:'',prependHash:'/',separator:'/',changed:new S(),stopped:new S(),initialized:new S(),init:function(){if(c)return;_=t();if(n){z(w,'hashchange',i);}else{if(o){if(!g){v();}x();}b=setInterval(i,P);}c=true;h.initialized.dispatch(r(_));},stop:function(){if(!c)return;if(n){A(w,'hashchange',i);}else{clearInterval(b);b=null;}c=false;h.stopped.dispatch(r(_));},isActive:function(){return c;},getURL:function(){return w.location.href;},getBaseURL:function(){return h.getURL().replace(k,'');},setHash:function(e){var D;e=B.apply(null,arguments);if(e!==_){D=y(e);if(!h.raw){e=C(e);}w.location.hash='#'+e;D&&D();}},replaceHash:function(e){var D;e=B.apply(null,arguments);if(e!==_){D=y(e);if(!h.raw){e=C(e);}w.location.replace('#'+e);D&&D();}},getHash:function(){return r(_);},getHashAsArray:function(){return h.getHash().split(h.separator);},dispose:function(){h.stop();h.initialized.dispose();h.stopped.dispose();h.changed.dispose();g=h=w.hasher=null;},toString:function(){return'[hasher version="'+h.VERSION+'" hash="'+h.getHash()+'"]';}};h.initialized.memorize=true;return h;}(window));return h;};if(typeof define==='function'&&define.amd){define(['signals'],f);}else if(typeof exports==='object'){module.exports=f(require('signals'));}else{window['hasher']=f(window['signals']);}}());
},
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
	"sap/ui/thirdparty/signals.js":function(){(function(g){function S(b,l,i,c,p){this._listener=l;this._isOnce=i;this.context=c;this._signal=b;this._priority=p||0;}S.prototype={active:true,params:null,execute:function(p){var h,b;if(this.active&&!!this._listener){b=this.params?this.params.concat(p):p;h=this._listener.apply(this.context,b);if(this._isOnce){this.detach();}}return h;},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null;},isBound:function(){return(!!this._signal&&!!this._listener);},isOnce:function(){return this._isOnce;},getListener:function(){return this._listener;},getSignal:function(){return this._signal;},_destroy:function(){delete this._signal;delete this._listener;delete this.context;},toString:function(){return'[SignalBinding isOnce:'+this._isOnce+', isBound:'+this.isBound()+', active:'+this.active+']';}};function v(l,n){if(typeof l!=='function'){throw new Error('listener is a required param of {fn}() and should be a Function.'.replace('{fn}',n));}}function a(){this._bindings=[];this._prevParams=null;var b=this;this.dispatch=function(){a.prototype.dispatch.apply(b,arguments);};}a.prototype={VERSION:'1.0.0',memorize:false,_shouldPropagate:true,active:true,_registerListener:function(l,i,b,p){var c=this._indexOfListener(l,b),d;if(c!==-1){d=this._bindings[c];if(d.isOnce()!==i){throw new Error('You cannot add'+(i?'':'Once')+'() then add'+(!i?'':'Once')+'() the same listener without removing the relationship first.');}}else{d=new S(this,l,i,b,p);this._addBinding(d);}if(this.memorize&&this._prevParams){d.execute(this._prevParams);}return d;},_addBinding:function(b){var n=this._bindings.length;do{--n;}while(this._bindings[n]&&b._priority<=this._bindings[n]._priority);this._bindings.splice(n+1,0,b);},_indexOfListener:function(l,c){var n=this._bindings.length,b;while(n--){b=this._bindings[n];if(b._listener===l&&b.context===c){return n;}}return-1;},has:function(l,c){return this._indexOfListener(l,c)!==-1;},add:function(l,b,p){v(l,'add');return this._registerListener(l,false,b,p);},addOnce:function(l,b,p){v(l,'addOnce');return this._registerListener(l,true,b,p);},remove:function(l,c){v(l,'remove');var i=this._indexOfListener(l,c);if(i!==-1){this._bindings[i]._destroy();this._bindings.splice(i,1);}return l;},removeAll:function(){var n=this._bindings.length;while(n--){this._bindings[n]._destroy();}this._bindings.length=0;},getNumListeners:function(){return this._bindings.length;},halt:function(){this._shouldPropagate=false;},dispatch:function(p){if(!this.active){return;}var b=Array.prototype.slice.call(arguments),n=this._bindings.length,c;if(this.memorize){this._prevParams=b;}if(!n){return;}c=this._bindings.slice();this._shouldPropagate=true;do{n--;}while(c[n]&&this._shouldPropagate&&c[n].execute(b)!==false);},forget:function(){this._prevParams=null;},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams;},toString:function(){return'[Signal active:'+this.active+' numListeners:'+this.getNumListeners()+']';}};var s=a;s.Signal=a;if(typeof define==='function'&&define.amd){define(function(){return s;});}else{g['signals']=s;}}(this));
},
/** @license
 * crossroads <http://millermedeiros.github.com/crossroads.js/>
 * Author: Miller Medeiros | MIT License
 * v0.12.0 (2013/01/21 13:47)
 */
	"sap/ui/thirdparty/crossroads.js":function(){(function(){var f=function(s){var c,_,U;_=(/t(.+)?/).exec('t')[1]==='';function a(i,v){if(i.indexOf){return i.indexOf(v);}else{var n=i.length;while(n--){if(i[n]===v){return n;}}return-1;}}function b(l,m){var i=a(l,m);if(i!==-1){l.splice(i,1);}}function d(v,i){return'[object '+i+']'===Object.prototype.toString.call(v);}function e(v){return d(v,'RegExp');}function g(v){return d(v,'Array');}function h(v){return typeof v==='function';}function t(v){var r;if(v===null||v==='null'){r=null;}else if(v==='true'){r=true;}else if(v==='false'){r=false;}else if(v===U||v==='undefined'){r=U;}else if(v===''||isNaN(v)){r=v;}else{r=parseFloat(v);}return r;}function j(v){var n=v.length,r=[];while(n--){r[n]=t(v[n]);}return r;}function k(i,l){var q=(i||'').replace('?','').split('&'),n=q.length,o={},m,v;while(n--){m=q[n].split('=');v=l?t(m[1]):m[1];o[m[0]]=(typeof v==='string')?decodeURIComponent(v):v;}return o;}function C(){this.bypassed=new s.Signal();this.routed=new s.Signal();this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState();}C.prototype={greedy:false,greedyEnabled:true,ignoreCase:true,ignoreState:false,shouldTypecast:false,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null;},create:function(){return new C();},addRoute:function(p,i,l){var r=new R(p,i,l,this);this._sortedInsert(r);return r;},removeRoute:function(r){b(this._routes,r);r._destroy();},removeAllRoutes:function(){var n=this.getNumRoutes();while(n--){this._routes[n]._destroy();}this._routes.length=0;},parse:function(r,l){r=r||'';l=l||[];if(!this.ignoreState&&(r===this._prevMatchedRequest||r===this._prevBypassedRequest)){return;}var m=this._getMatchedRoutes(r),i=0,n=m.length,o;if(n){this._prevMatchedRequest=r;this._notifyPrevRoutes(m,r);this._prevRoutes=m;while(i<n){o=m[i];o.route.matched.dispatch.apply(o.route.matched,l.concat(o.params));o.isFirst=!i;this.routed.dispatch.apply(this.routed,l.concat([r,o]));i+=1;}}else{this._prevBypassedRequest=r;this.bypassed.dispatch.apply(this.bypassed,l.concat([r]));}this._pipeParse(r,l);},_notifyPrevRoutes:function(m,r){var i=0,p;while(p=this._prevRoutes[i++]){if(p.route.switched&&this._didSwitch(p.route,m)){p.route.switched.dispatch(r);}}},_didSwitch:function(r,m){var l,i=0;while(l=m[i++]){if(l.route===r){return false;}}return true;},_pipeParse:function(r,l){var i=0,m;while(m=this._piped[i++]){m.parse(r,l);}},getNumRoutes:function(){return this._routes.length;},_sortedInsert:function(r){var i=this._routes,n=i.length;do{--n;}while(i[n]&&r._priority<=i[n]._priority);i.splice(n+1,0,r);},_getMatchedRoutes:function(r){var i=[],l=this._routes,n=l.length,m;while(m=l[--n]){if((!i.length||this.greedy||m.greedy)&&m.match(r)){i.push({route:m,params:m._getParamsArray(r)});}if(!this.greedyEnabled&&i.length){break;}}return i;},pipe:function(o){this._piped.push(o);},unpipe:function(o){b(this._piped,o);},toString:function(){return'[crossroads numRoutes:'+this.getNumRoutes()+']';}};c=new C();c.VERSION='0.12.0';c.NORM_AS_ARRAY=function(r,v){return[v.vals_];};c.NORM_AS_OBJECT=function(r,v){return[v];};function R(p,i,l,r){var m=e(p),n=r.patternLexer;this._router=r;this._pattern=p;this._paramsIds=m?null:n.getParamIds(p);this._optionalParamsIds=m?null:n.getOptionalParamsIds(p);this._matchRegexp=m?p:n.compilePattern(p,r.ignoreCase);this.matched=new s.Signal();this.switched=new s.Signal();if(i){this.matched.add(i);}this._priority=l||0;}R.prototype={greedy:false,rules:void(0),match:function(r){r=r||'';return this._matchRegexp.test(r)&&this._validateParams(r);},_validateParams:function(r){var i=this.rules,v=this._getParamsObject(r),l;for(l in i){if(l!=='normalize_'&&i.hasOwnProperty(l)&&!this._isValidParam(r,l,v)){return false;}}return true;},_isValidParam:function(r,p,v){var i=this.rules[p],l=v[p],m=false,n=(p.indexOf('?')===0);if(l==null&&this._optionalParamsIds&&a(this._optionalParamsIds,p)!==-1){m=true;}else if(e(i)){if(n){l=v[p+'_'];}m=i.test(l);}else if(g(i)){if(n){l=v[p+'_'];}m=this._isValidArrayRule(i,l);}else if(h(i)){m=i(l,r,v);}return m;},_isValidArrayRule:function(i,v){if(!this._router.ignoreCase){return a(i,v)!==-1;}if(typeof v==='string'){v=v.toLowerCase();}var n=i.length,l,m;while(n--){l=i[n];m=(typeof l==='string')?l.toLowerCase():l;if(m===v){return true;}}return false;},_getParamsObject:function(r){var i=this._router.shouldTypecast,v=this._router.patternLexer.getParamValues(r,this._matchRegexp,i),o={},n=v.length,p,l;while(n--){l=v[n];if(this._paramsIds){p=this._paramsIds[n];if(p.indexOf('?')===0&&l){o[p+'_']=l;l=k(l,i);v[n]=l;}if(_&&l===''&&a(this._optionalParamsIds,p)!==-1){l=void(0);v[n]=l;}o[p]=l;}o[n]=l;}o.request_=i?t(r):r;o.vals_=v;return o;},_getParamsArray:function(r){var n=this.rules?this.rules.normalize_:null,p;n=n||this._router.normalizeFn;if(n&&h(n)){p=n(r,this._getParamsObject(r));}else{p=this._getParamsObject(r).vals_;}return p;},interpolate:function(r){var i=this._router.patternLexer.interpolate(this._pattern,r);if(!this._validateParams(i)){throw new Error('Generated string doesn\'t validate against `Route.rules`.');}return i;},dispose:function(){this._router.removeRoute(this);},_destroy:function(){this.matched.dispose();this.switched.dispose();this.matched=this.switched=this._pattern=this._matchRegexp=null;},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+']';}};C.prototype.patternLexer=(function(){var E=/[\\.+*?\^$\[\](){}\/'#]/g,L=/^\/|\/$/g,i=/\/$/g,P=/(?:\{|:)([^}:]+)(?:\}|:)/g,r=function(z,A,B){var D=B.lastIndexOf("__CR_RS__"),F=B.indexOf("__CR_RQ__"),G=B.indexOf("__CR_OQ__"),H=B.indexOf("\\/",A),I=Math.min(G===-1?B.length:G,F===-1?B.length:F),J=A+z.length;if(J>=I||J<D||J<H){return T.OS.res_normal;}else{return T.OS.res_arsbq;}},T={'OS':{rgx:/([:})]|\w(?=\/))\/?(:|(?:\{\?))/g,save:'$1{{id}}$2',res:r,res_normal:'\\/?',res_arsbq:'(?:(?:\\/(?=(?:[^\\/?]+)?))|^\\/?|\\/?$)'},'RS':{rgx:/([:}])\/?(\{)/g,save:'$1{{id}}$2',res:'\\/'},'RQ':{rgx:/\{\?([^}]+)\}/g,res:'\\?([^#]+)'},'OQ':{rgx:/:\?([^:]+):/g,res:'(?:\\?([^#]*))?'},'OR':{rgx:/:([^:]+)\*:/g,res:'(.*)?'},'RR':{rgx:/\{([^}]+)\*\}/g,res:'(.+)'},'RP':{rgx:/\{([^}]+)\}/g,res:'([^\\/?]+)'},'OP':{rgx:/:([^:]+):/g,res:'([^\\/?]+)?(?:\\/(?!\\/))?'}},l=1,S=2,m=3,n=l;function p(){var z,A;for(z in T){if(T.hasOwnProperty(z)){A=T[z];A.id='__CR_'+z+'__';A.save=('save'in A)?A.save.replace('{{id}}',A.id):A.id;A.rRestore=new RegExp(A.id,'g');}}}p();function o(z,A){var B=[],D;z.lastIndex=0;while(D=z.exec(A)){B.push(D[1]);}return B;}function q(z){return o(P,z);}function u(z){return o(T.OP.rgx,z);}function v(z,A){z=z||'';if(z){if(n===l){z=z.replace(L,'');}else if(n===m){z=z.replace(i,'');}z=w(z,'rgx','save');z=z.replace(E,'\\$&');z=w(z,'rRestore','res');if(n===l){z='\\/?'+z;}}if(n!==S){z+='\\/?';}return new RegExp('^'+z+'$',A?'i':'');}function w(z,A,B){var D,F;for(F in T){if(T.hasOwnProperty(F)){D=T[F];z=z.replace(D[A],D[B]);}}return z;}function x(z,A,B){var D=A.exec(z);if(D){D.shift();if(B){D=j(D);}}return D;}function y(z,A){if(typeof z!=='string'){throw new Error('Route pattern should be a string.');}var B=function(D,F){var G;F=(F.substr(0,1)==='?')?F.substr(1):F;if(A[F]!=null){if(typeof A[F]==='object'){var H=[];for(var I in A[F]){H.push(encodeURI(I+'='+A[F][I]));}G='?'+H.join('&');}else{G=String(A[F]);}if(D.indexOf('*')===-1&&G.indexOf('/')!==-1){throw new Error('Invalid value "'+G+'" for segment "'+D+'".');}}else if(D.indexOf('{')!==-1){throw new Error('The segment '+D+' is required.');}else{G='';}return G;};if(!T.OS.trail){T.OS.trail=new RegExp('(?:'+T.OS.id+')+$');}return z.replace(T.OS.rgx,T.OS.save).replace(P,B).replace(T.OS.trail,'').replace(T.OS.rRestore,'/');}return{strict:function(){n=S;},loose:function(){n=l;},legacy:function(){n=m;},getParamIds:q,getOptionalParamsIds:u,getParamValues:x,compilePattern:v,interpolate:y};}());return c;};if(typeof define==='function'&&define.amd){define(['signals'],f);}else{window['crossroads']=f(window['signals']);}}());
},
// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
	"sap/ushell/EventHub.js":function(){(function(){"use strict";var d=(!window.sap||!sap.ui||!sap.ui.define)?function(v,c){return c();}:sap.ui.define;return d([],function(){var _={pendingEvents:{},subscribers:{},dispatchOperations:{},store:c()};function c(){return{nextKey:0,objectToKey:new WeakMap(),keyToObject:{}};}function l(M,D,C){if(jQuery&&jQuery.sap&&jQuery.sap.log&&jQuery.sap.log.error){jQuery.sap.log.error(M,D,"sap.ushell.EventHub");return;}if(window.console){var o=[M,D];if(C){o.push("error caused by:");o.push(C);}window.console.error.apply(window.console,o);}}function a(o){var M="An exception was raised while executing a registered callback on event '"+o.eventName+"'";var D="Data passed to the event were: '"+o.eventData+"'";if(o.error.stack){D+=" Error details: "+o.error.stack;}l(M,D,o.fnCausedBy);}function s(o,C,D){var R;try{R=C(D);}catch(v){a({eventName:o,eventData:D,fnCausedBy:C,error:v});}return R;}function J(H){if(typeof arguments[2]==="function"){return y(H,arguments[2]);}return arguments[2];}function b(H){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return z(H,arguments[2]);}return arguments[2];}function e(H,D,P){if(typeof D==="object"||typeof D==="function"){try{var S=[D,J.bind(null,H)];if(P){S.push(3);}return JSON.stringify.apply(JSON,S);}catch(o){l(""+o,o.stack,e);}}return D;}function f(H,D){try{return JSON.parse(D,b.bind(null,H));}catch(o){return D;}}function g(H,o,S){if(!H.subscribers[o]){H.subscribers[o]=[];}H.subscribers[o].push(S);}function u(H,o,v){H.subscribers[o]=(H.subscribers[o]||[]).map(function(S){return S.filter(function(L){return L.fn!==v;});}).filter(function(G){return G.length>0;});}function h(){var D;var o=new Promise(function(R){D=R;});var v={dispatching:o,cancelled:false,cancel:function(){v.cancelled=true;},complete:function(){D();}};return v;}function i(H,o){if(!H.subscribers.hasOwnProperty(o)){return null;}var D=h();var S=H.subscribers[o];var G=S.map(function(v){return j(H,o,v,D,0);});Promise.all(G).then(D.complete,D.complete);return D;}function j(H,o,S,D,v){var O=S.length;var C=S.slice(v);return C.reduce(function(P,F,I){return P.then(function(G){if(D.cancelled){if(G){u(H,o,F.fn);}return G;}return n(H,o,F,S).then(function(K){if(K){D.cancelled=true;}return K;});});},Promise.resolve(false)).then(function(F){if(!F&&O<S.length){return j(H,o,S,D,O);}return F;});}function n(H,o,S,v){return new Promise(function(R){var D=f(H,H.pendingEvents[o]);setTimeout(function(){if(S.called&&v.offed){R(false);return;}S.called=true;var O=v.offed;s(o,S.fn,D);var C=v.offed;if(C){u(H,o,S.fn);}R(!O&&C);},0);});}function k(H,o,S){return function(){S.forEach(function(L){if(L.called){u(H,o,L.fn);}});S.offed=true;return{off:k(H,o,[])};};}function m(H,o,S){return function(C){var v={fn:C,called:false};S.push(v);if(H.pendingEvents.hasOwnProperty(o)){var D=H.dispatchOperations[o];if(!D){n(H,o,v,S);}else{D.dispatching.then(function(){if(!v.called){n(H,o,v,S);}});}}return{do:m(H,o,S),off:k(H,o,S)};};}function p(H,o){var S=[];g(H,o,S);return{do:m(H,o,S),off:k(H,o,S)};}function q(H,o){var D=p(H,o);D.off();return D;}function r(H,o,D){var S=e(H,D);if(H.pendingEvents.hasOwnProperty(o)&&H.pendingEvents[o]===S){return this;}H.pendingEvents[o]=S;var v=H.dispatchOperations[o];if(v){v.cancel();}var N=i(H,o);H.dispatchOperations[o]=N;return this;}function t(H,o){return f(H,H.pendingEvents[o]);}function w(H){var o=Array.prototype.slice.call(arguments);o.shift();var C=0;var O=new Array(o.length).join(",").split(",").map(function(){return 1;});var v=[];var D={do:function(F){o.forEach(function(G,I){G.do(function(I,V){v[I]=V;C+=O[I];O[I]=0;if(C===o.length){F.apply(null,v);}}.bind(null,I));});return{off:D.off};},off:function(){var F=o.reduce(function(F,G){return G.off();},function(){});return{off:F};}};return D;}function x(H,o){var D=H.dispatchOperations[o];return D?D.dispatching:Promise.resolve();}function y(H,o){if(H.store.objectToKey.has(o)){return H.store.objectToKey.get(o);}H.store.nextKey++;var K="<"+typeof o+">#"+H.store.nextKey;H.store.keyToObject[K]=o;H.store.objectToKey.set(o,K);return K;}function z(H,K){return H.store.keyToObject[K];}function A(H){var o={};o.emit=r.bind(o,H);o.on=p.bind(null,H);o.once=q.bind(null,H);o.last=t.bind(null,H);o.join=w.bind(null,H);o.wait=x.bind(null,H);o._reset=function(H){H.pendingEvents={};H.subscribers={};H.dispatchOperations={};H.store=c();}.bind(null,H);return o;}function B(C){var D={pendingEvents:{},subscribers:{},dispatchOperations:{},store:c()};var F=A(D);var G=f(D,e(D,C));function H(o){var v=o.charAt(0);if(v.match(/[a-zA-Z0-9]/)){throw new Error("Invalid path separator '"+v+"'. Please ensure path starts with a non alphanumeric character");}var X=o.split(v);X.shift();return X;}function I(v,o){var X=v;var Y="";if(arguments.length===2){X=o;Y=v;}return Y+"/"+X.join("/");}function K(v){return Object.prototype.toString.apply(v)==="[object Array]";}function L(v){return Object(v)!==v;}function M(v){return(K(v)?v.length:Object.keys(v).length)===0;}function N(v,X,Y,Z){var $="";var a1=v;var b1=[];Y.reduce(function(c1,d1,e1){$=I($,[d1]);a1=a1[d1];if(e1===Y.length-1){if(!L(Z)&&!L(a1)&&Object.keys(a1).length>0){var f1;var g1=Object.keys(a1).reduce(function(o,d1){o[d1]=true;return o;},{});var h1=Object.keys(Z).some(function(d1){f1=d1;var o=g1.hasOwnProperty(d1);delete g1[d1];var m1=!L(a1[d1])&&Object.keys(a1[d1]).length>0;return!o||m1;});var i1=Object.keys(g1).length>0;var j1=h1||i1;if(j1){var k1=h1?"One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '"+f1+"'.":"Some keys are missing in the event data: "+Object.keys(g1).join(", ")+".";throw new Error("Cannot write value '"+e(D,Z,true)+"' to path '"+$+"'. "+k1+" All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value");}var l1=Object.keys(Z).map(function(d1){return{serializedPath:I($,[d1]),value:Z[d1]};});Array.prototype.push.apply(b1,l1);}c1[d1]=Z;}else if(!c1.hasOwnProperty(d1)){c1[d1]=K(a1)?[]:{};}b1.push({serializedPath:$,value:c1[d1]});return c1[d1];},X);return b1;}function O(o,v){var X="";var Y=v.reduce(function(Z,$){X+="/"+$;if(K(Z)&&!$.match(/^[0-9]+$/)){throw new Error("Invalid array index '"+$+"' provided in path '"+X+"'");}if(!Z.hasOwnProperty($)){throw new Error("The item '"+$+"' from path "+X+" cannot be accessed in the object: "+e(D,Z));}return Z[$];},o);return Y;}function P(o,v,X){return v.reduce(function(Y,Z,$){var a1=$===(v.length-1);if(Y.hasOwnProperty(Z)){return Y[Z];}return a1?X:{};},o);}function Q(o,v){v.pop();var X=o;var Y=[];return v.reduce(function(Z,$){X=X[$];Y.push($);Z.push({serializedPath:I(Y),value:X});return Z;},[]);}function R(o){return o.map(function(v){var X=v.serializedPath;if(!D.subscribers.hasOwnProperty(X)||D.subscribers[X].length===0){return null;}return{path:X,value:v.value};}).filter(function(v){return!!v;});}function S(o,v){var X=H(o);O(C,X);var Y=N(C,G,X,v);Y.forEach(function(Z){F.emit(Z.serializedPath,Z.value);});}function T(o){var v=H(o);var X=O(C,v);return P(G,v,X);}function U(o){var v=H(o);var X=I(v);var Y=F.last(X);var Z=D.pendingEvents.hasOwnProperty(X);if(Z){return F.on(X);}Y=O(C,v);if(typeof Y!=="undefined"&&(L(Y)||!M(f(F,e(F,Y))))){F.emit(X,Y);}return F.on(X);}function V(o){var v=U(o);v.off();return v;}function W(o){var v=H(o);var X=Q(G,v);var Y=R(X).map(function(Z){return F.wait(Z.path,Z.value);});return Promise.all(Y.concat(F.wait(o)));}return{emit:S,on:U,once:V,last:T,wait:W,join:w.bind(null,F)};}var E=A(_);E.createChannel=B.bind(null);return E;},false);})();
}
},"sap/ushell/core-lib-preload"
);
//# sourceMappingURL=core-min-0.js.map