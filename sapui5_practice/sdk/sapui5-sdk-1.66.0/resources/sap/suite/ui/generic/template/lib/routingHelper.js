sap.ui.define(["sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/generic/app/util/ModelUtil","sap/suite/ui/generic/template/lib/CRUDHelper","sap/suite/ui/generic/template/lib/FlexibleColumnLayoutHandler","sap/suite/ui/generic/template/lib/testableHelper","sap/suite/ui/generic/template/js/AnnotationHelperReuseComponents","sap/m/MessageBox","sap/base/Log","sap/ui/model/analytics/odata4analytics"],function(F,a,M,C,b,t,A,c,L,o){"use strict";var p="---";function d(i,j,Y,Z,$){var _={};_={viewName:Y,controlId:j,controlAggregation:$};var a1=i.getTargets();a1.addTarget(Z,_);}function e(i,j){if(i.oTemplateContract.oFlexibleColumnLayoutHandler){i.oTemplateContract.oFlexibleColumnLayoutHandler.createMessagePageTargets(d.bind(null,i.oRouter,j,"sap.suite.ui.generic.template.fragments.MessagePage"));}else{d(i.oRouter,j,"sap.suite.ui.generic.template.fragments.MessagePage","messagePage","pages");}}function E(i,j,Y){var Z=i[j];if(!Z){Z={draftSpec:"OData",level:0,children:[]};for(var $ in i){var _=i[$];if(_.level===1){Z.children.push($);break;}}i[j]=Z;}if(Z.hasOwnProperty("isDraft")){return;}if(Z.draftSpec==="parent"){if(Z.parent){E(i,Z.parent,Y);var a1=i[Z.parent];Z.isDraft=a1.isDraft;}else if(Z.level===1){for(var b1 in i){var c1=i[b1];if(c1.level===0){Z.isDraft=c1.isDraft;return;}}}return;}if(Z.draftSpec==="OData"){var d1=Y.getDraftContext();Z.isDraft=d1.isDraftEnabled(j);return;}Z.isDraft=Z.draftSpec;}function f(i,j){var Y=i.oAppComponent.getModel();var Z=Y.getMetaModel();Z.loaded().then(function(){var $=i.oTemplateContract.mEntityTree;var _=i.oAppComponent.getTransactionController().getDraftController();E($,j.entitySet,_);for(var a1 in $){E($,a1,_);}});}function g(i){var j=i.oTemplateContract.oNavigationHost.getId();var Y=i.oAppComponent.getConfig();if(!Y.pages||!Y.pages.length){throw new Error("Route Configuration missing");}if(Y.pages.length>1){throw new Error("Currently only one Top route supported");}var Z=Y.pages[0];i.oTemplateContract.mEntityTree=Object.create(null);i.oTemplateContract.mRoutingTree=Object.create(null);var $={sRouteName:"root",page:Z,pattern:"",contextPath:"",level:0,fCLLevel:0,children:[],headerTitle:i.oAppComponent.getManifestEntry("sap.app").title};var _=u([],Z,"root",$,null,i,j);i.oRouter.addRoute(_);i.oTemplateContract.mRoutingTree.root=$;n(_,i);h("root",Z,0,null,$,i,j,$.children);e(i,j);f(i,_);return Z.entitySet;}function h(j,Y,Z,$,_,a1,b1,c1,d1,e1){var i,f1;if(Y.pages){f1=Y.pages.length;for(i=0;i<f1;i++){m(j,Y.pages[i],(Z+1),$,_,a1,b1,c1,d1,e1||0);}}}function H(i,j,Y,Z,$,_,a1,b1,c1){var d1=Z.target;var e1={pages:j.pages};var f1={pattern:Z.pattern+"/"+i,entitySet:Z.entitySet,name:Z.name,contextPath:Z.contextPath,patternDelimiter:p,embeddedComponent:i};var g1={pattern:Z.pattern+"/"+i,patternDelimiter:p,contextPath:Z.contextPath};h(d1,e1,Y,f1,g1,$,_,a1,b1,c1);}function k(i,j,Y,Z,$,_,a1,b1,c1,d1){var e1={};var f1={key:a1,componentName:b1.componentName,componentUsage:b1.componentUsage,hiddenByDefault:b1.hiddenByDefault,containerId:c1,sectionId:d1,pages:b1.pages||[],children:[],communicationObject:e1};i.embeddedComponents[a1]=f1;if(b1.pages){H(a1,b1,j,Y,Z,$,f1.children,e1,_);}}function l(i,j,Y,Z,$,_,a1){i.embeddedComponents=Object.create(null);if(j.implementingComponent){k(i,Y,Z,$,_,a1,"implementation",j.implementingComponent,"template::ImplementingComponent");}else if(j.embeddedComponents){for(var b1 in j.embeddedComponents){var c1=j.embeddedComponents[b1];k(i,Y,Z,$,_,a1,b1,c1,A.formatIdComponentContainer(c1),A.formatIdComponentSection(c1));}}}function m(i,j,Y,Z,$,_,a1,b1,c1,d1){if(j.component){var e1=_.oTemplateContract.oFlexibleColumnLayoutHandler?_.oTemplateContract.oFlexibleColumnLayoutHandler.getMaxColumnCountInFCL():1;var f1=(e1===1)||(j.defaultLayoutType==="OneColumn")?0:d1+1;var g1={parent:Z&&Z.entitySet,parentRoute:Z?Z.name:"root",parentEmbeddedComponent:Z&&Z.embeddedComponent,entitySet:j.entitySet,navigationProperty:j.navigationProperty,level:Y,fCLLevel:f1>=e1?3:f1,children:[],communicationObject:c1,page:j,defaultLayoutType:j.defaultLayoutType,noKey:j.routingSpec&&j.routingSpec.noKey,noOData:j.routingSpec&&j.routingSpec.noOData,draftSpec:j.routingSpec?j.routingSpec.draftSpec||"parent":"OData"};s(g1,$);if(g1.noOData){r(g1,$);}else{S(g1,_);}var h1=u(i,j,j.component.list?"aggregation":"detail",g1,Z,_,a1);g1.sRouteName=h1.name;if(b1){b1.push(h1.entitySet);}_.oTemplateContract.mRoutingTree[h1.name]=g1;var i1=_.oTemplateContract.mEntityTree[h1.entitySet];if(!i1||i1.level>g1.level){_.oTemplateContract.mEntityTree[h1.entitySet]=g1;}_.oRouter.addRoute(h1);n(h1,_);q(_,g1,j);h(h1.target,j,Y,h1,g1,_,a1,g1.children,c1,f1);l(g1,j,Y,h1,_,a1,f1);}}function n(i,j){var Y=jQuery.extend({},i);Y.name=i.name+"query";Y.pattern=i.pattern+"{?query}";j.oRouter.addRoute(Y);}function q(i,j,Y){if(j.noOData){j.headerTitle=Y.routingSpec.headerTitle;j.titleIconUrl=Y.routingSpec.titleIconUrl;}else{var Z=i.oAppComponent.getModel();var $=Z.getMetaModel();$.loaded().then(function(){var _=$.getODataEntitySet(j.entitySet);var a1=$.getODataEntityType(_.entityType);var b1=a1["com.sap.vocabularies.UI.v1.HeaderInfo"];var c1=(b1&&b1.TypeName&&b1.TypeName.String)||"";if(c1.substr(0,7)==="{@i18n>"){var d1=c1.substring(1,c1.length-1);var e1=d1.split(">");c1=i.oAppComponent.getModel(e1[0]).getResourceBundle().getText(e1[1]);}j.headerTitle=c1;var f1=(b1&&b1.Title&&b1.Title.IconUrl&&b1.Title.IconUrl.String)||"";j.titleIconUrl=f1;});}}function s(i,j){if(i.level===0){i.pattern="";return;}var Y=(i.level===1)?i.page.entitySet:i.page.navigationProperty;var Z=i.noKey?"":"({keys"+i.level+"})";i.pattern=Y+Z;if(j&&j.pattern){i.pattern=j.pattern+(j.patternDelimiter||"/")+i.pattern;}}function S(i,j){if(j.oTemplateContract.bCreateRequestsCanonical){i.contextPath="/"+i.entitySet+"({keys"+i.level+"})";}else{i.contextPath="/"+i.pattern;}}function r(i,j){i.contextPath=j.contextPath+(i.page.routingSpec.binding?("/"+i.page.routingSpec.binding):"");}function u(i,j,Y,Z,$,_,a1){var b1=Z.level;var c1=jQuery.isArray(i)?i:[i];var d1,e1;d1=(b1===1)?j.entitySet:j.navigationProperty;e1=jQuery.extend({},j);e1.path="/"+j.entitySet;e1.operation=Y;e1.viewLevel=b1;e1.template=j.component?(j.component.name||j.component):j.template;switch(Y){case"root":e1.name="root";break;case"aggregation":e1.name=d1+"~aggregation";break;default:e1.name=d1;break;}if($){e1.name=$.name+"/"+($.embeddedComponent?$.embeddedComponent+"/":"")+e1.name;e1.parentEntitySet=$.entitySet;}var f1;var g1=e1.name;if(_.oTemplateContract.oFlexibleColumnLayoutHandler){f1=_.oTemplateContract.oFlexibleColumnLayoutHandler.adaptRoutingInfo(e1,g1,c1,Z);}else{f1="pages";e1.target=g1;}d(_.oRouter,a1,e1.name,g1,f1);var h1=new Promise(function(i1){_.mRouteToComponentResolve[e1.name]=i1;});_.oTemplateContract.mRouteToTemplateComponentPromise[e1.name]=h1;e1.pattern=Z.pattern;e1.contextPath=Z.contextPath;return e1;}function I(i,j){var Y;if(!i.oHashChanger.getHash()){Y="";if(j&&j.route&&j.route.length===1){Y=j.route[0];i.navigate(Y,true);}}i.oRouter.initialize();i.fnInitializationResolve();}function B(j,Y,Z,$){var i,_,a1,b1,c1=[],d1;_=Z.length;for(i=0;i<_;i++){a1=Z[i].PropertyPath;b1=$[a1][0];c1.push(new F(a1,a.EQ,b1));}if(j.oAppComponent.getTransactionController().getDraftController().getDraftContext().isDraftEnabled(Y)){var e1=new F({filters:[new F("IsActiveEntity","EQ",false),new F("SiblingEntity/IsActiveEntity","EQ",null)],and:false});c1.push(e1);}d1=new F(c1,true);return d1;}function R(j,Y,Z){var $="/"+Y;try{var _=new o.Model(o.Model.ReferenceByModel(j));var a1=_.findQueryResultByName(Y);var b1=new o.QueryResultRequest(a1);var c1=a1&&a1.getParameterization();var d1=false;if(c1){b1.setParameterizationRequest(new o.ParameterizationRequest(c1));var e1=c1.getAllParameterNames();jQuery.each(e1,function(){if(Z.hasOwnProperty(this)){d1=true;b1.getParameterizationRequest().setParameterValue(this,Z[this][0]);}});for(var i=0;i<e1.length;i++){if(e1[i].startsWith("P_")){var f1=e1[i].substr(2);if(Z.hasOwnProperty(f1)){d1=true;b1.getParameterizationRequest().setParameterValue(e1[i],Z[f1][0]);}}}if(d1){$=b1.getURIToQueryResultEntitySet();}}}catch(g1){L.info(g1.name+":"+g1.message);}return $;}function v(i,j,Y,Z,$){return new Promise(function(_,a1){var b1=R(Y,i,Z);Y.read(b1,{filters:[j],success:function(c1){var d1=x(c1,Y,Z);if(d1){var e1=Y.getKey(d1);if(e1){_({"status":"success","value":e1,"iLevel":$});}}_({"status":"noData"});},error:function(){_({"status":"error"});}});});}function w(j,Y,Z,$,_,a1,b1){var c1=[],d1,e1,f1;var g1=new Promise(function(h1){h1({"status":"success","value":b1,"iLevel":0});});if(Z&&$&&_){if(a1.aNavigablePages){for(var i=0;i<a1.aNavigablePages.length;i++){if(a1.aNavigablePages&&a1.aNavigablePages[i]&&a1.aNavigablePages[i].bNavigationWithTechnicalKeyPossible){c1.push(g1);continue;}d1=a1.aNavigablePages[i];e1=B(j,d1.sEntitySet,d1.aSemanticKey,$);f1=v(d1.sEntitySet,e1,_,$,d1.iLevel);c1.push(f1);}}return Promise.all(c1).then(function(h1){if(h1[0]&&h1[0].status&&h1[0].status==="success"){var i,i1="",j1;for(i=0;i<h1.length;i++){if(h1[i]&&h1[i].status&&h1[i].status==="success"){j1=h1[i].value;if(i>0){j1=j1.replace(a1.aNavigablePages[i].sEntitySet,a1.aNavigablePages[i].sNavigationProperty);j1='/'+j1;}i1=i1.concat(j1);continue;}else{break;}}j.navigate(i1,true);}I(j,$);});}}function x(Y,Z,$){var _,i,a1,b1;if(Y&&Y.results){a1=Y.results.length;if(a1===0){b1=null;}else if(a1===1){b1=Y.results[0];}else if(a1>=1){var c1=[];var d1=[];for(i=0;i<a1;i++){_=Y.results[i];if(_&&_.IsActiveEntity){d1.push(_);}else if(_&&_.IsActiveEntity===false){c1.push(_);}}if(d1.length===0&&c1.length>=2){var e1;for(var j=0;j<c1.length;j++){e1=c1[j];if(e1.DraftUUID===($.DraftUUID&&$.DraftUUID[0])){b1=e1;break;}}if(!b1){b1=c1[0];}}else if(d1.length===1&&c1.length>=1){b1=d1[0];}}}return b1;}function y(i,j){if((i&&j)||(j==="display")){return{mode:"unsupported"};}var Y={mode:"display",force:"false"};Y.mode=j||i||Y.mode;Y.force=!!j;return Y;}function D(j,Y,Z,$,_){var a1=jQuery.extend({},$);O(j.getMetaModel(),Z,a1);var b1=J(j,Y,Z,a1,_);if(b1.aNavigablePages&&b1.aNavigablePages[0]&&b1.aNavigablePages[0].aSemanticKey&&b1.aNavigablePages[0].iLevel===0){w(Y,Z,b1.aNavigablePages[0].aSemanticKey,a1,j,b1);return;}else if(b1.aNavigablePages&&b1.aNavigablePages[0]&&b1.aNavigablePages[0].bNavigationWithTechnicalKeyPossible){if($.IsActiveEntity&&$.IsActiveEntity[0]==="false"&&$.DraftUUID&&$.DraftUUID[0]!==""){var c1=[];for(var i=0;i<b1.aNavigablePages[0].aTechnicalKey.length;i++){var d1=b1.aNavigablePages[0].aTechnicalKey[i]&&b1.aNavigablePages[0].aTechnicalKey[i].name;if(d1==="DraftUUID"||d1==="IsActiveEntity"){continue;}if(a1.hasOwnProperty(d1)){c1.push({PropertyPath:d1});}}var e1=j.createKey(Z,a1);w(Y,Z,c1,a1,j,b1,e1);return;}var e1=j.createKey(Z,a1);if(e1){if(b1){var c1=[];for(var i=0;i<b1.aNavigablePages[0].aTechnicalKey.length;i++){var d1=b1.aNavigablePages[0].aTechnicalKey[i]&&b1.aNavigablePages[0].aTechnicalKey[i].name;if(d1==="DraftUUID"||d1==="IsActiveEntity"){continue;}if(a1.hasOwnProperty(d1)){c1.push({PropertyPath:d1});}}w(Y,Z,c1,a1,j,b1,e1);return;}Y.navigate(e1,true);}}I(Y,$);}function z(j,Y){var i,Z,$=false,_,a1;if(Y&&j){Z=j.length;for(i=0;i<Z;i++){$=true;_=j[i];a1=_.name||_.PropertyPath;if(!Y[a1]||Y[a1].length>1){$=false;break;}}}return $;}function G(j,Y,Z,$,_,a1){var b1,c1,d1,e1,f1,g1,h1;for(var i=0;i<$.length;i++){g1=$[i];if(g1&&g1.navigation&&g1.navigation[Z.mode]){continue;}c1=j.getMetaModel().getODataEntitySet(g1.entitySet);d1=g1.component&&g1.component.settings&&g1.component.settings.allowDeepLinking;if(!c1||!(_===0||d1)){continue;}e1=j.getMetaModel().getODataEntityType(c1.entityType);f1=e1["com.sap.vocabularies.Common.v1.SemanticKey"];b1={};h1={};if(f1&&z(f1,Y)){b1["sEntitySet"]=g1.entitySet;b1["aSemanticKey"]=f1;b1["sNavigationProperty"]=g1.navigationProperty;b1["iLevel"]=_;a1.push(b1);}else{if(e1.key.propertyRef&&(_===0)&&z(e1.key.propertyRef,Y)){h1.bNavigationWithTechnicalKeyPossible=z(e1.key.propertyRef,Y);h1.aTechnicalKey=e1.key.propertyRef;a1.push(h1);}}if(g1.pages){G(j,Y,Z,g1.pages,++_,a1);}else{break;}}return a1;}function J(i,j,Y,Z,$){var _={},a1=[],b1=[];var c1=j.oAppComponent.getConfig();a1=c1.pages&&c1.pages[0]&&c1.pages[0].pages;if(!a1){return{};}b1=G(i,Z,$,a1,0,b1);_.aNavigablePages=b1;return _;}function P(i){var j=i.oAppComponent.getModel("_templPrivGlobal");j.setProperty("/generic/forceFullscreenCreate",true);}function T(Y,Z,$){var _,a1,b1,c1,d1,e1,i,f1,j,g1,h1;if(jQuery.isEmptyObject($)){return;}_=Y&&Y.getMetaModel();a1=_&&_.getODataEntitySet(Z);b1=a1&&a1.entityType;c1=_&&_.getODataEntityType(b1);d1=c1&&c1.property;e1=[];h1=d1&&d1.length;for(i=0;i<h1;i++){f1=d1[i];if(f1["type"]==="Edm.Guid"){e1.push(f1["name"]);}}for(j=0;j<e1.length;j++){if(!$[e1[j]]){continue;}g1=$[e1[j]][0];g1=g1.toLowerCase().replace(/(guid')([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})(')/,"$2");if(!g1.match(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/)){g1=g1.replace(/([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})/,"$1-$2-$3-$4-$5");}$[e1[j]][0]=g1;}}function K(i){var j=i.oAppComponent.getConfig();var Y=j.settings;var Z=Y&&Y.inboundParameters;var $=[];if(Z){Object.keys(Z).forEach(function(_){if(Z[_].useForCreate){$.push(_);}});}return $;}function N(j,Y){var Z;var $=K(j);for(var i=0;i<$.length;i++){var _=$[i];var a1=Y[_];if(a1&&a1.length===1){Z=Z||Object.create(null);Z[_]=a1[0];}}return Z;}function O(i,j,Y){var Z=i.getODataEntityType(i.getODataEntitySet(j).entityType);Z.property.forEach(function($){if($["com.sap.vocabularies.Common.v1.EditableFieldFor"]){var _=$["com.sap.vocabularies.Common.v1.EditableFieldFor"].String;var a1=$.name;if(Y[_]&&!Y[a1]){Y[a1]=Y[_];}if(Y[a1]&&!Y[_]){Y[_]=Y[a1];}}});}function Q(j,Y,Z){var $=j.oAppComponent.getConfig();var _;_=j.oAppComponent.getModel();_.attachMetadataFailed(j.fnInitializationResolve);_.getMetaModel().loaded().then(function(){var a1;T(_,Y,Z);var b1=Z.preferredMode&&Z.preferredMode[0];var c1=Z.mode&&Z.mode[0];var d1=y(b1,c1);switch(d1.mode){case"create":P(j);var e1=($.pages[0]&&$.pages[0].component&&$.pages[0].component.settings&&$.pages[0].component.settings.creationEntitySet);Y=e1||Y;var f1=N(j,Z);var g1=C.create(j.oAppComponent.getTransactionController().getDraftController(),Y,"/"+Y,_,j.oTemplateContract.oApplicationProxy.setEditableNDC,f1);g1.then(function(i){j.navigateToContext(i,"",true,4).then(I.bind(null,j,Z));},function(i){I(j,Z);j.navigateToMessagePage({title:j.oTemplateContract.getText("ST_GENERIC_ERROR_TITLE"),text:i.messageText,description:"",icon:"sap-icon://message-error"});});j.oTemplateContract.oBusyHelper.setBusy(g1,true);break;case"createWithContext":P(j);var h1=new Promise(function(m1,n1){var o1=function(u1){n1();I(j,Z);j.navigateToMessagePage({title:j.oTemplateContract.getText("ST_ERROR"),text:(u1&&u1.messageText)||j.oTemplateContract.getText("ST_GENERIC_UNKNOWN_NAVIGATION_TARGET"),icon:"sap-icon://message-error",description:""});};a1=_.getMetaModel().getODataEntitySet(Y);var p1=a1["com.sap.vocabularies.Common.v1.DraftRoot"];if(p1&&p1.NewAction){var q1=_.getMetaModel().getODataFunctionImport(p1.NewAction.String.split("/")[1]);var r1={};if(q1){var s1=q1.parameter?q1.parameter.length:0;for(var i=0;i<s1;i++){var t1=q1.parameter[i];if(t1.mode==="In"&&Z[t1.name]&&Z[t1.name][0]){r1[t1.name]=Z[t1.name][0];}}_.callFunction("/"+q1.name,{success:function(u1,v1){var w1=new M(_);var x1=w1.getContextFromResponse(u1);if(x1){m1();j.navigateToContext(x1,null,true,4).then(I.bind(null,j,Z));}else{o1();}},error:o1,method:"POST",urlParameters:r1});}else{o1();}}else{o1();}});j.oTemplateContract.oBusyHelper.setBusy(h1,true);break;case"edit":var i1=jQuery.extend({},Z);O(_.getMetaModel(),Y,i1);var j1=J(_,j,Y,i1,d1);if(j1.aNavigablePages&&j1.aNavigablePages[0]&&(j1.aNavigablePages[0].bNavigationWithTechnicalKeyPossible||(j1.aNavigablePages[0].aSemanticKey&&j1.aNavigablePages[0].iLevel===0))){var k1="";var l1;if(j1.aNavigablePages[0].bNavigationWithTechnicalKeyPossible){k1=_.createKey(Y,i1);l1=C.edit(j.oAppComponent.getTransactionController(),Y,"/"+k1,_,j.oTemplateContract,j.fnInitializationResolve);}else if(j1.aNavigablePages&&j1.aNavigablePages[0]&&j1.aNavigablePages[0].aSemanticKey&&j1.aNavigablePages[0].iLevel===0){k1="";l1=C.edit(j.oAppComponent.getTransactionController(),Y,k1,_,j.oTemplateContract,j.fnInitializationResolve,j1.aNavigablePages[0].aSemanticKey,i1);}l1.then(function(i){j.navigate(i.context.getPath(),true);I(j);},function(i){if(i.lockedByUser){if(!d1.force){D(_,j,Y,Z,d1);}else{j.fnInitializationResolve();j.navigateToMessagePage({title:j.oTemplateContract.getText("LOCKED_OBJECT_POPOVER_TITLE"),text:j.oTemplateContract.getText("LOCKED_OBJECT_POPOVER_TITLE"),description:j.oTemplateContract.getText("ST_GENERIC_LOCKED_OBJECT_POPOVER_TEXT",[i.lockedByUser]),icon:"sap-icon://message-error",replaceURL:true});}}else if(i.draftAdminReadResponse){I(j,Z);}else{var m1=j.oTemplateContract.getText("ST_GENERIC_ERROR_NOT_AUTORIZED_EDIT");c.warning(m1,{onClose:function(n1){D(_,j,Y,Z,{mode:"display",force:false});}});}});}else{I(j,Z);}break;case"display":D(_,j,Y,Z,d1);break;default:j.fnInitializationResolve();j.navigateToMessagePage({title:j.oTemplateContract.getText("ST_GENERIC_ERROR_TITLE"),text:j.oTemplateContract.getText("ST_GENERIC_ERROR_TITLE"),description:j.oTemplateContract.getText("PARAMETER_COMBINATION_NOT_SUPPORTED",[c1,b1]),icon:"sap-icon://message-error",replaceURL:true});}});}function U(i){var j=i.oAppComponent.getConfig();if(j.settings&&j.settings.flexibleColumnLayout){i.oTemplateContract.oFlexibleColumnLayoutHandler=new b(i.oTemplateContract.oNavigationHost,i);}var Y=g(i);var Z=i.oAppComponent.getComponentData();var $=Z&&Z.startupParameters;if(Y&&$&&!i.oHashChanger.getHash()){Q(i,Y,$);}else{I(i);}}function V(i,j,Y){if(i.level===0){return null;}var Z=Y?i.pattern:i.contextPath;if(!Z){return null;}if(Z.indexOf("/")!==0){Z="/"+Z;}var $=j.getParameter("arguments");if($){for(var _ in $){if(_!=="?query"){Z=Z.replace("{"+_+"}",$[_]);}}return Z;}}function W(i,j){var Y,Z,$;Y=i.getPath().substring(1);Z=Y.split("(");$=Z[0];var _=Z[1].substring(0,Z[1].length-1);if(j){Y=Y.replace($,j);if(Y.indexOf("/")===0){Y=Y.substring(1);}}return{entitySet:$,path:Y,key:_};}function X(){return p;}var g=t.testableStatic(g,"routingHelpergenerateRoutingMetadataAndGetRootEntitySet");var I=t.testableStatic(I,"routingHelper_initialiseRouting");var w=t.testableStatic(w,"routingHelper_readObject");var Q=t.testableStatic(Q,"routingHelper_processStartupParameters");var T=t.testableStatic(T,"routingHelper_transformStartupGuidParameters");return{startupRouter:U,determinePath:V,determineNavigationPath:W,getPatternDelimiter:X,readObjectProcessResults:x};});
